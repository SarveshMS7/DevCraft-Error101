var kx=Object.defineProperty;var jx=(e,t,n)=>t in e?kx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ul=(e,t,n)=>jx(e,typeof t!="symbol"?t+"":t,n);function Ex(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function tg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ng={exports:{}},Oa={},rg={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $i=Symbol.for("react.element"),Cx=Symbol.for("react.portal"),Tx=Symbol.for("react.fragment"),Px=Symbol.for("react.strict_mode"),Nx=Symbol.for("react.profiler"),Rx=Symbol.for("react.provider"),Ax=Symbol.for("react.context"),Ox=Symbol.for("react.forward_ref"),Lx=Symbol.for("react.suspense"),Ix=Symbol.for("react.memo"),Dx=Symbol.for("react.lazy"),Mh=Symbol.iterator;function Mx(e){return e===null||typeof e!="object"?null:(e=Mh&&e[Mh]||e["@@iterator"],typeof e=="function"?e:null)}var sg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ig=Object.assign,og={};function cs(e,t,n){this.props=e,this.context=t,this.refs=og,this.updater=n||sg}cs.prototype.isReactComponent={};cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ag(){}ag.prototype=cs.prototype;function Bu(e,t,n){this.props=e,this.context=t,this.refs=og,this.updater=n||sg}var Wu=Bu.prototype=new ag;Wu.constructor=Bu;ig(Wu,cs.prototype);Wu.isPureReactComponent=!0;var $h=Array.isArray,lg=Object.prototype.hasOwnProperty,qu={current:null},cg={key:!0,ref:!0,__self:!0,__source:!0};function ug(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)lg.call(t,r)&&!cg.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:$i,type:e,key:i,ref:o,props:s,_owner:qu.current}}function $x(e,t){return{$$typeof:$i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hu(e){return typeof e=="object"&&e!==null&&e.$$typeof===$i}function Ux(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uh=/\/+/g;function dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ux(""+e.key):t.toString(36)}function Ro(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $i:case Cx:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+dl(o,0):r,$h(s)?(n="",e!=null&&(n=e.replace(Uh,"$&/")+"/"),Ro(s,t,n,"",function(c){return c})):s!=null&&(Hu(s)&&(s=$x(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Uh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",$h(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+dl(i,a);o+=Ro(i,t,n,l,s)}else if(l=Mx(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+dl(i,a++),o+=Ro(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Qi(e,t,n){if(e==null)return e;var r=[],s=0;return Ro(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Vx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fe={current:null},Ao={transition:null},Fx={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Ao,ReactCurrentOwner:qu};function dg(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Qi,forEach:function(e,t,n){Qi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qi(e,function(){t++}),t},toArray:function(e){return Qi(e,function(t){return t})||[]},only:function(e){if(!Hu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=cs;q.Fragment=Tx;q.Profiler=Nx;q.PureComponent=Bu;q.StrictMode=Px;q.Suspense=Lx;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fx;q.act=dg;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ig({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=qu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)lg.call(t,l)&&!cg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:$i,type:e.type,key:s,ref:i,props:r,_owner:o}};q.createContext=function(e){return e={$$typeof:Ax,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Rx,_context:e},e.Consumer=e};q.createElement=ug;q.createFactory=function(e){var t=ug.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:Ox,render:e}};q.isValidElement=Hu;q.lazy=function(e){return{$$typeof:Dx,_payload:{_status:-1,_result:e},_init:Vx}};q.memo=function(e,t){return{$$typeof:Ix,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Ao.transition;Ao.transition={};try{e()}finally{Ao.transition=t}};q.unstable_act=dg;q.useCallback=function(e,t){return Fe.current.useCallback(e,t)};q.useContext=function(e){return Fe.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Fe.current.useDeferredValue(e)};q.useEffect=function(e,t){return Fe.current.useEffect(e,t)};q.useId=function(){return Fe.current.useId()};q.useImperativeHandle=function(e,t,n){return Fe.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Fe.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Fe.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Fe.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Fe.current.useReducer(e,t,n)};q.useRef=function(e){return Fe.current.useRef(e)};q.useState=function(e){return Fe.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Fe.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Fe.current.useTransition()};q.version="18.3.1";rg.exports=q;var y=rg.exports;const Vt=tg(y),Ku=Ex({__proto__:null,default:Vt},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx=y,Bx=Symbol.for("react.element"),Wx=Symbol.for("react.fragment"),qx=Object.prototype.hasOwnProperty,Hx=zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kx={key:!0,ref:!0,__self:!0,__source:!0};function hg(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)qx.call(t,r)&&!Kx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Bx,type:e,key:i,ref:o,props:s,_owner:Hx.current}}Oa.Fragment=Wx;Oa.jsx=hg;Oa.jsxs=hg;ng.exports=Oa;var u=ng.exports,pc={},fg={exports:{}},st={},pg={exports:{}},mg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,I){var z=N.length;N.push(I);e:for(;0<z;){var H=z-1>>>1,ce=N[H];if(0<s(ce,I))N[H]=I,N[z]=ce,z=H;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var I=N[0],z=N.pop();if(z!==I){N[0]=z;e:for(var H=0,ce=N.length,$t=ce>>>1;H<$t;){var Et=2*(H+1)-1,cl=N[Et],Dn=Et+1,Xi=N[Dn];if(0>s(cl,z))Dn<ce&&0>s(Xi,cl)?(N[H]=Xi,N[Dn]=z,H=Dn):(N[H]=cl,N[Et]=z,H=Et);else if(Dn<ce&&0>s(Xi,z))N[H]=Xi,N[Dn]=z,H=Dn;else break e}}return I}function s(N,I){var z=N.sortIndex-I.sortIndex;return z!==0?z:N.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,w=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=N)r(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(c)}}function _(N){if(b=!1,v(N),!w)if(n(l)!==null)w=!0,fe(S);else{var I=n(c);I!==null&&J(_,I.startTime-N)}}function S(N,I){w=!1,b&&(b=!1,m(E),E=-1),p=!0;var z=f;try{for(v(I),h=n(l);h!==null&&(!(h.expirationTime>I)||N&&!M());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var ce=H(h.expirationTime<=I);I=e.unstable_now(),typeof ce=="function"?h.callback=ce:h===n(l)&&r(l),v(I)}else r(l);h=n(l)}if(h!==null)var $t=!0;else{var Et=n(c);Et!==null&&J(_,Et.startTime-I),$t=!1}return $t}finally{h=null,f=z,p=!1}}var k=!1,j=null,E=-1,P=5,C=-1;function M(){return!(e.unstable_now()-C<P)}function A(){if(j!==null){var N=e.unstable_now();C=N;var I=!0;try{I=j(!0,N)}finally{I?ne():(k=!1,j=null)}}else k=!1}var ne;if(typeof g=="function")ne=function(){g(A)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,re=$.port2;$.port1.onmessage=A,ne=function(){re.postMessage(null)}}else ne=function(){x(A,0)};function fe(N){j=N,k||(k=!0,ne())}function J(N,I){E=x(function(){N(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,fe(S))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var z=f;f=I;try{return N()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,I){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=f;f=N;try{return I()}finally{f=z}},e.unstable_scheduleCallback=function(N,I,z){var H=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,N){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=z+ce,N={id:d++,callback:I,priorityLevel:N,startTime:z,expirationTime:ce,sortIndex:-1},z>H?(N.sortIndex=z,t(c,N),n(l)===null&&N===n(c)&&(b?(m(E),E=-1):b=!0,J(_,z-H))):(N.sortIndex=ce,t(l,N),w||p||(w=!0,fe(S))),N},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(N){var I=f;return function(){var z=f;f=I;try{return N.apply(this,arguments)}finally{f=z}}}})(mg);pg.exports=mg;var Gx=pg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=y,nt=Gx;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gg=new Set,ii={};function dr(e,t){Zr(e,t),Zr(e+"Capture",t)}function Zr(e,t){for(ii[e]=t,e=0;e<t.length;e++)gg.add(t[e])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mc=Object.prototype.hasOwnProperty,Yx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vh={},Fh={};function Xx(e){return mc.call(Fh,e)?!0:mc.call(Vh,e)?!1:Yx.test(e)?Fh[e]=!0:(Vh[e]=!0,!1)}function Qx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zx(e,t,n,r){if(t===null||typeof t>"u"||Qx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gu=/[\-:]([a-z])/g;function Ju(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gu,Ju);Re[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gu,Ju);Re[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gu,Ju);Re[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yu(e,t,n,r){var s=Re.hasOwnProperty(t)?Re[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zx(t,n,s,r)&&(n=null),r||s===null?Xx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=Jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zi=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),Xu=Symbol.for("react.strict_mode"),gc=Symbol.for("react.profiler"),yg=Symbol.for("react.provider"),vg=Symbol.for("react.context"),Qu=Symbol.for("react.forward_ref"),yc=Symbol.for("react.suspense"),vc=Symbol.for("react.suspense_list"),Zu=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),wg=Symbol.for("react.offscreen"),zh=Symbol.iterator;function xs(e){return e===null||typeof e!="object"?null:(e=zh&&e[zh]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,hl;function Is(e){if(hl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hl=t&&t[1]||""}return`
`+hl+e}var fl=!1;function pl(e,t){if(!e||fl)return"";fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{fl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Is(e):""}function eb(e){switch(e.tag){case 5:return Is(e.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return e=pl(e.type,!1),e;case 11:return e=pl(e.type.render,!1),e;case 1:return e=pl(e.type,!0),e;default:return""}}function wc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case Er:return"Portal";case gc:return"Profiler";case Xu:return"StrictMode";case yc:return"Suspense";case vc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vg:return(e.displayName||"Context")+".Consumer";case yg:return(e._context.displayName||"Context")+".Provider";case Qu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zu:return t=e.displayName||null,t!==null?t:wc(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return wc(e(t))}catch{}}return null}function tb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wc(t);case 8:return t===Xu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function En(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nb(e){var t=xg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function eo(e){e._valueTracker||(e._valueTracker=nb(e))}function bg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Yo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xc(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=En(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _g(e,t){t=t.checked,t!=null&&Yu(e,"checked",t,!1)}function bc(e,t){_g(e,t);var n=En(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_c(e,t.type,n):t.hasOwnProperty("defaultValue")&&_c(e,t.type,En(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _c(e,t,n){(t!=="number"||Yo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ds=Array.isArray;function Wr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+En(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Sc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(Ds(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:En(n)}}function Sg(e,t){var n=En(t.value),r=En(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var to,jg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(to=to||document.createElement("div"),to.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=to.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(Bs).forEach(function(e){rb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bs[t]=Bs[e]})});function Eg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bs.hasOwnProperty(e)&&Bs[e]?(""+t).trim():t+"px"}function Cg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Eg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var sb=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jc(e,t){if(t){if(sb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Ec(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=null;function ed(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tc=null,qr=null,Hr=null;function Kh(e){if(e=Fi(e)){if(typeof Tc!="function")throw Error(T(280));var t=e.stateNode;t&&(t=$a(t),Tc(e.stateNode,e.type,t))}}function Tg(e){qr?Hr?Hr.push(e):Hr=[e]:qr=e}function Pg(){if(qr){var e=qr,t=Hr;if(Hr=qr=null,Kh(e),t)for(e=0;e<t.length;e++)Kh(t[e])}}function Ng(e,t){return e(t)}function Rg(){}var ml=!1;function Ag(e,t,n){if(ml)return e(t,n);ml=!0;try{return Ng(e,t,n)}finally{ml=!1,(qr!==null||Hr!==null)&&(Rg(),Pg())}}function ai(e,t){var n=e.stateNode;if(n===null)return null;var r=$a(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var Pc=!1;if(Jt)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Pc=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Pc=!1}function ib(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ws=!1,Xo=null,Qo=!1,Nc=null,ob={onError:function(e){Ws=!0,Xo=e}};function ab(e,t,n,r,s,i,o,a,l){Ws=!1,Xo=null,ib.apply(ob,arguments)}function lb(e,t,n,r,s,i,o,a,l){if(ab.apply(this,arguments),Ws){if(Ws){var c=Xo;Ws=!1,Xo=null}else throw Error(T(198));Qo||(Qo=!0,Nc=c)}}function hr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Og(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gh(e){if(hr(e)!==e)throw Error(T(188))}function cb(e){var t=e.alternate;if(!t){if(t=hr(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Gh(s),e;if(i===r)return Gh(s),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Lg(e){return e=cb(e),e!==null?Ig(e):null}function Ig(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ig(e);if(t!==null)return t;e=e.sibling}return null}var Dg=nt.unstable_scheduleCallback,Jh=nt.unstable_cancelCallback,ub=nt.unstable_shouldYield,db=nt.unstable_requestPaint,me=nt.unstable_now,hb=nt.unstable_getCurrentPriorityLevel,td=nt.unstable_ImmediatePriority,Mg=nt.unstable_UserBlockingPriority,Zo=nt.unstable_NormalPriority,fb=nt.unstable_LowPriority,$g=nt.unstable_IdlePriority,La=null,Rt=null;function pb(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(La,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:yb,mb=Math.log,gb=Math.LN2;function yb(e){return e>>>=0,e===0?32:31-(mb(e)/gb|0)|0}var no=64,ro=4194304;function Ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ea(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ms(a):(i&=o,i!==0&&(r=Ms(i)))}else o=n&~s,o!==0?r=Ms(o):i!==0&&(r=Ms(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),s=1<<n,r|=e[n],t&=~s;return r}function vb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-St(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=vb(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Rc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ug(){var e=no;return no<<=1,!(no&4194240)&&(no=64),e}function gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ui(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function xb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-St(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function nd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var G=0;function Vg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fg,rd,zg,Bg,Wg,Ac=!1,so=[],yn=null,vn=null,wn=null,li=new Map,ci=new Map,dn=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yh(e,t){switch(e){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(t.pointerId)}}function _s(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Fi(t),t!==null&&rd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _b(e,t,n,r,s){switch(t){case"focusin":return yn=_s(yn,e,t,n,r,s),!0;case"dragenter":return vn=_s(vn,e,t,n,r,s),!0;case"mouseover":return wn=_s(wn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return li.set(i,_s(li.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ci.set(i,_s(ci.get(i)||null,e,t,n,r,s)),!0}return!1}function qg(e){var t=Gn(e.target);if(t!==null){var n=hr(t);if(n!==null){if(t=n.tag,t===13){if(t=Og(n),t!==null){e.blockedOn=t,Wg(e.priority,function(){zg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Oc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cc=r,n.target.dispatchEvent(r),Cc=null}else return t=Fi(n),t!==null&&rd(t),e.blockedOn=n,!1;t.shift()}return!0}function Xh(e,t,n){Oo(e)&&n.delete(t)}function Sb(){Ac=!1,yn!==null&&Oo(yn)&&(yn=null),vn!==null&&Oo(vn)&&(vn=null),wn!==null&&Oo(wn)&&(wn=null),li.forEach(Xh),ci.forEach(Xh)}function Ss(e,t){e.blockedOn===t&&(e.blockedOn=null,Ac||(Ac=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,Sb)))}function ui(e){function t(s){return Ss(s,e)}if(0<so.length){Ss(so[0],e);for(var n=1;n<so.length;n++){var r=so[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yn!==null&&Ss(yn,e),vn!==null&&Ss(vn,e),wn!==null&&Ss(wn,e),li.forEach(t),ci.forEach(t),n=0;n<dn.length;n++)r=dn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dn.length&&(n=dn[0],n.blockedOn===null);)qg(n),n.blockedOn===null&&dn.shift()}var Kr=tn.ReactCurrentBatchConfig,ta=!0;function kb(e,t,n,r){var s=G,i=Kr.transition;Kr.transition=null;try{G=1,sd(e,t,n,r)}finally{G=s,Kr.transition=i}}function jb(e,t,n,r){var s=G,i=Kr.transition;Kr.transition=null;try{G=4,sd(e,t,n,r)}finally{G=s,Kr.transition=i}}function sd(e,t,n,r){if(ta){var s=Oc(e,t,n,r);if(s===null)El(e,t,r,na,n),Yh(e,r);else if(_b(s,e,t,n,r))r.stopPropagation();else if(Yh(e,r),t&4&&-1<bb.indexOf(e)){for(;s!==null;){var i=Fi(s);if(i!==null&&Fg(i),i=Oc(e,t,n,r),i===null&&El(e,t,r,na,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else El(e,t,r,null,n)}}var na=null;function Oc(e,t,n,r){if(na=null,e=ed(r),e=Gn(e),e!==null)if(t=hr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Og(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return na=e,null}function Hg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hb()){case td:return 1;case Mg:return 4;case Zo:case fb:return 16;case $g:return 536870912;default:return 16}default:return 16}}var pn=null,id=null,Lo=null;function Kg(){if(Lo)return Lo;var e,t=id,n=t.length,r,s="value"in pn?pn.value:pn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Lo=s.slice(e,1<r?1-r:void 0)}function Io(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function io(){return!0}function Qh(){return!1}function it(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?io:Qh,this.isPropagationStopped=Qh,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),t}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},od=it(us),Vi=le({},us,{view:0,detail:0}),Eb=it(Vi),yl,vl,ks,Ia=le({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(yl=e.screenX-ks.screenX,vl=e.screenY-ks.screenY):vl=yl=0,ks=e),yl)},movementY:function(e){return"movementY"in e?e.movementY:vl}}),Zh=it(Ia),Cb=le({},Ia,{dataTransfer:0}),Tb=it(Cb),Pb=le({},Vi,{relatedTarget:0}),wl=it(Pb),Nb=le({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),Rb=it(Nb),Ab=le({},us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ob=it(Ab),Lb=le({},us,{data:0}),ef=it(Lb),Ib={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Db={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $b(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mb[e])?!!t[e]:!1}function ad(){return $b}var Ub=le({},Vi,{key:function(e){if(e.key){var t=Ib[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Db[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(e){return e.type==="keypress"?Io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vb=it(Ub),Fb=le({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=it(Fb),zb=le({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),Bb=it(zb),Wb=le({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),qb=it(Wb),Hb=le({},Ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kb=it(Hb),Gb=[9,13,27,32],ld=Jt&&"CompositionEvent"in window,qs=null;Jt&&"documentMode"in document&&(qs=document.documentMode);var Jb=Jt&&"TextEvent"in window&&!qs,Gg=Jt&&(!ld||qs&&8<qs&&11>=qs),nf=" ",rf=!1;function Jg(e,t){switch(e){case"keyup":return Gb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function Yb(e,t){switch(e){case"compositionend":return Yg(t);case"keypress":return t.which!==32?null:(rf=!0,nf);case"textInput":return e=t.data,e===nf&&rf?null:e;default:return null}}function Xb(e,t){if(Tr)return e==="compositionend"||!ld&&Jg(e,t)?(e=Kg(),Lo=id=pn=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gg&&t.locale!=="ko"?null:t.data;default:return null}}var Qb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qb[e.type]:t==="textarea"}function Xg(e,t,n,r){Tg(r),t=ra(t,"onChange"),0<t.length&&(n=new od("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hs=null,di=null;function Zb(e){ly(e,0)}function Da(e){var t=Rr(e);if(bg(t))return e}function e_(e,t){if(e==="change")return t}var Qg=!1;if(Jt){var xl;if(Jt){var bl="oninput"in document;if(!bl){var of=document.createElement("div");of.setAttribute("oninput","return;"),bl=typeof of.oninput=="function"}xl=bl}else xl=!1;Qg=xl&&(!document.documentMode||9<document.documentMode)}function af(){Hs&&(Hs.detachEvent("onpropertychange",Zg),di=Hs=null)}function Zg(e){if(e.propertyName==="value"&&Da(di)){var t=[];Xg(t,di,e,ed(e)),Ag(Zb,t)}}function t_(e,t,n){e==="focusin"?(af(),Hs=t,di=n,Hs.attachEvent("onpropertychange",Zg)):e==="focusout"&&af()}function n_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Da(di)}function r_(e,t){if(e==="click")return Da(t)}function s_(e,t){if(e==="input"||e==="change")return Da(t)}function i_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:i_;function hi(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!mc.call(t,s)||!jt(e[s],t[s]))return!1}return!0}function lf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cf(e,t){var n=lf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lf(n)}}function ey(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ey(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ty(){for(var e=window,t=Yo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yo(e.document)}return t}function cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o_(e){var t=ty(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ey(n.ownerDocument.documentElement,n)){if(r!==null&&cd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=cf(n,i);var o=cf(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var a_=Jt&&"documentMode"in document&&11>=document.documentMode,Pr=null,Lc=null,Ks=null,Ic=!1;function uf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ic||Pr==null||Pr!==Yo(r)||(r=Pr,"selectionStart"in r&&cd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ks&&hi(Ks,r)||(Ks=r,r=ra(Lc,"onSelect"),0<r.length&&(t=new od("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pr)))}function oo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionend:oo("Transition","TransitionEnd")},_l={},ny={};Jt&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function Ma(e){if(_l[e])return _l[e];if(!Nr[e])return e;var t=Nr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ny)return _l[e]=t[n];return e}var ry=Ma("animationend"),sy=Ma("animationiteration"),iy=Ma("animationstart"),oy=Ma("transitionend"),ay=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){ay.set(e,t),dr(t,[e])}for(var Sl=0;Sl<df.length;Sl++){var kl=df[Sl],l_=kl.toLowerCase(),c_=kl[0].toUpperCase()+kl.slice(1);Rn(l_,"on"+c_)}Rn(ry,"onAnimationEnd");Rn(sy,"onAnimationIteration");Rn(iy,"onAnimationStart");Rn("dblclick","onDoubleClick");Rn("focusin","onFocus");Rn("focusout","onBlur");Rn(oy,"onTransitionEnd");Zr("onMouseEnter",["mouseout","mouseover"]);Zr("onMouseLeave",["mouseout","mouseover"]);Zr("onPointerEnter",["pointerout","pointerover"]);Zr("onPointerLeave",["pointerout","pointerover"]);dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u_=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function hf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lb(r,t,void 0,e),e.currentTarget=null}function ly(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;hf(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;hf(s,a,c),i=l}}}if(Qo)throw e=Nc,Qo=!1,Nc=null,e}function Z(e,t){var n=t[Vc];n===void 0&&(n=t[Vc]=new Set);var r=e+"__bubble";n.has(r)||(cy(t,e,2,!1),n.add(r))}function jl(e,t,n){var r=0;t&&(r|=4),cy(n,e,r,t)}var ao="_reactListening"+Math.random().toString(36).slice(2);function fi(e){if(!e[ao]){e[ao]=!0,gg.forEach(function(n){n!=="selectionchange"&&(u_.has(n)||jl(n,!1,e),jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ao]||(t[ao]=!0,jl("selectionchange",!1,t))}}function cy(e,t,n,r){switch(Hg(t)){case 1:var s=kb;break;case 4:s=jb;break;default:s=sd}n=s.bind(null,t,n,e),s=void 0,!Pc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function El(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Gn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ag(function(){var c=i,d=ed(n),h=[];e:{var f=ay.get(e);if(f!==void 0){var p=od,w=e;switch(e){case"keypress":if(Io(n)===0)break e;case"keydown":case"keyup":p=Vb;break;case"focusin":w="focus",p=wl;break;case"focusout":w="blur",p=wl;break;case"beforeblur":case"afterblur":p=wl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Tb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Bb;break;case ry:case sy:case iy:p=Rb;break;case oy:p=qb;break;case"scroll":p=Eb;break;case"wheel":p=Kb;break;case"copy":case"cut":case"paste":p=Ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tf}var b=(t&4)!==0,x=!b&&e==="scroll",m=b?f!==null?f+"Capture":null:f;b=[];for(var g=c,v;g!==null;){v=g;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,m!==null&&(_=ai(g,m),_!=null&&b.push(pi(g,_,v)))),x)break;g=g.return}0<b.length&&(f=new p(f,w,null,n,d),h.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Cc&&(w=n.relatedTarget||n.fromElement)&&(Gn(w)||w[Yt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=c,w=w?Gn(w):null,w!==null&&(x=hr(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(b=Zh,_="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=tf,_="onPointerLeave",m="onPointerEnter",g="pointer"),x=p==null?f:Rr(p),v=w==null?f:Rr(w),f=new b(_,g+"leave",p,n,d),f.target=x,f.relatedTarget=v,_=null,Gn(d)===c&&(b=new b(m,g+"enter",w,n,d),b.target=v,b.relatedTarget=x,_=b),x=_,p&&w)t:{for(b=p,m=w,g=0,v=b;v;v=gr(v))g++;for(v=0,_=m;_;_=gr(_))v++;for(;0<g-v;)b=gr(b),g--;for(;0<v-g;)m=gr(m),v--;for(;g--;){if(b===m||m!==null&&b===m.alternate)break t;b=gr(b),m=gr(m)}b=null}else b=null;p!==null&&ff(h,f,p,b,!1),w!==null&&x!==null&&ff(h,x,w,b,!0)}}e:{if(f=c?Rr(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=e_;else if(sf(f))if(Qg)S=s_;else{S=n_;var k=t_}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=r_);if(S&&(S=S(e,c))){Xg(h,S,n,d);break e}k&&k(e,f,c),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&_c(f,"number",f.value)}switch(k=c?Rr(c):window,e){case"focusin":(sf(k)||k.contentEditable==="true")&&(Pr=k,Lc=c,Ks=null);break;case"focusout":Ks=Lc=Pr=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,uf(h,n,d);break;case"selectionchange":if(a_)break;case"keydown":case"keyup":uf(h,n,d)}var j;if(ld)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Tr?Jg(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Gg&&n.locale!=="ko"&&(Tr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Tr&&(j=Kg()):(pn=d,id="value"in pn?pn.value:pn.textContent,Tr=!0)),k=ra(c,E),0<k.length&&(E=new ef(E,e,null,n,d),h.push({event:E,listeners:k}),j?E.data=j:(j=Yg(n),j!==null&&(E.data=j)))),(j=Jb?Yb(e,n):Xb(e,n))&&(c=ra(c,"onBeforeInput"),0<c.length&&(d=new ef("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=j))}ly(h,t)})}function pi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ra(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ai(e,n),i!=null&&r.unshift(pi(e,i,s)),i=ai(e,t),i!=null&&r.push(pi(e,i,s))),e=e.return}return r}function gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ff(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ai(n,i),l!=null&&o.unshift(pi(n,l,a))):s||(l=ai(n,i),l!=null&&o.push(pi(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var d_=/\r\n?/g,h_=/\u0000|\uFFFD/g;function pf(e){return(typeof e=="string"?e:""+e).replace(d_,`
`).replace(h_,"")}function lo(e,t,n){if(t=pf(t),pf(e)!==t&&n)throw Error(T(425))}function sa(){}var Dc=null,Mc=null;function $c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uc=typeof setTimeout=="function"?setTimeout:void 0,f_=typeof clearTimeout=="function"?clearTimeout:void 0,mf=typeof Promise=="function"?Promise:void 0,p_=typeof queueMicrotask=="function"?queueMicrotask:typeof mf<"u"?function(e){return mf.resolve(null).then(e).catch(m_)}:Uc;function m_(e){setTimeout(function(){throw e})}function Cl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ui(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ui(t)}function xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ds,mi="__reactProps$"+ds,Yt="__reactContainer$"+ds,Vc="__reactEvents$"+ds,g_="__reactListeners$"+ds,y_="__reactHandles$"+ds;function Gn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yt]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gf(e);e!==null;){if(n=e[Nt])return n;e=gf(e)}return t}e=n,n=e.parentNode}return null}function Fi(e){return e=e[Nt]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function $a(e){return e[mi]||null}var Fc=[],Ar=-1;function An(e){return{current:e}}function ee(e){0>Ar||(e.current=Fc[Ar],Fc[Ar]=null,Ar--)}function X(e,t){Ar++,Fc[Ar]=e.current,e.current=t}var Cn={},Me=An(Cn),qe=An(!1),rr=Cn;function es(e,t){var n=e.type.contextTypes;if(!n)return Cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function He(e){return e=e.childContextTypes,e!=null}function ia(){ee(qe),ee(Me)}function yf(e,t,n){if(Me.current!==Cn)throw Error(T(168));X(Me,t),X(qe,n)}function uy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,tb(e)||"Unknown",s));return le({},n,r)}function oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cn,rr=Me.current,X(Me,e),X(qe,qe.current),!0}function vf(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=uy(e,t,rr),r.__reactInternalMemoizedMergedChildContext=e,ee(qe),ee(Me),X(Me,e)):ee(qe),X(qe,n)}var Bt=null,Ua=!1,Tl=!1;function dy(e){Bt===null?Bt=[e]:Bt.push(e)}function v_(e){Ua=!0,dy(e)}function On(){if(!Tl&&Bt!==null){Tl=!0;var e=0,t=G;try{var n=Bt;for(G=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bt=null,Ua=!1}catch(s){throw Bt!==null&&(Bt=Bt.slice(e+1)),Dg(td,On),s}finally{G=t,Tl=!1}}return null}var Or=[],Lr=0,aa=null,la=0,lt=[],ct=0,sr=null,Wt=1,qt="";function Vn(e,t){Or[Lr++]=la,Or[Lr++]=aa,aa=e,la=t}function hy(e,t,n){lt[ct++]=Wt,lt[ct++]=qt,lt[ct++]=sr,sr=e;var r=Wt;e=qt;var s=32-St(r)-1;r&=~(1<<s),n+=1;var i=32-St(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Wt=1<<32-St(t)+s|n<<s|r,qt=i+e}else Wt=1<<i|n<<s|r,qt=e}function ud(e){e.return!==null&&(Vn(e,1),hy(e,1,0))}function dd(e){for(;e===aa;)aa=Or[--Lr],Or[Lr]=null,la=Or[--Lr],Or[Lr]=null;for(;e===sr;)sr=lt[--ct],lt[ct]=null,qt=lt[--ct],lt[ct]=null,Wt=lt[--ct],lt[ct]=null}var et=null,Ze=null,se=!1,_t=null;function fy(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Ze=xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sr!==null?{id:Wt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,Ze=null,!0):!1;default:return!1}}function zc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bc(e){if(se){var t=Ze;if(t){var n=t;if(!wf(e,t)){if(zc(e))throw Error(T(418));t=xn(n.nextSibling);var r=et;t&&wf(e,t)?fy(r,n):(e.flags=e.flags&-4097|2,se=!1,et=e)}}else{if(zc(e))throw Error(T(418));e.flags=e.flags&-4097|2,se=!1,et=e}}}function xf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function co(e){if(e!==et)return!1;if(!se)return xf(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$c(e.type,e.memoizedProps)),t&&(t=Ze)){if(zc(e))throw py(),Error(T(418));for(;t;)fy(e,t),t=xn(t.nextSibling)}if(xf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=xn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=et?xn(e.stateNode.nextSibling):null;return!0}function py(){for(var e=Ze;e;)e=xn(e.nextSibling)}function ts(){Ze=et=null,se=!1}function hd(e){_t===null?_t=[e]:_t.push(e)}var w_=tn.ReactCurrentBatchConfig;function js(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function uo(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bf(e){var t=e._init;return t(e._payload)}function my(e){function t(m,g){if(e){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=kn(m,g),m.index=0,m.sibling=null,m}function i(m,g,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,v,_){return g===null||g.tag!==6?(g=Il(v,m.mode,_),g.return=m,g):(g=s(g,v),g.return=m,g)}function l(m,g,v,_){var S=v.type;return S===Cr?d(m,g,v.props.children,_,v.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ln&&bf(S)===g.type)?(_=s(g,v.props),_.ref=js(m,g,v),_.return=m,_):(_=zo(v.type,v.key,v.props,null,m.mode,_),_.ref=js(m,g,v),_.return=m,_)}function c(m,g,v,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Dl(v,m.mode,_),g.return=m,g):(g=s(g,v.children||[]),g.return=m,g)}function d(m,g,v,_,S){return g===null||g.tag!==7?(g=er(v,m.mode,_,S),g.return=m,g):(g=s(g,v),g.return=m,g)}function h(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Il(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zi:return v=zo(g.type,g.key,g.props,null,m.mode,v),v.ref=js(m,null,g),v.return=m,v;case Er:return g=Dl(g,m.mode,v),g.return=m,g;case ln:var _=g._init;return h(m,_(g._payload),v)}if(Ds(g)||xs(g))return g=er(g,m.mode,v,null),g.return=m,g;uo(m,g)}return null}function f(m,g,v,_){var S=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zi:return v.key===S?l(m,g,v,_):null;case Er:return v.key===S?c(m,g,v,_):null;case ln:return S=v._init,f(m,g,S(v._payload),_)}if(Ds(v)||xs(v))return S!==null?null:d(m,g,v,_,null);uo(m,v)}return null}function p(m,g,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(v)||null,a(g,m,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zi:return m=m.get(_.key===null?v:_.key)||null,l(g,m,_,S);case Er:return m=m.get(_.key===null?v:_.key)||null,c(g,m,_,S);case ln:var k=_._init;return p(m,g,v,k(_._payload),S)}if(Ds(_)||xs(_))return m=m.get(v)||null,d(g,m,_,S,null);uo(g,_)}return null}function w(m,g,v,_){for(var S=null,k=null,j=g,E=g=0,P=null;j!==null&&E<v.length;E++){j.index>E?(P=j,j=null):P=j.sibling;var C=f(m,j,v[E],_);if(C===null){j===null&&(j=P);break}e&&j&&C.alternate===null&&t(m,j),g=i(C,g,E),k===null?S=C:k.sibling=C,k=C,j=P}if(E===v.length)return n(m,j),se&&Vn(m,E),S;if(j===null){for(;E<v.length;E++)j=h(m,v[E],_),j!==null&&(g=i(j,g,E),k===null?S=j:k.sibling=j,k=j);return se&&Vn(m,E),S}for(j=r(m,j);E<v.length;E++)P=p(j,m,E,v[E],_),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?E:P.key),g=i(P,g,E),k===null?S=P:k.sibling=P,k=P);return e&&j.forEach(function(M){return t(m,M)}),se&&Vn(m,E),S}function b(m,g,v,_){var S=xs(v);if(typeof S!="function")throw Error(T(150));if(v=S.call(v),v==null)throw Error(T(151));for(var k=S=null,j=g,E=g=0,P=null,C=v.next();j!==null&&!C.done;E++,C=v.next()){j.index>E?(P=j,j=null):P=j.sibling;var M=f(m,j,C.value,_);if(M===null){j===null&&(j=P);break}e&&j&&M.alternate===null&&t(m,j),g=i(M,g,E),k===null?S=M:k.sibling=M,k=M,j=P}if(C.done)return n(m,j),se&&Vn(m,E),S;if(j===null){for(;!C.done;E++,C=v.next())C=h(m,C.value,_),C!==null&&(g=i(C,g,E),k===null?S=C:k.sibling=C,k=C);return se&&Vn(m,E),S}for(j=r(m,j);!C.done;E++,C=v.next())C=p(j,m,E,C.value,_),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?E:C.key),g=i(C,g,E),k===null?S=C:k.sibling=C,k=C);return e&&j.forEach(function(A){return t(m,A)}),se&&Vn(m,E),S}function x(m,g,v,_){if(typeof v=="object"&&v!==null&&v.type===Cr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Zi:e:{for(var S=v.key,k=g;k!==null;){if(k.key===S){if(S=v.type,S===Cr){if(k.tag===7){n(m,k.sibling),g=s(k,v.props.children),g.return=m,m=g;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ln&&bf(S)===k.type){n(m,k.sibling),g=s(k,v.props),g.ref=js(m,k,v),g.return=m,m=g;break e}n(m,k);break}else t(m,k);k=k.sibling}v.type===Cr?(g=er(v.props.children,m.mode,_,v.key),g.return=m,m=g):(_=zo(v.type,v.key,v.props,null,m.mode,_),_.ref=js(m,g,v),_.return=m,m=_)}return o(m);case Er:e:{for(k=v.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(m,g.sibling),g=s(g,v.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Dl(v,m.mode,_),g.return=m,m=g}return o(m);case ln:return k=v._init,x(m,g,k(v._payload),_)}if(Ds(v))return w(m,g,v,_);if(xs(v))return b(m,g,v,_);uo(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,v),g.return=m,m=g):(n(m,g),g=Il(v,m.mode,_),g.return=m,m=g),o(m)):n(m,g)}return x}var ns=my(!0),gy=my(!1),ca=An(null),ua=null,Ir=null,fd=null;function pd(){fd=Ir=ua=null}function md(e){var t=ca.current;ee(ca),e._currentValue=t}function Wc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Gr(e,t){ua=e,fd=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(fd!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(ua===null)throw Error(T(308));Ir=e,ua.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var Jn=null;function gd(e){Jn===null?Jn=[e]:Jn.push(e)}function yy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,gd(t)):(n.next=s.next,s.next=n),t.interleaved=n,Xt(e,r)}function Xt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cn=!1;function yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Xt(e,n)}return s=r.interleaved,s===null?(t.next=t,gd(r)):(t.next=s.next,s.next=t),r.interleaved=t,Xt(e,n)}function Do(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nd(e,n)}}function _f(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var s=e.updateQueue;cn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,b=a;switch(f=t,p=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){h=w.call(p,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,f=typeof w=="function"?w.call(p,h,f):w,f==null)break e;h=le({},h,f);break e;case 2:cn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);or|=o,e.lanes=o,e.memoizedState=h}}function Sf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var zi={},At=An(zi),gi=An(zi),yi=An(zi);function Yn(e){if(e===zi)throw Error(T(174));return e}function vd(e,t){switch(X(yi,t),X(gi,e),X(At,zi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kc(t,e)}ee(At),X(At,t)}function rs(){ee(At),ee(gi),ee(yi)}function wy(e){Yn(yi.current);var t=Yn(At.current),n=kc(t,e.type);t!==n&&(X(gi,e),X(At,n))}function wd(e){gi.current===e&&(ee(At),ee(gi))}var ie=An(0);function ha(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pl=[];function xd(){for(var e=0;e<Pl.length;e++)Pl[e]._workInProgressVersionPrimary=null;Pl.length=0}var Mo=tn.ReactCurrentDispatcher,Nl=tn.ReactCurrentBatchConfig,ir=0,ae=null,xe=null,_e=null,fa=!1,Gs=!1,vi=0,x_=0;function Ae(){throw Error(T(321))}function bd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function _d(e,t,n,r,s,i){if(ir=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mo.current=e===null||e.memoizedState===null?k_:j_,e=n(r,s),Gs){i=0;do{if(Gs=!1,vi=0,25<=i)throw Error(T(301));i+=1,_e=xe=null,t.updateQueue=null,Mo.current=E_,e=n(r,s)}while(Gs)}if(Mo.current=pa,t=xe!==null&&xe.next!==null,ir=0,_e=xe=ae=null,fa=!1,t)throw Error(T(300));return e}function Sd(){var e=vi!==0;return vi=0,e}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ae.memoizedState=_e=e:_e=_e.next=e,_e}function ft(){if(xe===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=_e===null?ae.memoizedState:_e.next;if(t!==null)_e=t,xe=e;else{if(e===null)throw Error(T(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},_e===null?ae.memoizedState=_e=e:_e=_e.next=e}return _e}function wi(e,t){return typeof t=="function"?t(e):t}function Rl(e){var t=ft(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=xe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ir&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ae.lanes|=d,or|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,jt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ae.lanes|=i,or|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Al(e){var t=ft(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);jt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xy(){}function by(e,t){var n=ae,r=ft(),s=t(),i=!jt(r.memoizedState,s);if(i&&(r.memoizedState=s,We=!0),r=r.queue,kd(ky.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,xi(9,Sy.bind(null,n,r,s,t),void 0,null),ke===null)throw Error(T(349));ir&30||_y(n,t,s)}return s}function _y(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sy(e,t,n,r){t.value=n,t.getSnapshot=r,jy(t)&&Ey(e)}function ky(e,t,n){return n(function(){jy(t)&&Ey(e)})}function jy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function Ey(e){var t=Xt(e,1);t!==null&&kt(t,e,1,-1)}function kf(e){var t=Pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:e},t.queue=e,e=e.dispatch=S_.bind(null,ae,e),[t.memoizedState,e]}function xi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cy(){return ft().memoizedState}function $o(e,t,n,r){var s=Pt();ae.flags|=e,s.memoizedState=xi(1|t,n,void 0,r===void 0?null:r)}function Va(e,t,n,r){var s=ft();r=r===void 0?null:r;var i=void 0;if(xe!==null){var o=xe.memoizedState;if(i=o.destroy,r!==null&&bd(r,o.deps)){s.memoizedState=xi(t,n,i,r);return}}ae.flags|=e,s.memoizedState=xi(1|t,n,i,r)}function jf(e,t){return $o(8390656,8,e,t)}function kd(e,t){return Va(2048,8,e,t)}function Ty(e,t){return Va(4,2,e,t)}function Py(e,t){return Va(4,4,e,t)}function Ny(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ry(e,t,n){return n=n!=null?n.concat([e]):null,Va(4,4,Ny.bind(null,t,e),n)}function jd(){}function Ay(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oy(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ly(e,t,n){return ir&21?(jt(n,t)||(n=Ug(),ae.lanes|=n,or|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function b_(e,t){var n=G;G=n!==0&&4>n?n:4,e(!0);var r=Nl.transition;Nl.transition={};try{e(!1),t()}finally{G=n,Nl.transition=r}}function Iy(){return ft().memoizedState}function __(e,t,n){var r=Sn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Dy(e))My(t,n);else if(n=yy(e,t,n,r),n!==null){var s=Ve();kt(n,e,r,s),$y(n,t,r)}}function S_(e,t,n){var r=Sn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dy(e))My(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jt(a,o)){var l=t.interleaved;l===null?(s.next=s,gd(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=yy(e,t,s,r),n!==null&&(s=Ve(),kt(n,e,r,s),$y(n,t,r))}}function Dy(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function My(e,t){Gs=fa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $y(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nd(e,n)}}var pa={readContext:ht,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},k_={readContext:ht,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:jf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$o(4194308,4,Ny.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){return $o(4,2,e,t)},useMemo:function(e,t){var n=Pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=__.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:kf,useDebugValue:jd,useDeferredValue:function(e){return Pt().memoizedState=e},useTransition:function(){var e=kf(!1),t=e[0];return e=b_.bind(null,e[1]),Pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,s=Pt();if(se){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),ke===null)throw Error(T(349));ir&30||_y(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,jf(ky.bind(null,r,i,e),[e]),r.flags|=2048,xi(9,Sy.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Pt(),t=ke.identifierPrefix;if(se){var n=qt,r=Wt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=x_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j_={readContext:ht,useCallback:Ay,useContext:ht,useEffect:kd,useImperativeHandle:Ry,useInsertionEffect:Ty,useLayoutEffect:Py,useMemo:Oy,useReducer:Rl,useRef:Cy,useState:function(){return Rl(wi)},useDebugValue:jd,useDeferredValue:function(e){var t=ft();return Ly(t,xe.memoizedState,e)},useTransition:function(){var e=Rl(wi)[0],t=ft().memoizedState;return[e,t]},useMutableSource:xy,useSyncExternalStore:by,useId:Iy,unstable_isNewReconciler:!1},E_={readContext:ht,useCallback:Ay,useContext:ht,useEffect:kd,useImperativeHandle:Ry,useInsertionEffect:Ty,useLayoutEffect:Py,useMemo:Oy,useReducer:Al,useRef:Cy,useState:function(){return Al(wi)},useDebugValue:jd,useDeferredValue:function(e){var t=ft();return xe===null?t.memoizedState=e:Ly(t,xe.memoizedState,e)},useTransition:function(){var e=Al(wi)[0],t=ft().memoizedState;return[e,t]},useMutableSource:xy,useSyncExternalStore:by,useId:Iy,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fa={isMounted:function(e){return(e=e._reactInternals)?hr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=Sn(e),i=Ht(r,s);i.payload=t,n!=null&&(i.callback=n),t=bn(e,i,s),t!==null&&(kt(t,e,s,r),Do(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=Sn(e),i=Ht(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=bn(e,i,s),t!==null&&(kt(t,e,s,r),Do(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=Sn(e),s=Ht(n,r);s.tag=2,t!=null&&(s.callback=t),t=bn(e,s,r),t!==null&&(kt(t,e,r,n),Do(t,e,r))}};function Ef(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!hi(n,r)||!hi(s,i):!0}function Uy(e,t,n){var r=!1,s=Cn,i=t.contextType;return typeof i=="object"&&i!==null?i=ht(i):(s=He(t)?rr:Me.current,r=t.contextTypes,i=(r=r!=null)?es(e,s):Cn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Cf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fa.enqueueReplaceState(t,t.state,null)}function Hc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},yd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ht(i):(i=He(t)?rr:Me.current,s.context=es(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Fa.enqueueReplaceState(s,s.state,null),da(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ss(e,t){try{var n="",r=t;do n+=eb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ol(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var C_=typeof WeakMap=="function"?WeakMap:Map;function Vy(e,t,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ga||(ga=!0,ru=r),Kc(e,t)},n}function Fy(e,t,n){n=Ht(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Kc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Kc(e,t),typeof r!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Tf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new C_;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=F_.bind(null,e,t,n),t.then(e,e))}function Pf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nf(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ht(-1,1),t.tag=2,bn(n,t,1))),n.lanes|=1),e)}var T_=tn.ReactCurrentOwner,We=!1;function $e(e,t,n,r){t.child=e===null?gy(t,null,n,r):ns(t,e.child,n,r)}function Rf(e,t,n,r,s){n=n.render;var i=t.ref;return Gr(t,s),r=_d(e,t,n,r,i,s),n=Sd(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(se&&n&&ud(t),t.flags|=1,$e(e,t,r,s),t.child)}function Af(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Od(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,zy(e,t,i,r,s)):(e=zo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:hi,n(o,r)&&e.ref===t.ref)return Qt(e,t,s)}return t.flags|=1,e=kn(i,r),e.ref=t.ref,e.return=t,t.child=e}function zy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(hi(i,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Qt(e,t,s)}return Gc(e,t,n,r,s)}function By(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Mr,Ye),Ye|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Mr,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,X(Mr,Ye),Ye|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,X(Mr,Ye),Ye|=r;return $e(e,t,s,n),t.child}function Wy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gc(e,t,n,r,s){var i=He(n)?rr:Me.current;return i=es(t,i),Gr(t,s),n=_d(e,t,n,r,i,s),r=Sd(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(se&&r&&ud(t),t.flags|=1,$e(e,t,n,s),t.child)}function Of(e,t,n,r,s){if(He(n)){var i=!0;oa(t)}else i=!1;if(Gr(t,s),t.stateNode===null)Uo(e,t),Uy(t,n,r),Hc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ht(c):(c=He(n)?rr:Me.current,c=es(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Cf(t,o,r,c),cn=!1;var f=t.memoizedState;o.state=f,da(t,r,o,s),l=t.memoizedState,a!==r||f!==l||qe.current||cn?(typeof d=="function"&&(qc(t,n,d,r),l=t.memoizedState),(a=cn||Ef(t,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vy(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vt(t.type,a),o.props=c,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ht(l):(l=He(n)?rr:Me.current,l=es(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Cf(t,o,r,l),cn=!1,f=t.memoizedState,o.state=f,da(t,r,o,s);var w=t.memoizedState;a!==h||f!==w||qe.current||cn?(typeof p=="function"&&(qc(t,n,p,r),w=t.memoizedState),(c=cn||Ef(t,n,c,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Jc(e,t,n,r,i,s)}function Jc(e,t,n,r,s,i){Wy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&vf(t,n,!1),Qt(e,t,i);r=t.stateNode,T_.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ns(t,e.child,null,i),t.child=ns(t,null,a,i)):$e(e,t,a,i),t.memoizedState=r.state,s&&vf(t,n,!0),t.child}function qy(e){var t=e.stateNode;t.pendingContext?yf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yf(e,t.context,!1),vd(e,t.containerInfo)}function Lf(e,t,n,r,s){return ts(),hd(s),t.flags|=256,$e(e,t,n,r),t.child}var Yc={dehydrated:null,treeContext:null,retryLane:0};function Xc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hy(e,t,n){var r=t.pendingProps,s=ie.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),X(ie,s&1),e===null)return Bc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wa(o,r,0,null),e=er(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xc(n),t.memoizedState=Yc,e):Ed(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return P_(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=kn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=kn(a,i):(i=er(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Xc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Yc,r}return i=e.child,e=i.sibling,r=kn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ed(e,t){return t=Wa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ho(e,t,n,r){return r!==null&&hd(r),ns(t,e.child,null,n),e=Ed(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P_(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ol(Error(T(422))),ho(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Wa({mode:"visible",children:r.children},s,0,null),i=er(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ns(t,e.child,null,o),t.child.memoizedState=Xc(o),t.memoizedState=Yc,i);if(!(t.mode&1))return ho(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(T(419)),r=Ol(i,r,void 0),ho(e,t,o,r)}if(a=(o&e.childLanes)!==0,We||a){if(r=ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xt(e,s),kt(r,e,s,-1))}return Ad(),r=Ol(Error(T(421))),ho(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=z_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ze=xn(s.nextSibling),et=t,se=!0,_t=null,e!==null&&(lt[ct++]=Wt,lt[ct++]=qt,lt[ct++]=sr,Wt=e.id,qt=e.overflow,sr=t),t=Ed(t,r.children),t.flags|=4096,t)}function If(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wc(e.return,t,n)}function Ll(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ky(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if($e(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&If(e,n,t);else if(e.tag===19)If(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ha(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ll(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ha(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ll(t,!0,n,null,i);break;case"together":Ll(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),or|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=kn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function N_(e,t,n){switch(t.tag){case 3:qy(t),ts();break;case 5:wy(t);break;case 1:He(t.type)&&oa(t);break;case 4:vd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;X(ca,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(X(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?Hy(e,t,n):(X(ie,ie.current&1),e=Qt(e,t,n),e!==null?e.sibling:null);X(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ky(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,By(e,t,n)}return Qt(e,t,n)}var Gy,Qc,Jy,Yy;Gy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qc=function(){};Jy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Yn(At.current);var i=null;switch(n){case"input":s=xc(e,s),r=xc(e,r),i=[];break;case"select":s=le({},s,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":s=Sc(e,s),r=Sc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sa)}jc(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ii.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ii.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Z("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Yy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Es(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function R_(e,t,n){var r=t.pendingProps;switch(dd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return He(t.type)&&ia(),Oe(t),null;case 3:return r=t.stateNode,rs(),ee(qe),ee(Me),xd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(co(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(ou(_t),_t=null))),Qc(e,t),Oe(t),null;case 5:wd(t);var s=Yn(yi.current);if(n=t.type,e!==null&&t.stateNode!=null)Jy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Oe(t),null}if(e=Yn(At.current),co(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Nt]=t,r[mi]=i,e=(t.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(s=0;s<$s.length;s++)Z($s[s],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":Bh(r,i),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Z("invalid",r);break;case"textarea":qh(r,i),Z("invalid",r)}jc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&lo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&lo(r.textContent,a,e),s=["children",""+a]):ii.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Z("scroll",r)}switch(n){case"input":eo(r),Wh(r,i,!0);break;case"textarea":eo(r),Hh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=sa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Nt]=t,e[mi]=r,Gy(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ec(n,r),n){case"dialog":Z("cancel",e),Z("close",e),s=r;break;case"iframe":case"object":case"embed":Z("load",e),s=r;break;case"video":case"audio":for(s=0;s<$s.length;s++)Z($s[s],e);s=r;break;case"source":Z("error",e),s=r;break;case"img":case"image":case"link":Z("error",e),Z("load",e),s=r;break;case"details":Z("toggle",e),s=r;break;case"input":Bh(e,r),s=xc(e,r),Z("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=le({},r,{value:void 0}),Z("invalid",e);break;case"textarea":qh(e,r),s=Sc(e,r),Z("invalid",e);break;default:s=r}jc(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Cg(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jg(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oi(e,l):typeof l=="number"&&oi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ii.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Z("scroll",e):l!=null&&Yu(e,i,l,o))}switch(n){case"input":eo(e),Wh(e,r,!1);break;case"textarea":eo(e),Hh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+En(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Wr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Wr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=sa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)Yy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=Yn(yi.current),Yn(At.current),co(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nt]=t,(i=r.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:lo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=t,t.stateNode=r}return Oe(t),null;case 13:if(ee(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&Ze!==null&&t.mode&1&&!(t.flags&128))py(),ts(),t.flags|=98560,i=!1;else if(i=co(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Nt]=t}else ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else _t!==null&&(ou(_t),_t=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?be===0&&(be=3):Ad())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return rs(),Qc(e,t),e===null&&fi(t.stateNode.containerInfo),Oe(t),null;case 10:return md(t.type._context),Oe(t),null;case 17:return He(t.type)&&ia(),Oe(t),null;case 19:if(ee(ie),i=t.memoizedState,i===null)return Oe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Es(i,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ha(e),o!==null){for(t.flags|=128,Es(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&me()>is&&(t.flags|=128,r=!0,Es(i,!1),t.lanes=4194304)}else{if(!r)if(e=ha(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Es(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!se)return Oe(t),null}else 2*me()-i.renderingStartTime>is&&n!==1073741824&&(t.flags|=128,r=!0,Es(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=me(),t.sibling=null,n=ie.current,X(ie,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Rd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ye&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function A_(e,t){switch(dd(t),t.tag){case 1:return He(t.type)&&ia(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rs(),ee(qe),ee(Me),xd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wd(t),null;case 13:if(ee(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(ie),null;case 4:return rs(),null;case 10:return md(t.type._context),null;case 22:case 23:return Rd(),null;case 24:return null;default:return null}}var fo=!1,Ie=!1,O_=typeof WeakSet=="function"?WeakSet:Set,R=null;function Dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(e,t,r)}else n.current=null}function Zc(e,t,n){try{n()}catch(r){he(e,t,r)}}var Df=!1;function L_(e,t){if(Dc=ta,e=ty(),cd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mc={focusedElem:e,selectionRange:n},ta=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,x=w.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?b:vt(t.type,b),x);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){he(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return w=Df,Df=!1,w}function Js(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zc(t,n,i)}s=s.next}while(s!==r)}}function za(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function eu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Xy(e){var t=e.alternate;t!==null&&(e.alternate=null,Xy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[mi],delete t[Vc],delete t[g_],delete t[y_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qy(e){return e.tag===5||e.tag===3||e.tag===4}function Mf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sa));else if(r!==4&&(e=e.child,e!==null))for(tu(e,t,n),e=e.sibling;e!==null;)tu(e,t,n),e=e.sibling}function nu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(nu(e,t,n),e=e.sibling;e!==null;)nu(e,t,n),e=e.sibling}var Ce=null,xt=!1;function rn(e,t,n){for(n=n.child;n!==null;)Zy(e,t,n),n=n.sibling}function Zy(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(La,n)}catch{}switch(n.tag){case 5:Ie||Dr(n,t);case 6:var r=Ce,s=xt;Ce=null,rn(e,t,n),Ce=r,xt=s,Ce!==null&&(xt?(e=Ce,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(xt?(e=Ce,n=n.stateNode,e.nodeType===8?Cl(e.parentNode,n):e.nodeType===1&&Cl(e,n),ui(e)):Cl(Ce,n.stateNode));break;case 4:r=Ce,s=xt,Ce=n.stateNode.containerInfo,xt=!0,rn(e,t,n),Ce=r,xt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zc(n,t,o),s=s.next}while(s!==r)}rn(e,t,n);break;case 1:if(!Ie&&(Dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){he(n,t,a)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,rn(e,t,n),Ie=r):rn(e,t,n);break;default:rn(e,t,n)}}function $f(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new O_),t.forEach(function(r){var s=B_.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ce=a.stateNode,xt=!1;break e;case 3:Ce=a.stateNode.containerInfo,xt=!0;break e;case 4:Ce=a.stateNode.containerInfo,xt=!0;break e}a=a.return}if(Ce===null)throw Error(T(160));Zy(i,o,s),Ce=null,xt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){he(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ev(t,e),t=t.sibling}function ev(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Ct(e),r&4){try{Js(3,e,e.return),za(3,e)}catch(b){he(e,e.return,b)}try{Js(5,e,e.return)}catch(b){he(e,e.return,b)}}break;case 1:mt(t,e),Ct(e),r&512&&n!==null&&Dr(n,n.return);break;case 5:if(mt(t,e),Ct(e),r&512&&n!==null&&Dr(n,n.return),e.flags&32){var s=e.stateNode;try{oi(s,"")}catch(b){he(e,e.return,b)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&_g(s,i),Ec(a,o);var c=Ec(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Cg(s,h):d==="dangerouslySetInnerHTML"?jg(s,h):d==="children"?oi(s,h):Yu(s,d,h,c)}switch(a){case"input":bc(s,i);break;case"textarea":Sg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Wr(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Wr(s,!!i.multiple,i.defaultValue,!0):Wr(s,!!i.multiple,i.multiple?[]:"",!1))}s[mi]=i}catch(b){he(e,e.return,b)}}break;case 6:if(mt(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){he(e,e.return,b)}}break;case 3:if(mt(t,e),Ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(b){he(e,e.return,b)}break;case 4:mt(t,e),Ct(e);break;case 13:mt(t,e),Ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pd=me())),r&4&&$f(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ie=(c=Ie)||d,mt(t,e),Ie=c):mt(t,e),Ct(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(h=R=d;R!==null;){switch(f=R,p=f.child,f.tag){case 0:case 11:case 14:case 15:Js(4,f,f.return);break;case 1:Dr(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(b){he(r,n,b)}}break;case 5:Dr(f,f.return);break;case 22:if(f.memoizedState!==null){Vf(h);continue}}p!==null?(p.return=f,R=p):Vf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Eg("display",o))}catch(b){he(e,e.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(b){he(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mt(t,e),Ct(e),r&4&&$f(e);break;case 21:break;default:mt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qy(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(oi(s,""),r.flags&=-33);var i=Mf(e);nu(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Mf(e);tu(e,a,o);break;default:throw Error(T(161))}}catch(l){he(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function I_(e,t,n){R=e,tv(e)}function tv(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fo;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ie;a=fo;var c=Ie;if(fo=o,(Ie=l)&&!c)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?Ff(s):l!==null?(l.return=o,R=l):Ff(s);for(;i!==null;)R=i,tv(i),i=i.sibling;R=s,fo=a,Ie=c}Uf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Uf(e)}}function Uf(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||za(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Sf(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sf(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ui(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ie||t.flags&512&&eu(t)}catch(f){he(t,t.return,f)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function Vf(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function Ff(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{za(4,t)}catch(l){he(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){he(t,s,l)}}var i=t.return;try{eu(t)}catch(l){he(t,i,l)}break;case 5:var o=t.return;try{eu(t)}catch(l){he(t,o,l)}}}catch(l){he(t,t.return,l)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var D_=Math.ceil,ma=tn.ReactCurrentDispatcher,Cd=tn.ReactCurrentOwner,dt=tn.ReactCurrentBatchConfig,K=0,ke=null,ve=null,Ne=0,Ye=0,Mr=An(0),be=0,bi=null,or=0,Ba=0,Td=0,Ys=null,Be=null,Pd=0,is=1/0,Ft=null,ga=!1,ru=null,_n=null,po=!1,mn=null,ya=0,Xs=0,su=null,Vo=-1,Fo=0;function Ve(){return K&6?me():Vo!==-1?Vo:Vo=me()}function Sn(e){return e.mode&1?K&2&&Ne!==0?Ne&-Ne:w_.transition!==null?(Fo===0&&(Fo=Ug()),Fo):(e=G,e!==0||(e=window.event,e=e===void 0?16:Hg(e.type)),e):1}function kt(e,t,n,r){if(50<Xs)throw Xs=0,su=null,Error(T(185));Ui(e,n,r),(!(K&2)||e!==ke)&&(e===ke&&(!(K&2)&&(Ba|=n),be===4&&hn(e,Ne)),Ke(e,r),n===1&&K===0&&!(t.mode&1)&&(is=me()+500,Ua&&On()))}function Ke(e,t){var n=e.callbackNode;wb(e,t);var r=ea(e,e===ke?Ne:0);if(r===0)n!==null&&Jh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Jh(n),t===1)e.tag===0?v_(zf.bind(null,e)):dy(zf.bind(null,e)),p_(function(){!(K&6)&&On()}),n=null;else{switch(Vg(r)){case 1:n=td;break;case 4:n=Mg;break;case 16:n=Zo;break;case 536870912:n=$g;break;default:n=Zo}n=cv(n,nv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nv(e,t){if(Vo=-1,Fo=0,K&6)throw Error(T(327));var n=e.callbackNode;if(Jr()&&e.callbackNode!==n)return null;var r=ea(e,e===ke?Ne:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=va(e,r);else{t=r;var s=K;K|=2;var i=sv();(ke!==e||Ne!==t)&&(Ft=null,is=me()+500,Zn(e,t));do try{U_();break}catch(a){rv(e,a)}while(!0);pd(),ma.current=i,K=s,ve!==null?t=0:(ke=null,Ne=0,t=be)}if(t!==0){if(t===2&&(s=Rc(e),s!==0&&(r=s,t=iu(e,s))),t===1)throw n=bi,Zn(e,0),hn(e,r),Ke(e,me()),n;if(t===6)hn(e,r);else{if(s=e.current.alternate,!(r&30)&&!M_(s)&&(t=va(e,r),t===2&&(i=Rc(e),i!==0&&(r=i,t=iu(e,i))),t===1))throw n=bi,Zn(e,0),hn(e,r),Ke(e,me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Fn(e,Be,Ft);break;case 3:if(hn(e,r),(r&130023424)===r&&(t=Pd+500-me(),10<t)){if(ea(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Uc(Fn.bind(null,e,Be,Ft),t);break}Fn(e,Be,Ft);break;case 4:if(hn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-St(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D_(r/1960))-r,10<r){e.timeoutHandle=Uc(Fn.bind(null,e,Be,Ft),r);break}Fn(e,Be,Ft);break;case 5:Fn(e,Be,Ft);break;default:throw Error(T(329))}}}return Ke(e,me()),e.callbackNode===n?nv.bind(null,e):null}function iu(e,t){var n=Ys;return e.current.memoizedState.isDehydrated&&(Zn(e,t).flags|=256),e=va(e,t),e!==2&&(t=Be,Be=n,t!==null&&ou(t)),e}function ou(e){Be===null?Be=e:Be.push.apply(Be,e)}function M_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hn(e,t){for(t&=~Td,t&=~Ba,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function zf(e){if(K&6)throw Error(T(327));Jr();var t=ea(e,0);if(!(t&1))return Ke(e,me()),null;var n=va(e,t);if(e.tag!==0&&n===2){var r=Rc(e);r!==0&&(t=r,n=iu(e,r))}if(n===1)throw n=bi,Zn(e,0),hn(e,t),Ke(e,me()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fn(e,Be,Ft),Ke(e,me()),null}function Nd(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(is=me()+500,Ua&&On())}}function ar(e){mn!==null&&mn.tag===0&&!(K&6)&&Jr();var t=K;K|=1;var n=dt.transition,r=G;try{if(dt.transition=null,G=1,e)return e()}finally{G=r,dt.transition=n,K=t,!(K&6)&&On()}}function Rd(){Ye=Mr.current,ee(Mr)}function Zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,f_(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(dd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ia();break;case 3:rs(),ee(qe),ee(Me),xd();break;case 5:wd(r);break;case 4:rs();break;case 13:ee(ie);break;case 19:ee(ie);break;case 10:md(r.type._context);break;case 22:case 23:Rd()}n=n.return}if(ke=e,ve=e=kn(e.current,null),Ne=Ye=t,be=0,bi=null,Td=Ba=or=0,Be=Ys=null,Jn!==null){for(t=0;t<Jn.length;t++)if(n=Jn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Jn=null}return e}function rv(e,t){do{var n=ve;try{if(pd(),Mo.current=pa,fa){for(var r=ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fa=!1}if(ir=0,_e=xe=ae=null,Gs=!1,vi=0,Cd.current=null,n===null||n.return===null){be=1,bi=t,ve=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Ne,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Pf(o);if(p!==null){p.flags&=-257,Nf(p,o,a,i,t),p.mode&1&&Tf(i,c,t),t=p,l=c;var w=t.updateQueue;if(w===null){var b=new Set;b.add(l),t.updateQueue=b}else w.add(l);break e}else{if(!(t&1)){Tf(i,c,t),Ad();break e}l=Error(T(426))}}else if(se&&a.mode&1){var x=Pf(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Nf(x,o,a,i,t),hd(ss(l,a));break e}}i=l=ss(l,a),be!==4&&(be=2),Ys===null?Ys=[i]:Ys.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Vy(i,l,t);_f(i,m);break e;case 1:a=l;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(_n===null||!_n.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Fy(i,a,t);_f(i,_);break e}}i=i.return}while(i!==null)}ov(n)}catch(S){t=S,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function sv(){var e=ma.current;return ma.current=pa,e===null?pa:e}function Ad(){(be===0||be===3||be===2)&&(be=4),ke===null||!(or&268435455)&&!(Ba&268435455)||hn(ke,Ne)}function va(e,t){var n=K;K|=2;var r=sv();(ke!==e||Ne!==t)&&(Ft=null,Zn(e,t));do try{$_();break}catch(s){rv(e,s)}while(!0);if(pd(),K=n,ma.current=r,ve!==null)throw Error(T(261));return ke=null,Ne=0,be}function $_(){for(;ve!==null;)iv(ve)}function U_(){for(;ve!==null&&!ub();)iv(ve)}function iv(e){var t=lv(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?ov(e):ve=t,Cd.current=null}function ov(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=A_(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,ve=null;return}}else if(n=R_(n,t,Ye),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);be===0&&(be=5)}function Fn(e,t,n){var r=G,s=dt.transition;try{dt.transition=null,G=1,V_(e,t,n,r)}finally{dt.transition=s,G=r}return null}function V_(e,t,n,r){do Jr();while(mn!==null);if(K&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(xb(e,i),e===ke&&(ve=ke=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||po||(po=!0,cv(Zo,function(){return Jr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var o=G;G=1;var a=K;K|=4,Cd.current=null,L_(e,n),ev(n,e),o_(Mc),ta=!!Dc,Mc=Dc=null,e.current=n,I_(n),db(),K=a,G=o,dt.transition=i}else e.current=n;if(po&&(po=!1,mn=e,ya=s),i=e.pendingLanes,i===0&&(_n=null),pb(n.stateNode),Ke(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ga)throw ga=!1,e=ru,ru=null,e;return ya&1&&e.tag!==0&&Jr(),i=e.pendingLanes,i&1?e===su?Xs++:(Xs=0,su=e):Xs=0,On(),null}function Jr(){if(mn!==null){var e=Vg(ya),t=dt.transition,n=G;try{if(dt.transition=null,G=16>e?16:e,mn===null)var r=!1;else{if(e=mn,mn=null,ya=0,K&6)throw Error(T(331));var s=K;for(K|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(R=c;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Js(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var f=d.sibling,p=d.return;if(Xy(d),d===c){R=null;break}if(f!==null){f.return=p,R=f;break}R=p}}}var w=i.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Js(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,R=m;break e}R=i.return}}var g=e.current;for(R=g;R!==null;){o=R;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,R=v;else e:for(o=g;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:za(9,a)}}catch(S){he(a,a.return,S)}if(a===o){R=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,R=_;break e}R=a.return}}if(K=s,On(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(La,e)}catch{}r=!0}return r}finally{G=n,dt.transition=t}}return!1}function Bf(e,t,n){t=ss(n,t),t=Vy(e,t,1),e=bn(e,t,1),t=Ve(),e!==null&&(Ui(e,1,t),Ke(e,t))}function he(e,t,n){if(e.tag===3)Bf(e,e,n);else for(;t!==null;){if(t.tag===3){Bf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){e=ss(n,e),e=Fy(t,e,1),t=bn(t,e,1),e=Ve(),t!==null&&(Ui(t,1,e),Ke(t,e));break}}t=t.return}}function F_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Ne&n)===n&&(be===4||be===3&&(Ne&130023424)===Ne&&500>me()-Pd?Zn(e,0):Td|=n),Ke(e,t)}function av(e,t){t===0&&(e.mode&1?(t=ro,ro<<=1,!(ro&130023424)&&(ro=4194304)):t=1);var n=Ve();e=Xt(e,t),e!==null&&(Ui(e,t,n),Ke(e,n))}function z_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),av(e,n)}function B_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),av(e,n)}var lv;lv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,N_(e,t,n);We=!!(e.flags&131072)}else We=!1,se&&t.flags&1048576&&hy(t,la,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Uo(e,t),e=t.pendingProps;var s=es(t,Me.current);Gr(t,n),s=_d(null,t,r,e,s,n);var i=Sd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,He(r)?(i=!0,oa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yd(t),s.updater=Fa,t.stateNode=s,s._reactInternals=t,Hc(t,r,e,n),t=Jc(null,t,r,!0,i,n)):(t.tag=0,se&&i&&ud(t),$e(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Uo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=q_(r),e=vt(r,e),s){case 0:t=Gc(null,t,r,e,n);break e;case 1:t=Of(null,t,r,e,n);break e;case 11:t=Rf(null,t,r,e,n);break e;case 14:t=Af(null,t,r,vt(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),Gc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),Of(e,t,r,s,n);case 3:e:{if(qy(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,s=i.element,vy(e,t),da(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ss(Error(T(423)),t),t=Lf(e,t,r,n,s);break e}else if(r!==s){s=ss(Error(T(424)),t),t=Lf(e,t,r,n,s);break e}else for(Ze=xn(t.stateNode.containerInfo.firstChild),et=t,se=!0,_t=null,n=gy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ts(),r===s){t=Qt(e,t,n);break e}$e(e,t,r,n)}t=t.child}return t;case 5:return wy(t),e===null&&Bc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,$c(r,s)?o=null:i!==null&&$c(r,i)&&(t.flags|=32),Wy(e,t),$e(e,t,o,n),t.child;case 6:return e===null&&Bc(t),null;case 13:return Hy(e,t,n);case 4:return vd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ns(t,null,r,n):$e(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),Rf(e,t,r,s,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,X(ca,r._currentValue),r._currentValue=o,i!==null)if(jt(i.value,o)){if(i.children===s.children&&!qe.current){t=Qt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ht(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Wc(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$e(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Gr(t,n),s=ht(s),r=r(s),t.flags|=1,$e(e,t,r,n),t.child;case 14:return r=t.type,s=vt(r,t.pendingProps),s=vt(r.type,s),Af(e,t,r,s,n);case 15:return zy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),Uo(e,t),t.tag=1,He(r)?(e=!0,oa(t)):e=!1,Gr(t,n),Uy(t,r,s),Hc(t,r,s,n),Jc(null,t,r,!0,e,n);case 19:return Ky(e,t,n);case 22:return By(e,t,n)}throw Error(T(156,t.tag))};function cv(e,t){return Dg(e,t)}function W_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,r){return new W_(e,t,n,r)}function Od(e){return e=e.prototype,!(!e||!e.isReactComponent)}function q_(e){if(typeof e=="function")return Od(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qu)return 11;if(e===Zu)return 14}return 2}function kn(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Od(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Cr:return er(n.children,s,i,t);case Xu:o=8,s|=8;break;case gc:return e=ut(12,n,t,s|2),e.elementType=gc,e.lanes=i,e;case yc:return e=ut(13,n,t,s),e.elementType=yc,e.lanes=i,e;case vc:return e=ut(19,n,t,s),e.elementType=vc,e.lanes=i,e;case wg:return Wa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yg:o=10;break e;case vg:o=9;break e;case Qu:o=11;break e;case Zu:o=14;break e;case ln:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=ut(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function er(e,t,n,r){return e=ut(7,e,r,t),e.lanes=n,e}function Wa(e,t,n,r){return e=ut(22,e,r,t),e.elementType=wg,e.lanes=n,e.stateNode={isHidden:!1},e}function Il(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function Dl(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H_(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ld(e,t,n,r,s,i,o,a,l){return e=new H_(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ut(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(i),e}function K_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function uv(e){if(!e)return Cn;e=e._reactInternals;e:{if(hr(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(He(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(He(n))return uy(e,n,t)}return t}function dv(e,t,n,r,s,i,o,a,l){return e=Ld(n,r,!0,e,s,i,o,a,l),e.context=uv(null),n=e.current,r=Ve(),s=Sn(n),i=Ht(r,s),i.callback=t??null,bn(n,i,s),e.current.lanes=s,Ui(e,s,r),Ke(e,r),e}function qa(e,t,n,r){var s=t.current,i=Ve(),o=Sn(s);return n=uv(n),t.context===null?t.context=n:t.pendingContext=n,t=Ht(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bn(s,t,o),e!==null&&(kt(e,s,o,i),Do(e,s,o)),o}function wa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Id(e,t){Wf(e,t),(e=e.alternate)&&Wf(e,t)}function G_(){return null}var hv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dd(e){this._internalRoot=e}Ha.prototype.render=Dd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));qa(e,t,null,null)};Ha.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ar(function(){qa(null,e,null,null)}),t[Yt]=null}};function Ha(e){this._internalRoot=e}Ha.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dn.length&&t!==0&&t<dn[n].priority;n++);dn.splice(n,0,e),n===0&&qg(e)}};function Md(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ka(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qf(){}function J_(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=wa(o);i.call(c)}}var o=dv(t,r,e,0,null,!1,!1,"",qf);return e._reactRootContainer=o,e[Yt]=o.current,fi(e.nodeType===8?e.parentNode:e),ar(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=wa(l);a.call(c)}}var l=Ld(e,0,!1,null,null,!1,!1,"",qf);return e._reactRootContainer=l,e[Yt]=l.current,fi(e.nodeType===8?e.parentNode:e),ar(function(){qa(t,l,n,r)}),l}function Ga(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=wa(o);a.call(l)}}qa(t,o,e,s)}else o=J_(n,t,e,s,r);return wa(o)}Fg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ms(t.pendingLanes);n!==0&&(nd(t,n|1),Ke(t,me()),!(K&6)&&(is=me()+500,On()))}break;case 13:ar(function(){var r=Xt(e,1);if(r!==null){var s=Ve();kt(r,e,1,s)}}),Id(e,1)}};rd=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var n=Ve();kt(t,e,134217728,n)}Id(e,134217728)}};zg=function(e){if(e.tag===13){var t=Sn(e),n=Xt(e,t);if(n!==null){var r=Ve();kt(n,e,t,r)}Id(e,t)}};Bg=function(){return G};Wg=function(e,t){var n=G;try{return G=e,t()}finally{G=n}};Tc=function(e,t,n){switch(t){case"input":if(bc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=$a(r);if(!s)throw Error(T(90));bg(r),bc(r,s)}}}break;case"textarea":Sg(e,n);break;case"select":t=n.value,t!=null&&Wr(e,!!n.multiple,t,!1)}};Ng=Nd;Rg=ar;var Y_={usingClientEntryPoint:!1,Events:[Fi,Rr,$a,Tg,Pg,Nd]},Cs={findFiberByHostInstance:Gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X_={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lg(e),e===null?null:e.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||G_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mo.isDisabled&&mo.supportsFiber)try{La=mo.inject(X_),Rt=mo}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y_;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Md(t))throw Error(T(200));return K_(e,t,null,n)};st.createRoot=function(e,t){if(!Md(e))throw Error(T(299));var n=!1,r="",s=hv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ld(e,1,!1,null,null,n,!1,r,s),e[Yt]=t.current,fi(e.nodeType===8?e.parentNode:e),new Dd(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Lg(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return ar(e)};st.hydrate=function(e,t,n){if(!Ka(t))throw Error(T(200));return Ga(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!Md(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=hv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=dv(t,null,e,1,n??null,s,!1,i,o),e[Yt]=t.current,fi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ha(t)};st.render=function(e,t,n){if(!Ka(t))throw Error(T(200));return Ga(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!Ka(e))throw Error(T(40));return e._reactRootContainer?(ar(function(){Ga(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};st.unstable_batchedUpdates=Nd;st.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ka(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Ga(e,t,n,!1,r)};st.version="18.3.1-next-f1338f8080-20240426";function fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fv)}catch(e){console.error(e)}}fv(),fg.exports=st;var Bi=fg.exports;const Q_=tg(Bi);var Hf=Bi;pc.createRoot=Hf.createRoot,pc.hydrateRoot=Hf.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_i.apply(this,arguments)}var gn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gn||(gn={}));const Kf="popstate";function Z_(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return au("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xa(s)}return tS(t,n,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $d(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eS(){return Math.random().toString(36).substr(2,8)}function Gf(e,t){return{usr:e.state,key:e.key,idx:t}}function au(e,t,n,r){return n===void 0&&(n=null),_i({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hs(t):t,{state:n,key:t&&t.key||r||eS()})}function xa(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function hs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tS(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=gn.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(_i({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=gn.Pop;let x=d(),m=x==null?null:x-c;c=x,l&&l({action:a,location:b.location,delta:m})}function f(x,m){a=gn.Push;let g=au(b.location,x,m);c=d()+1;let v=Gf(g,c),_=b.createHref(g);try{o.pushState(v,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:a,location:b.location,delta:1})}function p(x,m){a=gn.Replace;let g=au(b.location,x,m);c=d();let v=Gf(g,c),_=b.createHref(g);o.replaceState(v,"",_),i&&l&&l({action:a,location:b.location,delta:0})}function w(x){let m=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:xa(x);return g=g.replace(/ $/,"%20"),ge(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let b={get action(){return a},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Kf,h),l=x,()=>{s.removeEventListener(Kf,h),l=null}},createHref(x){return t(s,x)},createURL:w,encodeLocation(x){let m=w(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(x){return o.go(x)}};return b}var Jf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jf||(Jf={}));function nS(e,t,n){return n===void 0&&(n="/"),rS(e,t,n)}function rS(e,t,n,r){let s=typeof t=="string"?hs(t):t,i=Ud(s.pathname||"/",n);if(i==null)return null;let o=pv(e);sS(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=gS(i);a=fS(o[l],c)}return a}function pv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ge(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=jn([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),pv(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:dS(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of mv(i.path))s(i,o,l)}),t}function mv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=mv(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function sS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iS=/^:[\w-]+$/,oS=3,aS=2,lS=1,cS=10,uS=-2,Yf=e=>e==="*";function dS(e,t){let n=e.split("/"),r=n.length;return n.some(Yf)&&(r+=uS),t&&(r+=aS),n.filter(s=>!Yf(s)).reduce((s,i)=>s+(iS.test(i)?oS:i===""?lS:cS),r)}function hS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function fS(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=pS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:jn([i,h.pathname]),pathnameBase:bS(jn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=jn([i,h.pathnameBase]))}return o}function pS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=mS(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let b=a[h]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const w=a[h];return p&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function mS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),$d(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function gS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ud(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const yS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vS=e=>yS.test(e);function wS(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?hs(e):e,i;if(n)if(vS(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),$d(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Xf(n.substring(1),"/"):i=Xf(n,t)}else i=t;return{pathname:i,search:_S(r),hash:SS(s)}}function Xf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ml(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xS(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vd(e,t){let n=xS(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fd(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=hs(e):(s=_i({},e),ge(!s.pathname||!s.pathname.includes("?"),Ml("?","pathname","search",s)),ge(!s.pathname||!s.pathname.includes("#"),Ml("#","pathname","hash",s)),ge(!s.search||!s.search.includes("#"),Ml("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=wS(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const jn=e=>e.join("/").replace(/\/\/+/g,"/"),bS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_S=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gv=["post","put","patch","delete"];new Set(gv);const jS=["get",...gv];new Set(jS);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Si.apply(this,arguments)}const zd=y.createContext(null),ES=y.createContext(null),Ln=y.createContext(null),Ja=y.createContext(null),It=y.createContext({outlet:null,matches:[],isDataRoute:!1}),yv=y.createContext(null);function CS(e,t){let{relative:n}=t===void 0?{}:t;fs()||ge(!1);let{basename:r,navigator:s}=y.useContext(Ln),{hash:i,pathname:o,search:a}=wv(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:jn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function fs(){return y.useContext(Ja)!=null}function fr(){return fs()||ge(!1),y.useContext(Ja).location}function vv(e){y.useContext(Ln).static||y.useLayoutEffect(e)}function Ge(){let{isDataRoute:e}=y.useContext(It);return e?BS():TS()}function TS(){fs()||ge(!1);let e=y.useContext(zd),{basename:t,future:n,navigator:r}=y.useContext(Ln),{matches:s}=y.useContext(It),{pathname:i}=fr(),o=JSON.stringify(Vd(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return vv(()=>{a.current=!0}),y.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Fd(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:jn([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}const PS=y.createContext(null);function NS(e){let t=y.useContext(It).outlet;return t&&y.createElement(PS.Provider,{value:e},t)}function RS(){let{matches:e}=y.useContext(It),t=e[e.length-1];return t?t.params:{}}function wv(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(Ln),{matches:s}=y.useContext(It),{pathname:i}=fr(),o=JSON.stringify(Vd(s,r.v7_relativeSplatPath));return y.useMemo(()=>Fd(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function AS(e,t){return OS(e,t)}function OS(e,t,n,r){fs()||ge(!1);let{navigator:s}=y.useContext(Ln),{matches:i}=y.useContext(It),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=fr(),d;if(t){var h;let x=typeof t=="string"?hs(t):t;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||ge(!1),d=x}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=nS(e,{pathname:p}),b=$S(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:jn([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:jn([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&b?y.createElement(Ja.Provider,{value:{location:Si({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:gn.Pop}},b):b}function LS(){let e=zS(),t=kS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,null)}const IS=y.createElement(LS,null);class DS extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(It.Provider,{value:this.props.routeContext},y.createElement(yv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MS(e){let{routeContext:t,match:n,children:r}=e,s=y.useContext(zd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(It.Provider,{value:t},r)}function $S(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ge(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,w=!1,b=null,x=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||IS,l&&(c<0&&f===0?(WS("route-fallback"),w=!0,x=null):c===f&&(w=!0,x=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,f+1)),g=()=>{let v;return p?v=b:w?v=x:h.route.Component?v=y.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,y.createElement(MS,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?y.createElement(DS,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var xv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xv||{}),bv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bv||{});function US(e){let t=y.useContext(zd);return t||ge(!1),t}function VS(e){let t=y.useContext(ES);return t||ge(!1),t}function FS(e){let t=y.useContext(It);return t||ge(!1),t}function _v(e){let t=FS(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}function zS(){var e;let t=y.useContext(yv),n=VS(),r=_v();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function BS(){let{router:e}=US(xv.UseNavigateStable),t=_v(bv.UseNavigateStable),n=y.useRef(!1);return vv(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Si({fromRouteId:t},i)))},[e,t])}const Qf={};function WS(e,t,n){Qf[e]||(Qf[e]=!0)}function qS(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Sv(e){let{to:t,replace:n,state:r,relative:s}=e;fs()||ge(!1);let{future:i,static:o}=y.useContext(Ln),{matches:a}=y.useContext(It),{pathname:l}=fr(),c=Ge(),d=Fd(t,Vd(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function HS(e){return NS(e.context)}function Tt(e){ge(!1)}function KS(e){let{basename:t="/",children:n=null,location:r,navigationType:s=gn.Pop,navigator:i,static:o=!1,future:a}=e;fs()&&ge(!1);let l=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:Si({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=hs(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:w="default"}=r,b=y.useMemo(()=>{let x=Ud(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:w},navigationType:s}},[l,d,h,f,p,w,s]);return b==null?null:y.createElement(Ln.Provider,{value:c},y.createElement(Ja.Provider,{children:n,value:b}))}function GS(e){let{children:t,location:n}=e;return AS(lu(t),n)}new Promise(()=>{});function lu(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,s)=>{if(!y.isValidElement(r))return;let i=[...t,s];if(r.type===y.Fragment){n.push.apply(n,lu(r.props.children,i));return}r.type!==Tt&&ge(!1),!r.props.index||!r.props.children||ge(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lu(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cu.apply(this,arguments)}function JS(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function YS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XS(e,t){return e.button===0&&(!t||t==="_self")&&!YS(e)}function uu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function QS(e,t){let n=uu(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const ZS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],e1="6";try{window.__reactRouterVersion=e1}catch{}const t1="startTransition",Zf=Ku[t1];function n1(e){let{basename:t,children:n,future:r,window:s}=e,i=y.useRef();i.current==null&&(i.current=Z_({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=y.useCallback(h=>{c&&Zf?Zf(()=>l(h)):l(h)},[l,c]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>qS(r),[r]),y.createElement(KS,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const r1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qn=y.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=t,f=JS(t,ZS),{basename:p}=y.useContext(Ln),w,b=!1;if(typeof c=="string"&&s1.test(c)&&(w=c,r1))try{let v=new URL(window.location.href),_=c.startsWith("//")?new URL(v.protocol+c):new URL(c),S=Ud(_.pathname,p);_.origin===v.origin&&S!=null?c=S+_.search+_.hash:b=!0}catch{}let x=CS(c,{relative:s}),m=i1(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function g(v){r&&r(v),v.defaultPrevented||m(v)}return y.createElement("a",cu({},f,{href:w||x,onClick:b||i?r:g,ref:n,target:l}))});var ep;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ep||(ep={}));var tp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tp||(tp={}));function i1(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Ge(),c=fr(),d=wv(e,{relative:o});return y.useCallback(h=>{if(XS(h,n)){h.preventDefault();let f=r!==void 0?r:xa(c)===xa(d);l(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,e,i,o,a])}function o1(e){let t=y.useRef(uu(e)),n=y.useRef(!1),r=fr(),s=y.useMemo(()=>QS(r.search,n.current?null:t.current),[r.search]),i=Ge(),o=y.useCallback((a,l)=>{const c=uu(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}function Ya(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function a1(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}const l1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Bd extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class c1 extends Bd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class np extends Bd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class rp extends Bd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var du;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(du||(du={}));class u1{constructor(t,{headers:n={},customFetch:r,region:s=du.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=l1(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return a1(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:d,timeout:h}=r;let f={},{region:p}=r;p||(p=this.region);const w=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,w.searchParams.set("forceFunctionRegion",p));let b;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",b=c):typeof c=="string"?(f["Content-Type"]="text/plain",b=c):typeof FormData<"u"&&c instanceof FormData?b=c:(f["Content-Type"]="application/json",b=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?b=JSON.stringify(c):b=c;let x=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const m=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:b,signal:x}).catch(S=>{throw new c1(S)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new np(m);if(!m.ok)throw new rp(m);let v=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield m.json():v==="application/octet-stream"||v==="application/pdf"?_=yield m.blob():v==="text/event-stream"?_=m:v==="multipart/form-data"?_=yield m.formData():_=yield m.text(),{data:_,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof rp||a instanceof np?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var d1=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},h1=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var p;const m=await i.text();m===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=m:a=JSON.parse(m))}const b=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");b&&x&&x.length>1&&(l=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var w;const b=await i.text();try{o=JSON.parse(b),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,d="OK")}catch{i.status===404&&b===""?(c=204,d="No Content"):o={message:b}}if(o&&n.isMaybeSingle&&(!(o==null||(w=o.details)===null||w===void 0)&&w.includes("0 rows"))&&(o=null,c=200,d="OK"),o&&n.shouldThrowOnError)throw new d1(o)}return{error:o,data:a,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="",l="",c="";const d=i==null?void 0:i.cause;if(d){var h,f,p,w;const m=(h=d==null?void 0:d.message)!==null&&h!==void 0?h:"",g=(f=d==null?void 0:d.code)!==null&&f!==void 0?f:"";a=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(w=d==null?void 0:d.name)!==null&&w!==void 0?w:"Error"}: ${m}`,g&&(a+=` (${g})`),d!=null&&d.stack&&(a+=`
${d.stack}`)}else{var b;a=(b=i==null?void 0:i.stack)!==null&&b!==void 0?b:""}const x=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(c="",l="Request was aborted (timeout or manual cancellation)",x>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${x} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",l="HTTP headers exceeded server limits (typically 16KB)",x>this.urlLengthLimit&&(l+=`. Your request URL is ${x} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:l,code:c},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},f1=class extends h1{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const sp=new RegExp("[,()]");var Sr=class extends f1{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&sp.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&sp.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},p1=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Sr({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new Sr({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",d.join(","))}}return new Sr({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Sr({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Sr({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function ki(e){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(e)}function m1(e,t){if(ki(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ki(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g1(e){var t=m1(e,"string");return ki(t)=="symbol"?t:t+""}function y1(e,t,n){return(t=g1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ip(Object(n),!0).forEach(function(r){y1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ip(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var v1=class kv{constructor(t,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const a=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,c)=>{const d=new AbortController,h=setTimeout(()=>d.abort(),i),f=c==null?void 0:c.signal;if(f){if(f.aborted)return clearTimeout(h),a(l,c);const p=()=>{clearTimeout(h),d.abort()};return f.addEventListener("abort",p,{once:!0}),a(l,go(go({},c),{},{signal:d.signal})).finally(()=>{clearTimeout(h),f.removeEventListener("abort",p)})}return a(l,go(go({},c),{},{signal:d.signal})).finally(()=>clearTimeout(h))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new p1(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new kv(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),h=r&&Object.values(n).some(d);h?(a="POST",c=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([p,w])=>w!==void 0).map(([p,w])=>[p,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([p,w])=>{l.searchParams.append(p,w)})):(a="POST",c=n);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Sr({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class w1{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const x1="2.96.0",b1=`realtime-js/${x1}`,_1="1.0.0",jv="2.0.0",op=jv,hu=1e4,S1=1e3,k1=100;var un;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(un||(un={}));var we;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(we||(we={}));var bt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bt||(bt={}));var fu;(function(e){e.websocket="websocket"})(fu||(fu={}));var Hn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Hn||(Hn={}));class j1{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let w=new DataView(p),b=0;w.setUint8(b++,this.KINDS.userBroadcastPush),w.setUint8(b++,l.length),w.setUint8(b++,a.length),w.setUint8(b++,o.length),w.setUint8(b++,c.length),w.setUint8(b++,h.length),w.setUint8(b++,n),Array.from(l,m=>w.setUint8(b++,m.charCodeAt(0))),Array.from(a,m=>w.setUint8(b++,m.charCodeAt(0))),Array.from(o,m=>w.setUint8(b++,m.charCodeAt(0))),Array.from(c,m=>w.setUint8(b++,m.charCodeAt(0))),Array.from(h,m=>w.setUint8(b++,m.charCodeAt(0)));var x=new Uint8Array(p.byteLength+r.byteLength);return x.set(new Uint8Array(p),0),x.set(new Uint8Array(r),p.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+i));l=l+i;const h=r.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,w={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(w.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Ev{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Y||(Y={}));const ap=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=E1(o,e,t,s),i),{}):{}},E1=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Cv(i,o):pu(o)},Cv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return N1(t,n)}switch(e){case Y.bool:return C1(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return T1(t);case Y.json:case Y.jsonb:return P1(t);case Y.timestamp:return R1(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return pu(t);default:return pu(t)}},pu=e=>e,C1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},T1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},P1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},N1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Cv(t,a))}return e},R1=e=>typeof e=="string"?e.replace(" ","T"):e,Tv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class $l{constructor(t,n,r={},s=hu){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lp||(lp={}));class Qs{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Qs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qs.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),w=d.filter(x=>p.indexOf(x.presence_ref)<0),b=h.filter(x=>f.indexOf(x.presence_ref)<0);w.length>0&&(a[c]=w),b.length>0&&(l[c]=b)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cp||(cp={}));var Zs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zs||(Zs={}));var zt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(zt||(zt={}));class $r{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $l(this,bt.join,this.params,this.timeout),this.rejoinTimer=new Ev(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Qs(this),this.broadcastEndpointURL=Tv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==we.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Zs.PRESENCE]&&this.bindings[Zs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(zt.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(zt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(zt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,x=(w=b==null?void 0:b.length)!==null&&w!==void 0?w:0,m=[];for(let g=0;g<x;g++){const v=b[g],{filter:{event:_,schema:S,table:k,filter:j}}=v,E=p&&p[g];if(E&&E.event===_&&$r.isFilterValueEqual(E.schema,S)&&$r.isFilterValueEqual(E.table,k)&&$r.isFilterValueEqual(E.filter,j))m.push(Object.assign(Object.assign({},v),{id:E.id}));else{this.unsubscribe(),this.state=we.errored,t==null||t(zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(zt.SUBSCRIBED);return}}).receive("error",p=>{this.state=we.errored,t==null||t(zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===we.joined&&t===Zs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=we.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new $l(this,bt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=we.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $l(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>k1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=bt;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,b,x;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(b=p.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,b,x,m,g,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,S=(w=p.filter)===null||w===void 0?void 0:w.event;return _&&((b=n.ids)===null||b===void 0?void 0:b.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(g=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:b,table:x,commit_timestamp:m,type:g,errors:v}=w;f=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:m,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(w))}p.callback(f,r)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&$r.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bt.close,{},t)}_onError(t){this._on(bt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ap(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ap(t.columns,t.old_record)),n}}const Ul=()=>{},yo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},A1=[1e3,2e3,5e3,1e4],O1=1e4,L1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class I1{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hu,this.transport=null,this.heartbeatIntervalMs=yo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ul,this.ref=0,this.reconnectTimer=null,this.vsn=op,this.logger=Ul,this.conn=null,this.sendBuffer=[],this.serializer=new j1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${fu.websocket}`,this.httpEndpoint=Tv(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=w1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case un.connecting:return Hn.Connecting;case un.open:return Hn.Open;case un.closing:return Hn.Closing;default:return Hn.Closed}}isConnected(){return this.connectionState()===Hn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new $r(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(S1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===un.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===un.open||this.conn.readyState===un.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(bt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([L1],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:b1};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(bt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ev(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,c,d,h,f,p;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:hu,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:yo.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Ul,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:op,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:w=>A1[w-1]||O1,this.vsn){case _1:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(w,b)=>b(JSON.stringify(w)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(w,b)=>b(JSON.parse(w));break;case jv:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ji=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function D1(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function M1(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function $1(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=D1(e.baseUrl,r,s),l=await M1(e.auth),c=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!c.ok){const p=h?f:void 0,w=p==null?void 0:p.error;throw new ji((w==null?void 0:w.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:p})}return{status:c.status,headers:c.headers,data:f}}}}function vo(e){return e.join("")}var U1=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:vo(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vo(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vo(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vo(e.namespace)}`}),!0}catch(t){if(t instanceof ji&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ji&&n.status===409)return;throw n}}};function yr(e){return e.join("")}var V1=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yr(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof ji&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ji&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},F1=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=$1({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new U1(this.client,t),this.tableOps=new V1(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Xa=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Qa(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var wo=class extends Xa{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pv=class extends Xa{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const z1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mu=e=>{if(Array.isArray(e))return e.map(n=>mu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=mu(r)}),t},W1=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ei(e){"@babel/helpers - typeof";return Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(e)}function q1(e,t){if(Ei(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ei(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H1(e){var t=q1(e,"string");return Ei(t)=="symbol"?t:t+""}function K1(e,t,n){return(t=H1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?up(Object(n),!0).forEach(function(r){K1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const dp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},G1=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new wo(dp(o),i,a,r))}).catch(()=>{if(r==="vectors"){const o=i+"";t(new wo(s.statusText||`HTTP ${i} error`,i,o,r))}else{const o=i+"";t(new wo(s.statusText||`HTTP ${i} error`,i,o,r))}});else{const o=i+"";t(new wo(s.statusText||`HTTP ${i} error`,i,o,r))}}else t(new Pv(dp(e),e,r))},J1=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?U(U({},s),n):(B1(r)?(s.headers=U({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),U(U({},s),n))};async function Ts(e,t,n,r,s,i,o){return new Promise((a,l)=>{e(n,J1(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;if(o==="vectors"){const d=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!d||!d.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>G1(c,l,r,o))})}function Nv(e="storage"){return{get:async(t,n,r,s)=>Ts(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>Ts(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>Ts(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>Ts(t,"HEAD",n,U(U({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>Ts(t,"DELETE",n,s,i,r,e)}}const Y1=Nv("storage"),{get:Ci,post:wt,put:gu,head:X1,remove:Wd}=Y1,Xe=Nv("vectors");var ps=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=z1(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=U(U({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qa(n))return{data:null,error:n};throw n}}},Q1=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qa(t))return{data:null,error:t};throw t}}};let Rv;Rv=Symbol.toStringTag;var Z1=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Rv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Q1(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qa(t))return{data:null,error:t};throw t}}};const ek={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tk=class extends ps{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const o=U(U({},hp),r);let a=U(U({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=U(U({},a),r.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),h=await(e=="PUT"?gu:wt)(s.fetch,`${s.url}/object/${d}`,i,U({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:c,id:h.Id,fullPath:h.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",t),s.handleOperation(async()=>{let l;const c=U({upsert:hp.upsert},r),d=U(U({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{path:i,fullPath:(await gu(s.fetch,a.toString(),l,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=U({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await wt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new Xa("No token returned by API");return{signedUrl:o.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await wt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await wt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await wt(r.fetch,`${r.url}/object/sign/${s}`,U({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await wt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(o=>U(U({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(e),a=()=>Ci(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0},n);return new Z1(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>mu(await Ci(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await X1(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qa(r)&&r instanceof Pv){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Wd(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=U(U(U({},ek),t),{},{prefix:e||""});return await wt(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=U({},e);return await wt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const nk="2.96.0",Wi={"X-Client-Info":`storage-js/${nk}`};var rk=class extends ps{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=U(U({},Wi),t);super(i,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Ci(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ci(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await wt(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await gu(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await wt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Wd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},sk=class extends ps{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=U(U({},Wi),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await wt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Ci(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Wd(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!W1(e))throw new Xa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new F1({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},ik=class extends ps{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=U(U({},Wi),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Xe.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Xe.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},ok=class extends ps{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=U(U({},Wi),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},ak=class extends ps{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=U(U({},Wi),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Xe.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},lk=class extends ak{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new ck(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},ck=class extends ik{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,U(U({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,U(U({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new uk(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},uk=class extends ok{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,U(U({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,U(U({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,U(U({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,U(U({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,U(U({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},dk=class extends rk{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new tk(this.url,this.headers,e,this.fetch)}get vectors(){return new lk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sk(this.url+"/iceberg",this.headers,this.fetch)}};const Av="2.96.0",kr=30*1e3,yu=3,Vl=yu*kr,hk="http://localhost:9999",fk="supabase.auth.token",pk={"X-Client-Info":`gotrue-js/${Av}`},vu="X-Supabase-Api-Version",Ov={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gk=10*60*1e3;class Ti extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yk extends Ti{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function vk(e){return L(e)&&e.name==="AuthApiError"}class Kn extends Ti{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class nn extends Ti{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Je extends nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fl(e){return L(e)&&e.name==="AuthSessionMissingError"}class vr extends nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xo extends nn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bo extends nn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wk(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class fp extends nn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xk extends nn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class wu extends nn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function zl(e){return L(e)&&e.name==="AuthRetryableFetchError"}class pp extends nn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class xu extends nn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mp=` 	
\r=`.split(""),bk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mp.length;t+=1)e[mp[t].charCodeAt(0)]=-2;for(let t=0;t<ba.length;t+=1)e[ba[t].charCodeAt(0)]=t;return e})();function gp(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ba[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ba[r]),t.queuedBits-=6}}function Lv(e,t,n){const r=bk[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yp(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{kk(o,r,n)};for(let o=0;o<e.length;o+=1)Lv(e.charCodeAt(o),s,i);return t.join("")}function _k(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Sk(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}_k(r,t)}}function kk(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Yr(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Lv(e.charCodeAt(s),n,r);return new Uint8Array(t)}function jk(e){const t=[];return Sk(e,n=>t.push(n)),new Uint8Array(t)}function Xn(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>gp(s,n,r)),gp(null,n,r),t.join("")}function Ek(e){return Math.round(Date.now()/1e3)+e}function Ck(){return Symbol("auth-callback")}const Ee=()=>typeof window<"u"&&typeof document<"u",Mn={tested:!1,writable:!1},Iv=()=>{if(!Ee())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mn.tested)return Mn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mn.tested=!0,Mn.writable=!0}catch{Mn.tested=!0,Mn.writable=!1}return Mn.writable};function Tk(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Dv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Pk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",jr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},$n=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},je=async(e,t)=>{await e.removeItem(t)};class Za{constructor(){this.promise=new Za.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Za.promiseConstructor=Promise;function _o(e){const t=e.split(".");if(t.length!==3)throw new xu("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!mk.test(t[r]))throw new xu("JWT not in base64url format");return{header:JSON.parse(yp(t[0])),payload:JSON.parse(yp(t[1])),signature:Yr(t[2]),raw:{header:t[0],payload:t[1]}}}async function Nk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Rk(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Ak(e){return("0"+e.toString(16)).substr(-2)}function Ok(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Ak).join("")}async function Lk(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Ik(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Lk(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wr(e,t,n=!1){const r=Ok();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await jr(e,`${t}-code-verifier`,s);const i=await Ik(r);return[i,r===i?"plain":"s256"]}const Dk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mk(e){const t=e.headers.get(vu);if(!t||!t.match(Dk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $k(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Uk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xr(e){if(!Vk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bl(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fk(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function vp(e){return JSON.parse(JSON.stringify(e))}const zn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zk=[502,503,504];async function wp(e){var t;if(!Pk(e))throw new wu(zn(e),0);if(zk.includes(e.status))throw new wu(zn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Kn(zn(i),i)}let r;const s=Mk(e);if(s&&s.getTime()>=Ov["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new pp(zn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Je}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new pp(zn(n),e.status,n.weak_password.reasons);throw new yk(zn(n),e.status||500,r)}const Bk=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function V(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[vu]||(i[vu]=Ov["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Wk(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Wk(e,t,n,r,s,i){const o=Bk(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new wu(zn(l),0)}if(a.ok||await wp(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await wp(l)}}function gt(e){var t;let n=null;Kk(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ek(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function xp(e){const t=gt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qk(e){return{data:e,error:null}}function Hk(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Ya(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function bp(e){return e}function Kk(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wl=["global","local","others"];class Gk{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Dv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Wl[0]){if(Wl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wl.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ya(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Hk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fn})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:bp});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);c[`${x}Page`]=b}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){xr(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fn})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){xr(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){xr(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){xr(t.userId);try{const{data:n,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(t){xr(t.userId),xr(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:bp});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);c[`${x}Page`]=b}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(L(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}}function _p(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const br={debug:!!(globalThis&&Iv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Sp extends Mv{}async function Jk(e,t,n){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Sp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(br.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new Sp(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function Yk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $v(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Xk(e){return parseInt(e,16)}function Qk(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Zk(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=$v(e.address),w=d?`${d}://${r}`:r,b=e.statement?`${e.statement}
`:"",x=`${w} wants you to sign in with your Ethereum account:
${p}

${b}`;let m=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),l&&(m+=`
Request ID: ${l}`),c){let g=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);g+=`
- ${v}`}m+=g}return`${x}
${m}`}class ye extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class _a extends ye{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function ej({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ye({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Uv(o)){if(i.rp.id!==o)return new ye({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function tj({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ye({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Uv(r)){if(n.rpId!==r)return new ye({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class nj{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const rj=new nj;function sj(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Ya(e,["challenge","user","excludeCredentials"]),i=Yr(t).buffer,o=Object.assign(Object.assign({},n),{id:Yr(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Yr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function ij(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ya(e,["challenge","allowCredentials"]),s=Yr(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Yr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function oj(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aj(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xn(new Uint8Array(s.authenticatorData)),clientDataJSON:Xn(new Uint8Array(s.clientDataJSON)),signature:Xn(new Uint8Array(s.signature)),userHandle:s.userHandle?Xn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Uv(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function kp(){var e,t;return!!(Ee()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function lj(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _a("Browser returned unexpected credential type",t)}:{data:null,error:new _a("Empty credential response",t)}}catch(t){return{data:null,error:ej({error:t,options:e})}}}async function cj(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _a("Browser returned unexpected credential type",t)}:{data:null,error:new _a("Empty credential response",t)}}catch(t){return{data:null,error:tj({error:t,options:e})}}}const uj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sa(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=Sa(a,o):r[i]=Sa(o)}else r[i]=o}return r}function hj(e,t){return Sa(uj,e,t||{})}function fj(e,t){return Sa(dj,e,t||{})}class pj{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:l};const c=s??rj.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;if(!d.name){const h=r;if(h)d.name=`${d.id}:${h}`;else{const p=(await this.client.getUser()).data.user,w=((o=p==null?void 0:p.user_metadata)===null||o===void 0?void 0:o.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${w}`}}d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=hj(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await lj({publicKey:d,signal:c});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const d=fj(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await cj(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:c}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(a){return L(a)?{data:null,error:a}:{data:null,error:new Kn("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ti("rpId is required for WebAuthn authentication")};try{if(!kp())return{data:null,error:new Kn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new Kn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ti("rpId is required for WebAuthn registration")};try{if(!kp())return{data:null,error:new Kn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new Kn("Unexpected error in register",o)}}}}Yk();const mj={url:hk,storageKey:fk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function jp(e,t,n){return await n()}const _r={};class Pi{get jwks(){var t,n;return(n=(t=_r[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=_r[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},mj),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Pi.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Pi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ee()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Gk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Dv(i.fetch),this.lock=i.lock||jp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Ee()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Jk:this.lock=jp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Iv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_p(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_p(this.memoryStorage)),Ee()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Av}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Ee()&&(n=Tk(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ee()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),wk(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?this._returnResult({error:n}):this._returnResult({error:new Kn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:gt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await wr(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:w},xform:gt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:gt})}else throw new xo("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xp})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xp})}else throw new xo("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new vr;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,c,d,h,f;let p,w;if("message"in t)p=t.message,w=t.signature;else{const{chain:b,wallet:x,statement:m,options:g}=t;let v;if(Ee())if(typeof x=="object")v=x;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")v=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=x}const _=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),S=await v.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=$v(S[0]);let j=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const P=await v.request({method:"eth_chainId"});j=Xk(P)}const E={domain:_.host,address:k,statement:m,uri:_.href,version:"1",chainId:j,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Zk(E),w=await v.request({method:"personal_sign",params:[Qk(p),k]})}try{const{data:b,error:x}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:w},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:gt});if(x)throw x;if(!b||!b.session||!b.user){const m=new vr;return this._returnResult({data:{user:null,session:null},error:m})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(L(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var n,r,s,i,o,a,l,c,d,h,f,p;let w,b;if("message"in t)w=t.message,b=t.signature;else{const{chain:x,wallet:m,statement:g,options:v}=t;let _;if(Ee())if(typeof m=="object")_=m;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const S=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),b=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=k}}try{const{data:x,error:m}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Xn(b)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:gt});if(m)throw m;if(!x||!x.session||!x.user){const g=new vr;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:m})}catch(x){if(L(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await $n(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new xk;const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:gt});if(await je(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new vr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gt}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new vr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await wr(this.storage,this.storageKey));const{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new xo("You must provide either an email or phone number.")}catch(a){if(await je(this.storage,`${this.storageKey}-code-verifier`),L(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await wr(this.storage,this.storageKey));const c=await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:qk});return!((i=c.data)===null||i===void 0)&&i.url&&Ee()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await je(this.storage,`${this.storageKey}-code-verifier`),L(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Je;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(L(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await V(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await V(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new xo("You must provide either an email or phone number and a type")}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await $n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Vl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await $n(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Bl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Fk(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Je}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:fn})})}catch(n){if(L(n))return Fl(n)&&(await this._removeSession(),await je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Je;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await wr(this.storage,this.storageKey));const{data:c,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:fn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await je(this.storage,`${this.storageKey}-code-verifier`),L(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Je;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=_o(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(L(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Je;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ee())throw new bo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new fp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fp("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new bo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=kr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:b,error:x}=await this._getUser(i);if(x)throw x;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:t.type},error:null})}catch(r){if(L(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await $n(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!Fl(i))return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(vk(a)&&(a.status===404||a.status===401||a.status===403)||Fl(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Ck(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await wr(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ee()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(L(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:d}=t,h=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new vr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await je(this.storage,`${this.storageKey}-code-verifier`),L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Rk(async s=>(s>0&&await Nk(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&zl(i)&&Date.now()+o-r<kr})}catch(r){if(this._debug(n,"error",r),L(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ee()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await $n(this.storage,this.storageKey);if(s&&this.userStorage){let o=await $n(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await jr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Bl()}else if(s&&!s.user&&!s.user){const o=await $n(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await je(this.storage,this.storageKey+"-user"),await jr(this.storage,this.storageKey,s)):s.user=Bl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Vl;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Vl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),zl(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Za;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Je;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),L(i)){const o={data:null,error:i};return zl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await je(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await jr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=vp(s);await jr(this.storage,this.storageKey,i)}else{const s=vp(n);await jr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await je(this.storage,this.storageKey),await je(this.storage,this.storageKey+"-code-verifier"),await je(this.storage,this.storageKey+"-user"),this.userStorage&&await je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ee()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),kr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/kr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${kr}ms, refresh threshold is ${yu} ticks`),s<=yu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Mv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ee()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await wr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await V(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?oj(t.webauthn.credential_response):aj(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:sj(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ij(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:p}=_o(t);let w=null;p.aal&&(w=p.aal);let b=w;const{data:{user:x},error:m}=await this.getUser(t);if(m)return this._returnResult({data:null,error:m});((r=(n=x==null?void 0:x.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(b="aal2");const v=p.amr||[];return{data:{currentLevel:w,nextLevel:b,currentAuthenticationMethods:v},error:null}}catch(p){if(L(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=_o(o.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await V(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Je})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Je});const o=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ee()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Je});const o=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ee()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await V(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Je})})}catch(t){if(L(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await V(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Je})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+gk>s)return r;const{data:i,error:o}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:w}=await this.getSession();if(w||!p.session)return this._returnResult({data:null,error:w});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=_o(r);n!=null&&n.allowExpired||$k(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=Uk(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,jk(`${a}.${l}`)))throw new xu("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}}Pi.nextInstanceID={};const gj=Pi,yj="2.96.0";let Us="";typeof Deno<"u"?Us="deno":typeof document<"u"?Us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Us="react-native":Us="node";const vj={"X-Client-Info":`supabase-js-${Us}/${yj}`},wj={headers:vj},xj={schema:"public"},bj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_j={};function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}function Sj(e,t){if(Ni(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ni(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kj(e){var t=Sj(e,"string");return Ni(t)=="symbol"?t:t+""}function jj(e,t,n){return(t=kj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ep(Object(n),!0).forEach(function(r){jj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ep(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Ej=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Cj=()=>Headers,Tj=(e,t,n)=>{const r=Ej(n),s=Cj();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,ue(ue({},o),{},{headers:c}))}};function Pj(e){return e.endsWith("/")?e:e+"/"}function Nj(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:d,global:h}=t,f={db:ue(ue({},l),s),auth:ue(ue({},c),i),realtime:ue(ue({},d),o),storage:{},global:ue(ue(ue({},h),a),{},{headers:ue(ue({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Rj(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Pj(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Aj=class extends gj{constructor(e){super(e)}},Oj=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=Rj(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:xj,realtime:_j,auth:ue(ue({},bj),{},{storageKey:o}),global:wj},l=Nj(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=Tj(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ue({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new v1(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new dk(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new u1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Aj({url:this.authUrl.href,headers:ue(ue({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new I1(this.realtimeUrl.href,ue(ue({},e),{},{params:ue(ue({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Lj=(e,t,n)=>new Oj(e,t,n);function Ij(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Ij()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Dj="https://zxuiqrdgmyvhhqnmkzfm.supabase.co",Mj="sb_publishable_JIPAP71VmCevnbCjJe78xg_AzZ6xtyK",O=Lj(Dj,Mj),Vv=y.createContext({session:null,user:null,loading:!0,signInWithGoogle:async()=>{},signInWithGithub:async()=>{},signInWithEmail:async()=>{},signUpWithEmail:async()=>{},signOut:async()=>{}}),pt=()=>y.useContext(Vv);function $j({children:e}){const[t,n]=y.useState(null),[r,s]=y.useState(null),[i,o]=y.useState(!0);y.useEffect(()=>{O.auth.getSession().then(({data:{session:w}})=>{n(w),s((w==null?void 0:w.user)??null),o(!1)});const{data:{subscription:p}}=O.auth.onAuthStateChange((w,b)=>{n(b),s((b==null?void 0:b.user)??null),o(!1)});return()=>p.unsubscribe()},[]);const f={session:t,user:r,loading:i,signInWithGoogle:async()=>{const{error:p}=await O.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});if(p)throw p},signInWithGithub:async()=>{const{error:p}=await O.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}/`}});if(p)throw p},signInWithEmail:async(p,w)=>{const{error:b}=await O.auth.signInWithPassword({email:p,password:w});if(b)throw b},signUpWithEmail:async(p,w)=>{const{error:b}=await O.auth.signUp({email:p,password:w});if(b)throw b},signOut:async()=>{await O.auth.signOut()}};return u.jsx(Vv.Provider,{value:f,children:e})}function Qe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Cp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pr(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Cp(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Cp(e[s],null)}}}}function lr(...e){return y.useCallback(pr(...e),e)}function Fv(e,t=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=h=>{var m;const{scope:f,children:p,...w}=h,b=((m=f==null?void 0:f[e])==null?void 0:m[l])||a,x=y.useMemo(()=>w,Object.values(w));return u.jsx(b.Provider,{value:x,children:p})};c.displayName=i+"Provider";function d(h,f){var b;const p=((b=f==null?void 0:f[e])==null?void 0:b[l])||a,w=y.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,Uj(s,...t)]}function Uj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Tp(e){const t=Vj(e),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(zj);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function Vj(e){const t=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=Wj(s),a=Bj(i,s.props);return s.type!==y.Fragment&&(a.ref=r?pr(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fj=Symbol("radix.slottable");function zj(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fj}function Bj(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function Wj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function qj(e){const t=e+"CollectionProvider",[n,r]=Fv(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:x,children:m}=b,g=Vt.useRef(null),v=Vt.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:v,collectionRef:g,children:m})};o.displayName=t;const a=e+"CollectionSlot",l=Tp(a),c=Vt.forwardRef((b,x)=>{const{scope:m,children:g}=b,v=i(a,m),_=lr(x,v.collectionRef);return u.jsx(l,{ref:_,children:g})});c.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Tp(d),p=Vt.forwardRef((b,x)=>{const{scope:m,children:g,...v}=b,_=Vt.useRef(null),S=lr(x,_),k=i(d,m);return Vt.useEffect(()=>(k.itemMap.set(_,{ref:_,...v}),()=>void k.itemMap.delete(_))),u.jsx(f,{[h]:"",ref:S,children:g})});p.displayName=d;function w(b){const x=i(e+"CollectionConsumer",b);return Vt.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((k,j)=>v.indexOf(k.ref.current)-v.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},w,r]}function Hj(e){const t=Kj(e),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(Jj);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function Kj(e){const t=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=Xj(s),a=Yj(i,s.props);return s.type!==y.Fragment&&(a.ref=r?pr(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Gj=Symbol("radix.slottable");function Jj(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Gj}function Yj(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function Xj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Qj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zv=Qj.reduce((e,t)=>{const n=Hj(`Primitive.${t}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Zj(e,t){e&&Bi.flushSync(()=>e.dispatchEvent(t))}function cr(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function eE(e,t=globalThis==null?void 0:globalThis.document){const n=cr(e);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var tE="DismissableLayer",bu="dismissableLayer.update",nE="dismissableLayer.pointerDownOutside",rE="dismissableLayer.focusOutside",Pp,Bv=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wv=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,c=y.useContext(Bv),[d,h]=y.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),w=lr(t,j=>h(j)),b=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),m=b.indexOf(x),g=d?b.indexOf(d):-1,v=c.layersWithOutsidePointerEventsDisabled.size>0,_=g>=m,S=iE(j=>{const E=j.target,P=[...c.branches].some(C=>C.contains(E));!_||P||(s==null||s(j),o==null||o(j),j.defaultPrevented||a==null||a())},f),k=oE(j=>{const E=j.target;[...c.branches].some(C=>C.contains(E))||(i==null||i(j),o==null||o(j),j.defaultPrevented||a==null||a())},f);return eE(j=>{g===c.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&a&&(j.preventDefault(),a()))},f),y.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Pp=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Np(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Pp)}},[d,f,n,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Np())},[d,c]),y.useEffect(()=>{const j=()=>p({});return document.addEventListener(bu,j),()=>document.removeEventListener(bu,j)},[]),u.jsx(zv.div,{...l,ref:w,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:Qe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Qe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Qe(e.onPointerDownCapture,S.onPointerDownCapture)})});Wv.displayName=tE;var sE="DismissableLayerBranch",qv=y.forwardRef((e,t)=>{const n=y.useContext(Bv),r=y.useRef(null),s=lr(t,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(zv.div,{...e,ref:s})});qv.displayName=sE;function iE(e,t=globalThis==null?void 0:globalThis.document){const n=cr(e),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Hv(nE,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function oE(e,t=globalThis==null?void 0:globalThis.document){const n=cr(e),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&Hv(rE,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Np(){const e=new CustomEvent(bu);document.dispatchEvent(e)}function Hv(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Zj(s,i):s.dispatchEvent(i)}var aE=Wv,lE=qv;function cE(e){const t=uE(e),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(hE);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function uE(e){const t=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=pE(s),a=fE(i,s.props);return s.type!==y.Fragment&&(a.ref=r?pr(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dE=Symbol("radix.slottable");function hE(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dE}function fE(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function pE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var mE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gE=mE.reduce((e,t)=>{const n=cE(`Primitive.${t}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Ri=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},yE="Portal",Kv=y.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=y.useState(!1);Ri(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Q_.createPortal(u.jsx(gE.div,{...r,ref:t}),o):null});Kv.displayName=yE;function vE(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var Gv=e=>{const{present:t,children:n}=e,r=wE(t),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=lr(r.ref,xE(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};Gv.displayName="Presence";function wE(e){const[t,n]=y.useState(),r=y.useRef(null),s=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[a,l]=vE(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=So(r.current);i.current=a==="mounted"?c:"none"},[a]),Ri(()=>{const c=r.current,d=s.current;if(d!==e){const f=i.current,p=So(c);e?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Ri(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=p=>{const b=So(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&b&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=p=>{p.target===t&&(i.current=So(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function So(e){return(e==null?void 0:e.animationName)||"none"}function xE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function bE(e){const t=_E(e),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(kE);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function _E(e){const t=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=EE(s),a=jE(i,s.props);return s.type!==y.Fragment&&(a.ref=r?pr(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SE=Symbol("radix.slottable");function kE(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SE}function jE(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function EE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var CE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ms=CE.reduce((e,t)=>{const n=bE(`Primitive.${t}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function TE(e,t){e&&Bi.flushSync(()=>e.dispatchEvent(t))}var PE=Ku[" useInsertionEffect ".trim().toString()]||Ri;function NE({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=RE({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=y.useCallback(d=>{var h;if(a){const f=AE(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,e,i,o]);return[l,c]}function RE({defaultProp:e,onChange:t}){const[n,r]=y.useState(e),s=y.useRef(n),i=y.useRef(t);return PE(()=>{i.current=t},[t]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function AE(e){return typeof e=="function"}function OE(e){const t=LE(e),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(DE);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function LE(e){const t=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=$E(s),a=ME(i,s.props);return s.type!==y.Fragment&&(a.ref=r?pr(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var IE=Symbol("radix.slottable");function DE(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===IE}function ME(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function $E(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var UE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VE=UE.reduce((e,t)=>{const n=OE(`Primitive.${t}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),FE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zE="VisuallyHidden",qd=y.forwardRef((e,t)=>u.jsx(VE.span,{...e,ref:t,style:{...FE,...e.style}}));qd.displayName=zE;var Hd="ToastProvider",[Kd,BE,WE]=qj("Toast"),[Jv]=Fv("Toast",[WE]),[qE,el]=Jv(Hd),Yv=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,l]=y.useState(null),[c,d]=y.useState(0),h=y.useRef(!1),f=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hd}\`. Expected non-empty \`string\`.`),u.jsx(Kd.Provider,{scope:t,children:u.jsx(qE,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(p=>p+1),[]),onToastRemove:y.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};Yv.displayName=Hd;var Xv="ToastViewport",HE=["F8"],_u="toast.viewportPause",Su="toast.viewportResume",Qv=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=HE,label:s="Notifications ({hotkey})",...i}=e,o=el(Xv,n),a=BE(n),l=y.useRef(null),c=y.useRef(null),d=y.useRef(null),h=y.useRef(null),f=lr(t,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;y.useEffect(()=>{const x=m=>{var v;r.length!==0&&r.every(_=>m[_]||m.code===_)&&((v=h.current)==null||v.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,m=h.current;if(w&&x&&m){const g=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(_u);m.dispatchEvent(k),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(Su);m.dispatchEvent(k),o.isClosePausedRef.current=!1}},_=k=>{!x.contains(k.relatedTarget)&&v()},S=()=>{x.contains(document.activeElement)||v()};return x.addEventListener("focusin",g),x.addEventListener("focusout",_),x.addEventListener("pointermove",g),x.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",v),()=>{x.removeEventListener("focusin",g),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",g),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",v)}}},[w,o.isClosePausedRef]);const b=y.useCallback(({tabbingDirection:x})=>{const g=a().map(v=>{const _=v.ref.current,S=[_,...iC(_)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?g.reverse():g).flat()},[a]);return y.useEffect(()=>{const x=h.current;if(x){const m=g=>{var S,k,j;const v=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!v){const E=document.activeElement,P=g.shiftKey;if(g.target===x&&P){(S=c.current)==null||S.focus();return}const A=b({tabbingDirection:P?"backwards":"forwards"}),ne=A.findIndex($=>$===E);ql(A.slice(ne+1))?g.preventDefault():P?(k=c.current)==null||k.focus():(j=d.current)==null||j.focus()}};return x.addEventListener("keydown",m),()=>x.removeEventListener("keydown",m)}},[a,b]),u.jsxs(lE,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&u.jsx(ku,{ref:c,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"forwards"});ql(x)}}),u.jsx(Kd.Slot,{scope:n,children:u.jsx(ms.ol,{tabIndex:-1,...i,ref:f})}),w&&u.jsx(ku,{ref:d,onFocusFromOutsideViewport:()=>{const x=b({tabbingDirection:"backwards"});ql(x)}})]})});Qv.displayName=Xv;var Zv="ToastFocusProxy",ku=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=el(Zv,n);return u.jsx(qd,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});ku.displayName=Zv;var qi="Toast",KE="toast.swipeStart",GE="toast.swipeMove",JE="toast.swipeCancel",YE="toast.swipeEnd",e0=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,l]=NE({prop:r,defaultProp:s??!0,onChange:i,caller:qi});return u.jsx(Gv,{present:n||a,children:u.jsx(ZE,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:cr(e.onPause),onResume:cr(e.onResume),onSwipeStart:Qe(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Qe(e.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Qe(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Qe(e.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});e0.displayName=qi;var[XE,QE]=Jv(qi,{onClose(){}}),ZE=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...w}=e,b=el(qi,n),[x,m]=y.useState(null),g=lr(t,$=>m($)),v=y.useRef(null),_=y.useRef(null),S=s||b.duration,k=y.useRef(0),j=y.useRef(S),E=y.useRef(0),{onToastAdd:P,onToastRemove:C}=b,M=cr(()=>{var re;(x==null?void 0:x.contains(document.activeElement))&&((re=b.viewport)==null||re.focus()),o()}),A=y.useCallback($=>{!$||$===1/0||(window.clearTimeout(E.current),k.current=new Date().getTime(),E.current=window.setTimeout(M,$))},[M]);y.useEffect(()=>{const $=b.viewport;if($){const re=()=>{A(j.current),c==null||c()},fe=()=>{const J=new Date().getTime()-k.current;j.current=j.current-J,window.clearTimeout(E.current),l==null||l()};return $.addEventListener(_u,fe),$.addEventListener(Su,re),()=>{$.removeEventListener(_u,fe),$.removeEventListener(Su,re)}}},[b.viewport,S,l,c,A]),y.useEffect(()=>{i&&!b.isClosePausedRef.current&&A(S)},[i,S,b.isClosePausedRef,A]),y.useEffect(()=>(P(),()=>C()),[P,C]);const ne=y.useMemo(()=>x?a0(x):null,[x]);return b.viewport?u.jsxs(u.Fragment,{children:[ne&&u.jsx(eC,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:ne}),u.jsx(XE,{scope:n,onClose:M,children:Bi.createPortal(u.jsx(Kd.ItemSlot,{scope:n,children:u.jsx(aE,{asChild:!0,onEscapeKeyDown:Qe(a,()=>{b.isFocusedToastEscapeKeyDownRef.current||M(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ms.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":b.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Qe(e.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Qe(e.onPointerDown,$=>{$.button===0&&(v.current={x:$.clientX,y:$.clientY})}),onPointerMove:Qe(e.onPointerMove,$=>{if(!v.current)return;const re=$.clientX-v.current.x,fe=$.clientY-v.current.y,J=!!_.current,N=["left","right"].includes(b.swipeDirection),I=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,z=N?I(0,re):0,H=N?0:I(0,fe),ce=$.pointerType==="touch"?10:2,$t={x:z,y:H},Et={originalEvent:$,delta:$t};J?(_.current=$t,ko(GE,h,Et,{discrete:!1})):Rp($t,b.swipeDirection,ce)?(_.current=$t,ko(KE,d,Et,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(re)>ce||Math.abs(fe)>ce)&&(v.current=null)}),onPointerUp:Qe(e.onPointerUp,$=>{const re=_.current,fe=$.target;if(fe.hasPointerCapture($.pointerId)&&fe.releasePointerCapture($.pointerId),_.current=null,v.current=null,re){const J=$.currentTarget,N={originalEvent:$,delta:re};Rp(re,b.swipeDirection,b.swipeThreshold)?ko(YE,p,N,{discrete:!0}):ko(JE,f,N,{discrete:!0}),J.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),eC=e=>{const{__scopeToast:t,children:n,...r}=e,s=el(qi,t),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return rC(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Kv,{asChild:!0,children:u.jsx(qd,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},tC="ToastTitle",t0=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(ms.div,{...r,ref:t})});t0.displayName=tC;var nC="ToastDescription",n0=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return u.jsx(ms.div,{...r,ref:t})});n0.displayName=nC;var r0="ToastAction",s0=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?u.jsx(o0,{altText:n,asChild:!0,children:u.jsx(Gd,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${r0}\`. Expected non-empty \`string\`.`),null)});s0.displayName=r0;var i0="ToastClose",Gd=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=QE(i0,n);return u.jsx(o0,{asChild:!0,children:u.jsx(ms.button,{type:"button",...r,ref:t,onClick:Qe(e.onClick,s.onClose)})})});Gd.displayName=i0;var o0=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return u.jsx(ms.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function a0(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),sC(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...a0(r))}}),t}function ko(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?TE(s,i):s.dispatchEvent(i)}var Rp=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function rC(e=()=>{}){const t=cr(e);Ri(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function sC(e){return e.nodeType===e.ELEMENT_NODE}function iC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ql(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var oC=Yv,l0=Qv,c0=e0,u0=t0,d0=n0,h0=s0,f0=Gd;function p0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=p0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function m0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=p0(e))&&(r&&(r+=" "),r+=t);return r}const Ap=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Op=m0,Jd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Op(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const f=Ap(d)||Ap(h);return s[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(w=>{let[b,x]=w;return Array.isArray(x)?x.includes({...i,...a}[b]):{...i,...a}[b]===x})?[...c,h,f]:c},[]);return Op(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Yd="-",aC=e=>{const t=cC(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(Yd);return a[0]===""&&a.length!==1&&a.shift(),g0(a,t)||lC(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},g0=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?g0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Yd);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Lp=/^\[(.+)\]$/,lC=e=>{if(Lp.test(e)){const t=Lp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},cC=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return dC(Object.entries(e.classGroups),n).forEach(([i,o])=>{ju(o,r,i,t)}),r},ju=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Ip(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(uC(s)){ju(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ju(o,Ip(t,i),n,r)})})},Ip=(e,t)=>{let n=e;return t.split(Yd).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},uC=e=>e.isThemeGetter,dC=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,hC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},y0="!",fC=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const l=[];let c=0,d=0,h;for(let x=0;x<a.length;x++){let m=a[x];if(c===0){if(m===s&&(r||a.slice(x,x+i)===t)){l.push(a.slice(d,x)),d=x+i;continue}if(m==="/"){h=x;continue}}m==="["?c++:m==="]"&&c--}const f=l.length===0?a:a.substring(d),p=f.startsWith(y0),w=p?f.substring(1):f,b=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:b}};return n?a=>n({className:a,parseClassName:o}):o},pC=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},mC=e=>({cache:hC(e.cacheSize),parseClassName:fC(e),...aC(e)}),gC=/\s+/,yC=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(gC);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let w=!!p,b=r(w?f.substring(0,p):f);if(!b){if(!w){a=c+(a.length>0?" "+a:a);continue}if(b=r(f),!b){a=c+(a.length>0?" "+a:a);continue}w=!1}const x=pC(d).join(":"),m=h?x+y0:x,g=m+b;if(i.includes(g))continue;i.push(g);const v=s(b,w);for(let _=0;_<v.length;++_){const S=v[_];i.push(m+S)}a=c+(a.length>0?" "+a:a)}return a};function vC(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=v0(t))&&(r&&(r+=" "),r+=n);return r}const v0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=v0(e[r]))&&(n&&(n+=" "),n+=t);return n};function wC(e,...t){let n,r,s,i=o;function o(l){const c=t.reduce((d,h)=>h(d),e());return n=mC(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=yC(l,n);return s(l,d),d}return function(){return i(vC.apply(null,arguments))}}const Q=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},w0=/^\[(?:([a-z-]+):)?(.+)\]$/i,xC=/^\d+\/\d+$/,bC=new Set(["px","full","screen"]),_C=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ut=e=>Xr(e)||bC.has(e)||xC.test(e),sn=e=>gs(e,"length",LC),Xr=e=>!!e&&!Number.isNaN(Number(e)),Hl=e=>gs(e,"number",Xr),Ps=e=>!!e&&Number.isInteger(Number(e)),CC=e=>e.endsWith("%")&&Xr(e.slice(0,-1)),W=e=>w0.test(e),on=e=>_C.test(e),TC=new Set(["length","size","percentage"]),PC=e=>gs(e,TC,x0),NC=e=>gs(e,"position",x0),RC=new Set(["image","url"]),AC=e=>gs(e,RC,DC),OC=e=>gs(e,"",IC),Ns=()=>!0,gs=(e,t,n)=>{const r=w0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},LC=e=>SC.test(e)&&!kC.test(e),x0=()=>!1,IC=e=>jC.test(e),DC=e=>EC.test(e),MC=()=>{const e=Q("colors"),t=Q("spacing"),n=Q("blur"),r=Q("brightness"),s=Q("borderColor"),i=Q("borderRadius"),o=Q("borderSpacing"),a=Q("borderWidth"),l=Q("contrast"),c=Q("grayscale"),d=Q("hueRotate"),h=Q("invert"),f=Q("gap"),p=Q("gradientColorStops"),w=Q("gradientColorStopPositions"),b=Q("inset"),x=Q("margin"),m=Q("opacity"),g=Q("padding"),v=Q("saturate"),_=Q("scale"),S=Q("sepia"),k=Q("skew"),j=Q("space"),E=Q("translate"),P=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",W,t],A=()=>[W,t],ne=()=>["",Ut,sn],$=()=>["auto",Xr,W],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",W],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Xr,W];return{cacheSize:500,separator:":",theme:{colors:[Ns],spacing:[Ut,sn],blur:["none","",on,W],brightness:H(),borderColor:[e],borderRadius:["none","","full",on,W],borderSpacing:A(),borderWidth:ne(),contrast:H(),grayscale:I(),hueRotate:H(),invert:I(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[CC,sn],inset:M(),margin:M(),opacity:H(),padding:A(),saturate:H(),scale:H(),sepia:I(),skew:H(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",W]}],container:["container"],columns:[{columns:[on]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),W]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ps,W]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",W]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Ps,W]}],"grid-cols":[{"grid-cols":[Ns]}],"col-start-end":[{col:["auto",{span:["full",Ps,W]},W]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Ns]}],"row-start-end":[{row:["auto",{span:[Ps,W]},W]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",W]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",W]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",W,t]}],"min-w":[{"min-w":[W,t,"min","max","fit"]}],"max-w":[{"max-w":[W,t,"none","full","min","max","fit","prose",{screen:[on]},on]}],h:[{h:[W,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[W,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[W,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[W,t,"auto","min","max","fit"]}],"font-size":[{text:["base",on,sn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hl]}],"font-family":[{font:[Ns]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",W]}],"line-clamp":[{"line-clamp":["none",Xr,Hl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ut,W]}],"list-image":[{"list-image":["none",W]}],"list-style-type":[{list:["none","disc","decimal",W]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ut,sn]}],"underline-offset":[{"underline-offset":["auto",Ut,W]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",W]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",W]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),NC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:fe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[Ut,W]}],"outline-w":[{outline:[Ut,sn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Ut,sn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",on,OC]}],"shadow-color":[{shadow:[Ns]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",on,W]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",W]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",W]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",W]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ps,W]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",W]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",W]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",W]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ut,sn,Hl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$C=wC(MC);function Dt(...e){return $C(m0(e))}const UC=oC,b0=y.forwardRef(({className:e,...t},n)=>u.jsx(l0,{ref:n,className:Dt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));b0.displayName=l0.displayName;const VC=Jd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_0=y.forwardRef(({className:e,variant:t,...n},r)=>u.jsx(c0,{ref:r,className:Dt(VC({variant:t}),e),...n}));_0.displayName=c0.displayName;const FC=y.forwardRef(({className:e,...t},n)=>u.jsx(h0,{ref:n,className:Dt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));FC.displayName=h0.displayName;const S0=y.forwardRef(({className:e,...t},n)=>u.jsx(f0,{ref:n,className:Dt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t}));S0.displayName=f0.displayName;const k0=y.forwardRef(({className:e,...t},n)=>u.jsx(u0,{ref:n,className:Dt("text-sm font-semibold",e),...t}));k0.displayName=u0.displayName;const j0=y.forwardRef(({className:e,...t},n)=>u.jsx(d0,{ref:n,className:Dt("text-sm opacity-90",e),...t}));j0.displayName=d0.displayName;const zC=1,BC=1e6;let Kl=0;function WC(){return Kl=(Kl+1)%Number.MAX_SAFE_INTEGER,Kl.toString()}const Gl=new Map,Dp=e=>{if(Gl.has(e))return;const t=setTimeout(()=>{Gl.delete(e),ei({type:"REMOVE_TOAST",toastId:e})},BC);Gl.set(e,t)},qC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,zC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Dp(n):e.toasts.forEach(r=>{Dp(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||t.toastId===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Bo=[];let Wo={toasts:[]};function ei(e){Wo=qC(Wo,e),Bo.forEach(t=>{t(Wo)})}function HC({...e}){const t=WC(),n=s=>ei({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ei({type:"DISMISS_TOAST",toastId:t});return ei({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Mt(){const[e,t]=y.useState(Wo);return y.useEffect(()=>(Bo.push(t),()=>{const n=Bo.indexOf(t);n>-1&&Bo.splice(n,1)}),[e]),{...e,toast:HC,dismiss:n=>ei({type:"DISMISS_TOAST",toastId:n})}}function KC(){const{toasts:e}=Mt();return u.jsxs(UC,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return u.jsxs(_0,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(k0,{children:n}),r&&u.jsx(j0,{children:r})]}),s,u.jsx(S0,{})]},t)}),u.jsx(b0,{})]})}var GC=Symbol.for("react.lazy"),ka=Ku[" use ".trim().toString()];function JC(e){return typeof e=="object"&&e!==null&&"then"in e}function E0(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===GC&&"_payload"in e&&JC(e._payload)}function C0(e){const t=XC(e),n=y.forwardRef((r,s)=>{let{children:i,...o}=r;E0(i)&&typeof ka=="function"&&(i=ka(i._payload));const a=y.Children.toArray(i),l=a.find(ZC);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return u.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var YC=C0("Slot");function XC(e){const t=y.forwardRef((n,r)=>{let{children:s,...i}=n;if(E0(s)&&typeof ka=="function"&&(s=ka(s._payload)),y.isValidElement(s)){const o=tT(s),a=eT(i,s.props);return s.type!==y.Fragment&&(a.ref=r?pr(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QC=Symbol("radix.slottable");function ZC(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QC}function eT(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function tT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const nT=Jd("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?YC:"button";return u.jsx(o,{className:Dt(nT({variant:t,size:n,className:e})),ref:i,...s})});D.displayName="Button";/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(e,t)=>{const n=y.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>y.createElement("svg",{ref:d,...rT,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${sT(e)}`,a].join(" "),...c},[...t.map(([h,f])=>y.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=B("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=B("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=B("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=B("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=B("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=B("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=B("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=B("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=B("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=B("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=B("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=B("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=B("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=B("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=B("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=B("SearchX",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=B("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=B("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=B("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=B("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=B("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=B("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),qo={async sendProjectInvite(e,t,n,r){const{data:s}=await O.from("project_invites").select("id, status").eq("project_id",e).eq("receiver_id",n).maybeSingle(),i=s;if(i){if(i.status==="pending")throw new Error("An invite has already been sent to this user.");if(i.status==="accepted")throw new Error("This user has already accepted an invite.");if(i.status==="rejected"){const{data:c,error:d}=await O.from("project_invites").update({status:"pending",message:r,sender_id:t}).eq("id",i.id).select().single();if(d)throw d;return c}}const o={project_id:e,sender_id:t,receiver_id:n,message:r||null,status:"pending"},{data:a,error:l}=await O.from("project_invites").insert(o).select().single();if(l)throw l;return a},async acceptProjectInvite(e,t){const{data:n,error:r}=await O.from("project_invites").select("*").eq("id",e).eq("receiver_id",t).single(),s=n;if(r||!s)throw new Error("Invite not found or you are not the recipient.");if(s.status!=="pending")throw new Error(`Cannot accept invite with status: ${s.status}`);const{error:i}=await O.from("project_invites").update({status:"accepted"}).eq("id",e);if(i)throw i;const{data:o}=await O.from("project_members").select("id").eq("project_id",s.project_id).eq("user_id",t).maybeSingle();if(!o){const{error:a}=await O.from("project_members").insert({project_id:s.project_id,user_id:t,role:"member"});if(a)throw console.error("Error adding member:",a),a}},async rejectProjectInvite(e,t){const{error:n}=await O.from("project_invites").update({status:"rejected"}).eq("id",e).eq("receiver_id",t);if(n)throw n},async getReceivedInvites(e){const{data:t,error:n}=await O.from("project_invites").select(`
                *,
                project:projects(title, description, owner_id),
                sender:profiles!project_invites_sender_id_fkey(full_name, avatar_url, username)
            `).eq("receiver_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]},async getProjectInvites(e){const{data:t,error:n}=await O.from("project_invites").select(`
                *,
                receiver:profiles!project_invites_receiver_id_fkey(full_name, avatar_url, username)
            `).eq("project_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]},async getProjectMembers(e){const{data:t,error:n}=await O.from("project_members").select(`
                *,
                user:profiles(id, full_name, avatar_url, username, skills, github_username)
            `).eq("project_id",e);if(n)throw n;return t||[]}};function kT(e){const[t,n]=y.useState([]),[r,s]=y.useState(!1),{toast:i}=Mt(),o=y.useCallback(async()=>{if(e){s(!0);try{const c=await qo.getReceivedInvites(e);n(c.filter(d=>d.status==="pending"))}catch(c){console.error("Failed to fetch invites:",c)}finally{s(!1)}}},[e]);y.useEffect(()=>{o()},[o]),y.useEffect(()=>{if(!e)return;const c=O.channel(`invites:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"project_invites",filter:`receiver_id=eq.${e}`},d=>{o(),i({title:" New Project Invite!",description:"You have received a new project invitation."})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"project_invites",filter:`receiver_id=eq.${e}`},()=>{o()}).subscribe();return()=>{O.removeChannel(c)}},[e,o,i]);const a=y.useCallback(async c=>{if(e)try{await qo.acceptProjectInvite(c,e),i({title:"Invite accepted!",description:"You have been added to the project team."}),o()}catch(d){i({title:"Failed to accept invite",description:d.message||"Please try again.",variant:"destructive"})}},[e,i,o]),l=y.useCallback(async c=>{if(e)try{await qo.rejectProjectInvite(c,e),i({title:"Invite declined",description:"The invite has been declined."}),o()}catch(d){i({title:"Failed to decline invite",description:d.message||"Please try again.",variant:"destructive"})}},[e,i,o]);return{pendingInvites:t,loading:r,pendingCount:t.length,acceptInvite:a,rejectInvite:l,refresh:o}}const Qd=y.createContext({});function Zd(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const tl=y.createContext(null),eh=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class jT extends y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ET({children:e,isPresent:t}){const n=y.useId(),r=y.useRef(null),s=y.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=y.useContext(eh);return y.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),u.jsx(jT,{isPresent:t,childRef:r,sizeRef:s,children:y.cloneElement(e,{ref:r})})}const CT=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Zd(TT),l=y.useId(),c=y.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),d=y.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),c]:[n,c]);return y.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),y.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=u.jsx(ET,{isPresent:n,children:e})),u.jsx(tl.Provider,{value:d,children:e})};function TT(){return new Map}function F0(e=!0){const t=y.useContext(tl);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=y.useId();y.useEffect(()=>{e&&s(i)},[e]);const o=y.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const jo=e=>e.key||"";function $p(e){const t=[];return y.Children.forEach(e,n=>{y.isValidElement(n)&&t.push(n)}),t}const th=typeof window<"u",z0=th?y.useLayoutEffect:y.useEffect,Tn=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=F0(o),c=y.useMemo(()=>$p(e),[e]),d=o&&!a?[]:c.map(jo),h=y.useRef(!0),f=y.useRef(c),p=Zd(()=>new Map),[w,b]=y.useState(c),[x,m]=y.useState(c);z0(()=>{h.current=!1,f.current=c;for(let _=0;_<x.length;_++){const S=jo(x[_]);d.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[x,d.length,d.join("-")]);const g=[];if(c!==w){let _=[...c];for(let S=0;S<x.length;S++){const k=x[S],j=jo(k);d.includes(j)||(_.splice(S,0,k),g.push(k))}i==="wait"&&g.length&&(_=g),m($p(_)),b(c);return}const{forceRender:v}=y.useContext(Qd);return u.jsx(u.Fragment,{children:x.map(_=>{const S=jo(_),k=o&&!a?!1:c===x||d.includes(S),j=()=>{if(p.has(S))p.set(S,!0);else return;let E=!0;p.forEach(P=>{P||(E=!1)}),E&&(v==null||v(),m(f.current),o&&(l==null||l()),r&&r())};return u.jsx(CT,{isPresent:k,initial:!h.current||n?void 0:!1,custom:k?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:k?void 0:j,children:_},S)})})},tt=e=>e;let B0=tt;function nh(e){let t;return()=>(t===void 0&&(t=e()),t)}const os=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Kt=e=>e*1e3,Gt=e=>e/1e3,PT={useManualTiming:!1};function NT(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),e()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const p=h&&r?t:n;return d&&i.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,s&&(s=!1,l.process(c))}};return l}const Eo=["read","resolveKeyframes","update","preRender","render","postRender"],RT=40;function W0(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Eo.reduce((m,g)=>(m[g]=NT(i),m),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:f}=o,p=()=>{const m=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,RT),1),s.timestamp=m,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},w=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:Eo.reduce((m,g)=>{const v=o[g];return m[g]=(_,S=!1,k=!1)=>(n||w(),v.schedule(_,S,k)),m},{}),cancel:m=>{for(let g=0;g<Eo.length;g++)o[Eo[g]].cancel(m)},state:s,steps:o}}const{schedule:te,cancel:Pn,state:Te,steps:Yl}=W0(typeof requestAnimationFrame<"u"?requestAnimationFrame:tt,!0),q0=y.createContext({strict:!1}),Up={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},as={};for(const e in Up)as[e]={isEnabled:t=>Up[e].some(n=>!!t[n])};function AT(e){for(const t in e)as[t]={...as[t],...e[t]}}const OT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ea(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||OT.has(e)}let H0=e=>!Ea(e);function LT(e){e&&(H0=t=>t.startsWith("on")?!Ea(t):e(t))}try{LT(require("@emotion/is-prop-valid").default)}catch{}function IT(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(H0(s)||n===!0&&Ea(s)||!t&&!Ea(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function DT(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const nl=y.createContext({});function Oi(e){return typeof e=="string"||Array.isArray(e)}function rl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const rh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sh=["initial",...rh];function sl(e){return rl(e.animate)||sh.some(t=>Oi(e[t]))}function K0(e){return!!(sl(e)||e.variants)}function MT(e,t){if(sl(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Oi(n)?n:void 0,animate:Oi(r)?r:void 0}}return e.inherit!==!1?t:{}}function $T(e){const{initial:t,animate:n}=MT(e,y.useContext(nl));return y.useMemo(()=>({initial:t,animate:n}),[Vp(t),Vp(n)])}function Vp(e){return Array.isArray(e)?e.join(" "):e}const UT=Symbol.for("motionComponentSymbol");function Ur(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VT(e,t,n){return y.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ur(n)&&(n.current=r))},[t])}const ih=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FT="framerAppearId",G0="data-"+ih(FT),{schedule:oh}=W0(queueMicrotask,!1),J0=y.createContext({});function zT(e,t,n,r,s){var i,o;const{visualElement:a}=y.useContext(nl),l=y.useContext(q0),c=y.useContext(tl),d=y.useContext(eh).reducedMotion,h=y.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=y.useContext(J0);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&BT(h.current,n,s,p);const w=y.useRef(!1);y.useInsertionEffect(()=>{f&&w.current&&f.update(n,c)});const b=n[G0],x=y.useRef(!!b&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return z0(()=>{f&&(w.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),oh.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),y.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,b)}),x.current=!1))}),f}function BT(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Y0(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ur(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function Y0(e){if(e)return e.options.allowProjection!==!1?e.projection:Y0(e.parent)}function WT({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&AT(e);function a(c,d){let h;const f={...y.useContext(eh),...c,layoutId:qT(c)},{isStatic:p}=f,w=$T(c),b=r(c,p);if(!p&&th){HT();const x=KT(f);h=x.MeasureLayout,w.visualElement=zT(s,b,f,t,x.ProjectionNode)}return u.jsxs(nl.Provider,{value:w,children:[h&&w.visualElement?u.jsx(h,{visualElement:w.visualElement,...f}):null,n(s,c,VT(b,w.visualElement,d),b,p,w.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=y.forwardRef(a);return l[UT]=s,l}function qT({layoutId:e}){const t=y.useContext(Qd).id;return t&&e!==void 0?t+"-"+e:e}function HT(e,t){y.useContext(q0).strict}function KT(e){const{drag:t,layout:n}=as;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const GT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ah(e){return typeof e!="string"||e.includes("-")?!1:!!(GT.indexOf(e)>-1||/[A-Z]/u.test(e))}function Fp(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function lh(e,t,n,r){if(typeof t=="function"){const[s,i]=Fp(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Fp(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const Cu=e=>Array.isArray(e),JT=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),YT=e=>Cu(e)?e[e.length-1]||0:e,De=e=>!!(e&&e.getVelocity);function Ho(e){const t=De(e)?e.get():e;return JT(t)?t.toValue():t}function XT({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:QT(r,s,i,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const X0=e=>(t,n)=>{const r=y.useContext(nl),s=y.useContext(tl),i=()=>XT(e,t,r,s);return n?i():Zd(i)};function QT(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Ho(i[f]);let{initial:o,animate:a}=e;const l=sl(e),c=K0(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!rl(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const w=lh(e,f[p]);if(w){const{transitionEnd:b,transition:x,...m}=w;for(const g in m){let v=m[g];if(Array.isArray(v)){const _=d?v.length-1:0;v=v[_]}v!==null&&(s[g]=v)}for(const g in b)s[g]=b[g]}}}return s}const vs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mr=new Set(vs),Q0=e=>t=>typeof t=="string"&&t.startsWith(e),Z0=Q0("--"),ZT=Q0("var(--"),ch=e=>ZT(e)?eP.test(e.split("/*")[0].trim()):!1,eP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ew=(e,t)=>t&&typeof e=="number"?t.transform(e):e,en=(e,t,n)=>n>t?t:n<e?e:n,ws={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Li={...ws,transform:e=>en(0,1,e)},Co={...ws,default:1},Hi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),an=Hi("deg"),Ot=Hi("%"),F=Hi("px"),tP=Hi("vh"),nP=Hi("vw"),zp={...Ot,parse:e=>Ot.parse(e)/100,transform:e=>Ot.transform(e*100)},rP={borderWidth:F,borderTopWidth:F,borderRightWidth:F,borderBottomWidth:F,borderLeftWidth:F,borderRadius:F,radius:F,borderTopLeftRadius:F,borderTopRightRadius:F,borderBottomRightRadius:F,borderBottomLeftRadius:F,width:F,maxWidth:F,height:F,maxHeight:F,top:F,right:F,bottom:F,left:F,padding:F,paddingTop:F,paddingRight:F,paddingBottom:F,paddingLeft:F,margin:F,marginTop:F,marginRight:F,marginBottom:F,marginLeft:F,backgroundPositionX:F,backgroundPositionY:F},sP={rotate:an,rotateX:an,rotateY:an,rotateZ:an,scale:Co,scaleX:Co,scaleY:Co,scaleZ:Co,skew:an,skewX:an,skewY:an,distance:F,translateX:F,translateY:F,translateZ:F,x:F,y:F,z:F,perspective:F,transformPerspective:F,opacity:Li,originX:zp,originY:zp,originZ:F},Bp={...ws,transform:Math.round},uh={...rP,...sP,zIndex:Bp,size:F,fillOpacity:Li,strokeOpacity:Li,numOctaves:Bp},iP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oP=vs.length;function aP(e,t,n){let r="",s=!0;for(let i=0;i<oP;i++){const o=vs[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=ew(a,uh[o]);if(!l){s=!1;const d=iP[o]||o;r+=`${d}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function dh(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(mr.has(l)){o=!0;continue}else if(Z0(l)){s[l]=c;continue}else{const d=ew(c,uh[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=aP(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const lP={offset:"stroke-dashoffset",array:"stroke-dasharray"},cP={offset:"strokeDashoffset",array:"strokeDasharray"};function uP(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?lP:cP;e[i.offset]=F.transform(-r);const o=F.transform(t),a=F.transform(n);e[i.array]=`${o} ${a}`}function Wp(e,t,n){return typeof e=="string"?e:F.transform(t+n*e)}function dP(e,t,n){const r=Wp(t,e.x,e.width),s=Wp(n,e.y,e.height);return`${r} ${s}`}function hh(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(dh(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:w}=e;f.transform&&(w&&(p.transform=f.transform),delete f.transform),w&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=dP(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&uP(f,o,a,l,!1)}const fh=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),tw=()=>({...fh(),attrs:{}}),ph=e=>typeof e=="string"&&e.toLowerCase()==="svg";function nw(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const rw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sw(e,t,n,r){nw(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(rw.has(s)?s:ih(s),t.attrs[s])}const Ca={};function hP(e){Object.assign(Ca,e)}function iw(e,{layout:t,layoutId:n}){return mr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ca[e]||e==="opacity")}function mh(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(De(s[o])||t.style&&De(t.style[o])||iw(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function ow(e,t,n){const r=mh(e,t,n);for(const s in e)if(De(e[s])||De(t[s])){const i=vs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function fP(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const qp=["x","y","width","height","cx","cy","r"],pP={useVisualState:X0({scrapeMotionValuesFromProps:ow,createRenderState:tw,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const a in s)if(mr.has(a)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let a=0;a<qp.length;a++){const l=qp[a];e[l]!==t[l]&&(o=!0)}o&&te.read(()=>{fP(n,r),te.render(()=>{hh(r,s,ph(n.tagName),e.transformTemplate),sw(n,r)})})}})},mP={useVisualState:X0({scrapeMotionValuesFromProps:mh,createRenderState:fh})};function aw(e,t,n){for(const r in t)!De(t[r])&&!iw(r,n)&&(e[r]=t[r])}function gP({transformTemplate:e},t){return y.useMemo(()=>{const n=fh();return dh(n,t,e),Object.assign({},n.vars,n.style)},[t])}function yP(e,t){const n=e.style||{},r={};return aw(r,n,e),Object.assign(r,gP(e,t)),r}function vP(e,t){const n={},r=yP(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function wP(e,t,n,r){const s=y.useMemo(()=>{const i=tw();return hh(i,t,ph(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};aw(i,e.style,e),s.style={...i,...s.style}}return s}function xP(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(ah(n)?wP:vP)(r,i,o,n),c=IT(r,typeof n=="string",e),d=n!==y.Fragment?{...c,...l,ref:s}:{},{children:h}=r,f=y.useMemo(()=>De(h)?h.get():h,[h]);return y.createElement(n,{...d,children:f})}}function bP(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...ah(r)?pP:mP,preloadedFeatures:e,useRender:xP(s),createVisualElement:t,Component:r};return WT(o)}}function lw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function il(e,t,n){const r=e.getProps();return lh(r,t,n!==void 0?n:r.custom,e)}const _P=nh(()=>window.ScrollTimeline!==void 0);class SP{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(_P()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class kP extends SP{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function gh(e,t){return e?e[t]||e.default||e:void 0}const Tu=2e4;function cw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Tu;)t+=n,r=e.next(t);return t>=Tu?1/0:t}function yh(e){return typeof e=="function"}function Hp(e,t){e.timeline=t,e.onfinish=null}const vh=e=>Array.isArray(e)&&typeof e[0]=="number",jP={linearEasing:void 0};function EP(e,t){const n=nh(e);return()=>{var r;return(r=jP[t])!==null&&r!==void 0?r:n()}}const Ta=EP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uw=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(os(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function dw(e){return!!(typeof e=="function"&&Ta()||!e||typeof e=="string"&&(e in Pu||Ta())||vh(e)||Array.isArray(e)&&e.every(dw))}const Vs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Pu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vs([0,.65,.55,1]),circOut:Vs([.55,0,1,.45]),backIn:Vs([.31,.01,.66,-.59]),backOut:Vs([.33,1.53,.69,.99])};function hw(e,t){if(e)return typeof e=="function"&&Ta()?uw(e,t):vh(e)?Vs(e):Array.isArray(e)?e.map(n=>hw(n,t)||Pu.easeOut):Pu[e]}const yt={x:!1,y:!1};function fw(){return yt.x||yt.y}function CP(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function pw(e,t){const n=CP(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Kp(e){return t=>{t.pointerType==="touch"||fw()||e(t)}}function TP(e,t,n={}){const[r,s,i]=pw(e,n),o=Kp(a=>{const{target:l}=a,c=t(a);if(typeof c!="function"||!l)return;const d=Kp(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const mw=(e,t)=>t?e===t?!0:mw(e,t.parentElement):!1,wh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,PP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NP(e){return PP.has(e.tagName)||e.tabIndex!==-1}const Fs=new WeakSet;function Gp(e){return t=>{t.key==="Enter"&&e(t)}}function Xl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const RP=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Gp(()=>{if(Fs.has(n))return;Xl(n,"down");const s=Gp(()=>{Xl(n,"up")}),i=()=>Xl(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Jp(e){return wh(e)&&!fw()}function AP(e,t,n={}){const[r,s,i]=pw(e,n),o=a=>{const l=a.currentTarget;if(!Jp(a)||Fs.has(l))return;Fs.add(l);const c=t(a),d=(p,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Jp(p)||!Fs.has(l))&&(Fs.delete(l),typeof c=="function"&&c(p,{success:w}))},h=p=>{d(p,n.useGlobalTarget||mw(l,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!NP(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>RP(c,s),s)}),i}function OP(e){return e==="x"||e==="y"?yt[e]?null:(yt[e]=!0,()=>{yt[e]=!1}):yt.x||yt.y?null:(yt.x=yt.y=!0,()=>{yt.x=yt.y=!1})}const gw=new Set(["width","height","top","left","right","bottom",...vs]);let Ko;function LP(){Ko=void 0}const Lt={now:()=>(Ko===void 0&&Lt.set(Te.isProcessing||PT.useManualTiming?Te.timestamp:performance.now()),Ko),set:e=>{Ko=e,queueMicrotask(LP)}};function xh(e,t){e.indexOf(t)===-1&&e.push(t)}function bh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class _h{constructor(){this.subscriptions=[]}add(t){return xh(this.subscriptions,t),()=>bh(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function yw(e,t){return t?e*(1e3/t):0}const Yp=30,IP=e=>!isNaN(parseFloat(e));class DP{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Lt.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Lt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=IP(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new _h);const r=this.events[t].add(n);return t==="change"?()=>{r(),te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Lt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Yp)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Yp);return yw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ii(e,t){return new DP(e,t)}function MP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ii(n))}function $P(e,t){const n=il(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=YT(i[o]);MP(e,o,a)}}function UP(e){return!!(De(e)&&e.add)}function Nu(e,t){const n=e.getValue("willChange");if(UP(n))return n.add(t)}function vw(e){return e.props[G0]}const ww=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,VP=1e-7,FP=12;function zP(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=ww(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>VP&&++a<FP);return o}function Ki(e,t,n,r){if(e===t&&n===r)return tt;const s=i=>zP(i,0,1,e,n);return i=>i===0||i===1?i:ww(s(i),t,r)}const xw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bw=e=>t=>1-e(1-t),_w=Ki(.33,1.53,.69,.99),Sh=bw(_w),Sw=xw(Sh),kw=e=>(e*=2)<1?.5*Sh(e):.5*(2-Math.pow(2,-10*(e-1))),kh=e=>1-Math.sin(Math.acos(e)),jw=bw(kh),Ew=xw(kh),Cw=e=>/^0[^.\s]+$/u.test(e);function BP(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Cw(e):!0}const ti=e=>Math.round(e*1e5)/1e5,jh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WP(e){return e==null}const qP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Eh=(e,t)=>n=>!!(typeof n=="string"&&qP.test(n)&&n.startsWith(e)||t&&!WP(n)&&Object.prototype.hasOwnProperty.call(n,t)),Tw=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(jh);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},HP=e=>en(0,255,e),Ql={...ws,transform:e=>Math.round(HP(e))},Qn={test:Eh("rgb","red"),parse:Tw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ql.transform(e)+", "+Ql.transform(t)+", "+Ql.transform(n)+", "+ti(Li.transform(r))+")"};function KP(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ru={test:Eh("#"),parse:KP,transform:Qn.transform},Vr={test:Eh("hsl","hue"),parse:Tw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ot.transform(ti(t))+", "+Ot.transform(ti(n))+", "+ti(Li.transform(r))+")"},Le={test:e=>Qn.test(e)||Ru.test(e)||Vr.test(e),parse:e=>Qn.test(e)?Qn.parse(e):Vr.test(e)?Vr.parse(e):Ru.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Qn.transform(e):Vr.transform(e)},GP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JP(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(jh))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(GP))===null||n===void 0?void 0:n.length)||0)>0}const Pw="number",Nw="color",YP="var",XP="var(",Xp="${}",QP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Di(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(QP,l=>(Le.test(l)?(r.color.push(i),s.push(Nw),n.push(Le.parse(l))):l.startsWith(XP)?(r.var.push(i),s.push(YP),n.push(l)):(r.number.push(i),s.push(Pw),n.push(parseFloat(l))),++i,Xp)).split(Xp);return{values:n,split:a,indexes:r,types:s}}function Rw(e){return Di(e).values}function Aw(e){const{split:t,types:n}=Di(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===Pw?i+=ti(s[o]):a===Nw?i+=Le.transform(s[o]):i+=s[o]}return i}}const ZP=e=>typeof e=="number"?0:e;function eN(e){const t=Rw(e);return Aw(e)(t.map(ZP))}const Nn={test:JP,parse:Rw,createTransformer:Aw,getAnimatableNone:eN},tN=new Set(["brightness","contrast","saturate","opacity"]);function nN(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(jh)||[];if(!r)return e;const s=n.replace(r,"");let i=tN.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const rN=/\b([a-z-]*)\(.*?\)/gu,Au={...Nn,getAnimatableNone:e=>{const t=e.match(rN);return t?t.map(nN).join(" "):e}},sN={...uh,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:Au,WebkitFilter:Au},Ch=e=>sN[e];function Ow(e,t){let n=Ch(e);return n!==Au&&(n=Nn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const iN=new Set(["auto","none","0"]);function oN(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!iN.has(i)&&Di(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Ow(n,s)}const Qp=e=>e===ws||e===F,Zp=(e,t)=>parseFloat(e.split(", ")[t]),em=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Zp(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Zp(i[1],e):0}},aN=new Set(["x","y","z"]),lN=vs.filter(e=>!aN.has(e));function cN(e){const t=[];return lN.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ls={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:em(4,13),y:em(5,14)};ls.translateX=ls.x;ls.translateY=ls.y;const nr=new Set;let Ou=!1,Lu=!1;function Lw(){if(Lu){const e=Array.from(nr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=cN(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Lu=!1,Ou=!1,nr.forEach(e=>e.complete()),nr.clear()}function Iw(){nr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Lu=!0)})}function uN(){Iw(),Lw()}class Th{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(nr.add(this),Ou||(Ou=!0,te.read(Iw),te.resolveKeyframes(Lw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),nr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,nr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Dw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),dN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hN(e){const t=dN.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Mw(e,t,n=1){const[r,s]=hN(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Dw(o)?parseFloat(o):o}return ch(s)?Mw(s,t,n+1):s}const $w=e=>t=>t.test(e),fN={test:e=>e==="auto",parse:e=>e},Uw=[ws,F,Ot,an,nP,tP,fN],tm=e=>Uw.find($w(e));class Vw extends Th{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),ch(c))){const d=Mw(c,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!gw.has(r)||t.length!==2)return;const[s,i]=t,o=tm(s),a=tm(i);if(o!==a)if(Qp(o)&&Qp(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)BP(t[s])&&r.push(s);r.length&&oN(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ls[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=ls[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const nm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Nn.test(e)||e==="0")&&!e.startsWith("url("));function pN(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function mN(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=nm(s,t),a=nm(i,t);return!o||!a?!1:pN(e)||(n==="spring"||yh(n))&&r}const gN=e=>e!==null;function ol(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(gN),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const yN=40;class Fw{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Lt.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yN?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uN(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Lt.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!mN(t,r,s,i))if(o)this.options.duration=0;else{l&&l(ol(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const oe=(e,t,n)=>e+(t-e)*n;function Zl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vN({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=Zl(l,a,e+1/3),i=Zl(l,a,e),o=Zl(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Pa(e,t){return n=>n>0?t:e}const ec=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},wN=[Ru,Qn,Vr],xN=e=>wN.find(t=>t.test(e));function rm(e){const t=xN(e);if(!t)return!1;let n=t.parse(e);return t===Vr&&(n=vN(n)),n}const sm=(e,t)=>{const n=rm(e),r=rm(t);if(!n||!r)return Pa(e,t);const s={...n};return i=>(s.red=ec(n.red,r.red,i),s.green=ec(n.green,r.green,i),s.blue=ec(n.blue,r.blue,i),s.alpha=oe(n.alpha,r.alpha,i),Qn.transform(s))},bN=(e,t)=>n=>t(e(n)),Gi=(...e)=>e.reduce(bN),Iu=new Set(["none","hidden"]);function _N(e,t){return Iu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function SN(e,t){return n=>oe(e,t,n)}function Ph(e){return typeof e=="number"?SN:typeof e=="string"?ch(e)?Pa:Le.test(e)?sm:EN:Array.isArray(e)?zw:typeof e=="object"?Le.test(e)?sm:kN:Pa}function zw(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Ph(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function kN(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Ph(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function jN(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const EN=(e,t)=>{const n=Nn.createTransformer(t),r=Di(e),s=Di(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Iu.has(e)&&!s.values.length||Iu.has(t)&&!r.values.length?_N(e,t):Gi(zw(jN(r,s),s.values),n):Pa(e,t)};function Bw(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?oe(e,t,n):Ph(e)(e,t)}const CN=5;function Ww(e,t,n){const r=Math.max(t-CN,0);return yw(n-e(r),t-r)}const de={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tc=.001;function TN({duration:e=de.duration,bounce:t=de.bounce,velocity:n=de.velocity,mass:r=de.mass}){let s,i,o=1-t;o=en(de.minDamping,de.maxDamping,o),e=en(de.minDuration,de.maxDuration,Gt(e)),o<1?(s=c=>{const d=c*o,h=d*e,f=d-n,p=Du(c,o),w=Math.exp(-h);return tc-f/p*w},i=c=>{const h=c*o*e,f=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,w=Math.exp(-h),b=Du(Math.pow(c,2),o);return(-s(c)+tc>0?-1:1)*((f-p)*w)/b}):(s=c=>{const d=Math.exp(-c*e),h=(c-n)*e+1;return-tc+d*h},i=c=>{const d=Math.exp(-c*e),h=(n-c)*(e*e);return d*h});const a=5/e,l=NN(s,i,a);if(e=Kt(e),isNaN(l))return{stiffness:de.stiffness,damping:de.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const PN=12;function NN(e,t,n){let r=n;for(let s=1;s<PN;s++)r=r-e(r)/t(r);return r}function Du(e,t){return e*Math.sqrt(1-t*t)}const RN=["duration","bounce"],AN=["stiffness","damping","mass"];function im(e,t){return t.some(n=>e[n]!==void 0)}function ON(e){let t={velocity:de.velocity,stiffness:de.stiffness,damping:de.damping,mass:de.mass,isResolvedFromDuration:!1,...e};if(!im(e,AN)&&im(e,RN))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*en(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:de.mass,stiffness:s,damping:i}}else{const n=TN(e);t={...t,...n,mass:de.mass},t.isResolvedFromDuration=!0}return t}function qw(e=de.visualDuration,t=de.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=ON({...n,velocity:-Gt(n.velocity||0)}),w=f||0,b=c/(2*Math.sqrt(l*d)),x=o-i,m=Gt(Math.sqrt(l/d)),g=Math.abs(x)<5;r||(r=g?de.restSpeed.granular:de.restSpeed.default),s||(s=g?de.restDelta.granular:de.restDelta.default);let v;if(b<1){const S=Du(m,b);v=k=>{const j=Math.exp(-b*m*k);return o-j*((w+b*m*x)/S*Math.sin(S*k)+x*Math.cos(S*k))}}else if(b===1)v=S=>o-Math.exp(-m*S)*(x+(w+m*x)*S);else{const S=m*Math.sqrt(b*b-1);v=k=>{const j=Math.exp(-b*m*k),E=Math.min(S*k,300);return o-j*((w+b*m*x)*Math.sinh(E)+S*x*Math.cosh(E))/S}}const _={calculatedDuration:p&&h||null,next:S=>{const k=v(S);if(p)a.done=S>=h;else{let j=0;b<1&&(j=S===0?Kt(w):Ww(v,S,k));const E=Math.abs(j)<=r,P=Math.abs(o-k)<=s;a.done=E&&P}return a.value=a.done?o:k,a},toString:()=>{const S=Math.min(cw(_),Tu),k=uw(j=>_.next(S*j).value,S,30);return S+"ms "+k}};return _}function om({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=E=>a!==void 0&&E<a||l!==void 0&&E>l,w=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let b=n*t;const x=h+b,m=o===void 0?x:o(x);m!==x&&(b=m-h);const g=E=>-b*Math.exp(-E/r),v=E=>m+g(E),_=E=>{const P=g(E),C=v(E);f.done=Math.abs(P)<=c,f.value=f.done?m:C};let S,k;const j=E=>{p(f.value)&&(S=E,k=qw({keyframes:[f.value,w(f.value)],velocity:Ww(v,E,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:E=>{let P=!1;return!k&&S===void 0&&(P=!0,_(E),j(E)),S!==void 0&&E>=S?k.next(E-S):(!P&&_(E),f)}}}const LN=Ki(.42,0,1,1),IN=Ki(0,0,.58,1),Hw=Ki(.42,0,.58,1),DN=e=>Array.isArray(e)&&typeof e[0]!="number",MN={linear:tt,easeIn:LN,easeInOut:Hw,easeOut:IN,circIn:kh,circInOut:Ew,circOut:jw,backIn:Sh,backInOut:Sw,backOut:_w,anticipate:kw},am=e=>{if(vh(e)){B0(e.length===4);const[t,n,r,s]=e;return Ki(t,n,r,s)}else if(typeof e=="string")return MN[e];return e};function $N(e,t,n){const r=[],s=n||Bw,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||tt:t;a=Gi(l,a)}r.push(a)}return r}function UN(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(B0(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=$N(t,r,s),l=a.length,c=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=os(e[h],e[h+1],d);return a[h](f)};return n?d=>c(en(e[0],e[i-1],d)):c}function VN(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=os(0,t,r);e.push(oe(n,1,s))}}function FN(e){const t=[0];return VN(t,e.length-1),t}function zN(e,t){return e.map(n=>n*t)}function BN(e,t){return e.map(()=>t||Hw).splice(0,e.length-1)}function Na({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=DN(r)?r.map(am):am(r),i={done:!1,value:t[0]},o=zN(n&&n.length===t.length?n:FN(t),e),a=UN(o,t,{ease:Array.isArray(s)?s:BN(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const WN=e=>{const t=({timestamp:n})=>e(n);return{start:()=>te.update(t,!0),stop:()=>Pn(t),now:()=>Te.isProcessing?Te.timestamp:Lt.now()}},qN={decay:om,inertia:om,tween:Na,keyframes:Na,spring:qw},HN=e=>e/100;class Nh extends Fw{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Th,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=yh(n)?n:qN[n]||Na;let l,c;a!==Na&&typeof t[0]!="number"&&(l=Gi(HN,Bw(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});i==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=cw(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:w,repeatDelay:b,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const m=this.currentTime-f*(this.speed>=0?1:-1),g=this.speed>=0?m<0:m>d;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let v=this.currentTime,_=i;if(p){const E=Math.min(this.currentTime,d)/h;let P=Math.floor(E),C=E%1;!C&&E>=1&&(C=1),C===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(w==="reverse"?(C=1-C,b&&(C-=b/h)):w==="mirror"&&(_=o)),v=en(0,1,C)*h}const S=g?{done:!1,value:l[0]}:_.next(v);a&&(S.value=a(S.value));let{done:k}=S;!g&&c!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return j&&s!==void 0&&(S.value=ol(l,this.options,s)),x&&x(S.value),j&&this.finish(),S}get duration(){const{resolved:t}=this;return t?Gt(t.calculatedDuration):0}get time(){return Gt(this.currentTime)}set time(t){t=Kt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Gt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=WN,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const KN=new Set(["opacity","clipPath","filter","transform"]);function GN(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=hw(a,s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const JN=nh(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ra=10,YN=2e4;function XN(e){return yh(e.type)||e.type==="spring"||!dw(e.ease)}function QN(e,t){const n=new Nh({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<YN;)r=n.sample(i),s.push(r.value),i+=Ra;return{times:void 0,keyframes:s,duration:i-Ra,ease:"linear"}}const Kw={anticipate:kw,backInOut:Sw,circInOut:Ew};function ZN(e){return e in Kw}class lm extends Fw{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Vw(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&Ta()&&ZN(i)&&(i=Kw[i]),XN(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:w,...b}=this.options,x=QN(t,b);t=x.keyframes,t.length===1&&(t[1]=t[0]),r=x.duration,s=x.times,i=x.ease,o="keyframes"}const d=GN(a.owner.current,l,t,{...this.options,duration:r,times:s,ease:i});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(Hp(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(ol(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Gt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Gt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Kt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return tt;const{animation:r}=n;Hp(r,t)}return tt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...p}=this.options,w=new Nh({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),b=Kt(this.time);c.setWithVelocity(w.sample(b-Ra).value,w.sample(b).value,Ra)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return JN()&&r&&KN.has(r)&&!l&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const eR={type:"spring",stiffness:500,damping:25,restSpeed:10},tR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nR={type:"keyframes",duration:.8},rR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sR=(e,{keyframes:t})=>t.length>2?nR:mr.has(e)?e.startsWith("scale")?tR(t[1]):eR:rR;function iR({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Rh=(e,t,n,r={},s,i)=>o=>{const a=gh(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Kt(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};iR(a)||(d={...d,...sR(e,d)}),d.duration&&(d.duration=Kt(d.duration)),d.repeatDelay&&(d.repeatDelay=Kt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=ol(d.keyframes,a);if(f!==void 0)return te.update(()=>{d.onUpdate(f),d.onComplete()}),new kP([])}return!i&&lm.supports(d)?new lm(d):new Nh(d)};function oR({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Gw(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),p=l[h];if(p===void 0||d&&oR(d,h))continue;const w={delay:n,...gh(o||{},h)};let b=!1;if(window.MotionHandoffAnimation){const m=vw(e);if(m){const g=window.MotionHandoffAnimation(m,h,te);g!==null&&(w.startTime=g,b=!0)}}Nu(e,h),f.start(Rh(h,f,p,e.shouldReduceMotion&&gw.has(h)?{type:!1}:w,e,b));const x=f.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{te.update(()=>{a&&$P(e,a)})}),c}function Mu(e,t,n={}){var r;const s=il(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Gw(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return aR(e,t,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function aR(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(lR).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(Mu(c,t,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function lR(e,t){return e.sortNodePosition(t)}function cR(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Mu(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Mu(e,t,n);else{const s=typeof t=="function"?il(e,t,n.custom):t;r=Promise.all(Gw(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const uR=sh.length;function Jw(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Jw(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<uR;n++){const r=sh[n],s=e.props[r];(Oi(s)||s===!1)&&(t[r]=s)}return t}const dR=[...rh].reverse(),hR=rh.length;function fR(e){return t=>Promise.all(t.map(({animation:n,options:r})=>cR(e,n,r)))}function pR(e){let t=fR(e),n=cm(),r=!0;const s=l=>(c,d)=>{var h;const f=il(e,d,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:w,...b}=f;c={...c,...b,...w}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,d=Jw(e.parent)||{},h=[],f=new Set;let p={},w=1/0;for(let x=0;x<hR;x++){const m=dR[x],g=n[m],v=c[m]!==void 0?c[m]:d[m],_=Oi(v),S=m===l?g.isActive:null;S===!1&&(w=x);let k=v===d[m]&&v!==c[m]&&_;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),g.protectedKeys={...p},!g.isActive&&S===null||!v&&!g.prevProp||rl(v)||typeof v=="boolean")continue;const j=mR(g.prevProp,v);let E=j||m===l&&g.isActive&&!k&&_||x>w&&_,P=!1;const C=Array.isArray(v)?v:[v];let M=C.reduce(s(m),{});S===!1&&(M={});const{prevResolvedValues:A={}}=g,ne={...A,...M},$=J=>{E=!0,f.has(J)&&(P=!0,f.delete(J)),g.needsAnimating[J]=!0;const N=e.getValue(J);N&&(N.liveStyle=!1)};for(const J in ne){const N=M[J],I=A[J];if(p.hasOwnProperty(J))continue;let z=!1;Cu(N)&&Cu(I)?z=!lw(N,I):z=N!==I,z?N!=null?$(J):f.add(J):N!==void 0&&f.has(J)?$(J):g.protectedKeys[J]=!0}g.prevProp=v,g.prevResolvedValues=M,g.isActive&&(p={...p,...M}),r&&e.blockInitialAnimation&&(E=!1),E&&(!(k&&j)||P)&&h.push(...C.map(J=>({animation:J,options:{type:m}})))}if(f.size){const x={};f.forEach(m=>{const g=e.getBaseTarget(m),v=e.getValue(m);v&&(v.liveStyle=!0),x[m]=g??null}),h.push({animation:x})}let b=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=cm(),r=!0}}}function mR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!lw(t,e):!1}function Un(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cm(){return{animate:Un(!0),whileInView:Un(),whileHover:Un(),whileTap:Un(),whileDrag:Un(),whileFocus:Un(),exit:Un()}}class In{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gR extends In{constructor(t){super(t),t.animationState||(t.animationState=pR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();rl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let yR=0;class vR extends In{constructor(){super(...arguments),this.id=yR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const wR={animation:{Feature:gR},exit:{Feature:vR}};function Mi(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ji(e){return{point:{x:e.pageX,y:e.pageY}}}const xR=e=>t=>wh(t)&&e(t,Ji(t));function ni(e,t,n,r){return Mi(e,t,xR(n),r)}const um=(e,t)=>Math.abs(e-t);function bR(e,t){const n=um(e.x,t.x),r=um(e.y,t.y);return Math.sqrt(n**2+r**2)}class Yw{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=rc(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=bR(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:w}=h,{timestamp:b}=Te;this.history.push({...w,timestamp:b});const{onStart:x,onMove:m}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=nc(f,this.transformPagePoint),te.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=rc(h.type==="pointercancel"?this.lastMoveEventInfo:nc(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,x),w&&w(h,x)},!wh(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ji(t),a=nc(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Te;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,rc(a,this.history)),this.removeListeners=Gi(ni(this.contextWindow,"pointermove",this.handlePointerMove),ni(this.contextWindow,"pointerup",this.handlePointerUp),ni(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pn(this.updatePoint)}}function nc(e,t){return t?{point:t(e.point)}:e}function dm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rc({point:e},t){return{point:e,delta:dm(e,Xw(t)),offset:dm(e,_R(t)),velocity:SR(t,.1)}}function _R(e){return e[0]}function Xw(e){return e[e.length-1]}function SR(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Xw(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Kt(t)));)n--;if(!r)return{x:0,y:0};const i=Gt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Qw=1e-4,kR=1-Qw,jR=1+Qw,Zw=.01,ER=0-Zw,CR=0+Zw;function rt(e){return e.max-e.min}function TR(e,t,n){return Math.abs(e-t)<=n}function hm(e,t,n,r=.5){e.origin=r,e.originPoint=oe(t.min,t.max,e.origin),e.scale=rt(n)/rt(t),e.translate=oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=kR&&e.scale<=jR||isNaN(e.scale))&&(e.scale=1),(e.translate>=ER&&e.translate<=CR||isNaN(e.translate))&&(e.translate=0)}function ri(e,t,n,r){hm(e.x,t.x,n.x,r?r.originX:void 0),hm(e.y,t.y,n.y,r?r.originY:void 0)}function fm(e,t,n){e.min=n.min+t.min,e.max=e.min+rt(t)}function PR(e,t,n){fm(e.x,t.x,n.x),fm(e.y,t.y,n.y)}function pm(e,t,n){e.min=t.min-n.min,e.max=e.min+rt(t)}function si(e,t,n){pm(e.x,t.x,n.x),pm(e.y,t.y,n.y)}function NR(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?oe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?oe(n,e,r.max):Math.min(e,n)),e}function mm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function RR(e,{top:t,left:n,bottom:r,right:s}){return{x:mm(e.x,n,s),y:mm(e.y,t,r)}}function gm(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function AR(e,t){return{x:gm(e.x,t.x),y:gm(e.y,t.y)}}function OR(e,t){let n=.5;const r=rt(e),s=rt(t);return s>r?n=os(t.min,t.max-r,e.min):r>s&&(n=os(e.min,e.max-s,t.min)),en(0,1,n)}function LR(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const $u=.35;function IR(e=$u){return e===!1?e=0:e===!0&&(e=$u),{x:ym(e,"left","right"),y:ym(e,"top","bottom")}}function ym(e,t,n){return{min:vm(e,t),max:vm(e,n)}}function vm(e,t){return typeof e=="number"?e:e[t]||0}const wm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fr=()=>({x:wm(),y:wm()}),xm=()=>({min:0,max:0}),pe=()=>({x:xm(),y:xm()});function at(e){return[e("x"),e("y")]}function ex({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function DR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function MR(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function sc(e){return e===void 0||e===1}function Uu({scale:e,scaleX:t,scaleY:n}){return!sc(e)||!sc(t)||!sc(n)}function Bn(e){return Uu(e)||tx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tx(e){return bm(e.x)||bm(e.y)}function bm(e){return e&&e!=="0%"}function Aa(e,t,n){const r=e-n,s=t*r;return n+s}function _m(e,t,n,r,s){return s!==void 0&&(e=Aa(e,s,r)),Aa(e,n,r)+t}function Vu(e,t=0,n=1,r,s){e.min=_m(e.min,t,n,r,s),e.max=_m(e.max,t,n,r,s)}function nx(e,{x:t,y:n}){Vu(e.x,t.translate,t.scale,t.originPoint),Vu(e.y,n.translate,n.scale,n.originPoint)}const Sm=.999999999999,km=1.0000000000001;function $R(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Br(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,nx(e,o)),r&&Bn(i.latestValues)&&Br(e,i.latestValues))}t.x<km&&t.x>Sm&&(t.x=1),t.y<km&&t.y>Sm&&(t.y=1)}function zr(e,t){e.min=e.min+t,e.max=e.max+t}function jm(e,t,n,r,s=.5){const i=oe(e.min,e.max,s);Vu(e,t,n,i,r)}function Br(e,t){jm(e.x,t.x,t.scaleX,t.scale,t.originX),jm(e.y,t.y,t.scaleY,t.scale,t.originY)}function rx(e,t){return ex(MR(e.getBoundingClientRect(),t))}function UR(e,t,n){const r=rx(e,n),{scroll:s}=t;return s&&(zr(r.x,s.offset.x),zr(r.y,s.offset.y)),r}const sx=({current:e})=>e?e.ownerDocument.defaultView:null,VR=new WeakMap;class FR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ji(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:w}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OP(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),at(x=>{let m=this.getAxisMotionValue(x).get()||0;if(Ot.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const v=g.layout.layoutBox[x];v&&(m=rt(v)*(parseFloat(m)/100))}}this.originPoint[x]=m}),w&&te.postRender(()=>w(d,h)),Nu(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:w,onDrag:b}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=zR(x),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),b&&b(d,h)},a=(d,h)=>this.stop(d,h),l=()=>at(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Yw(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:sx(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&te.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!To(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=NR(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Ur(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=RR(s.layoutBox,n):this.constraints=!1,this.elastic=IR(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&at(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=LR(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ur(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=UR(r,s.root,this.visualElement.getTransformPagePoint());let o=AR(s.layout.layoutBox,i);if(n){const a=n(DR(o));this.hasMutatedConstraints=!!a,a&&(o=ex(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=at(d=>{if(!To(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,w={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Nu(this.visualElement,t),r.start(Rh(t,r,0,n,this.visualElement,!1))}stopAnimation(){at(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){at(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){at(n=>{const{drag:r}=this.getProps();if(!To(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-oe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ur(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};at(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=OR({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),at(o=>{if(!To(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(oe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;VR.set(this.visualElement,this);const t=this.visualElement.current,n=ni(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ur(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),te.read(r);const o=Mi(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(at(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=$u,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function To(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function zR(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class BR extends In{constructor(t){super(t),this.removeGroupControls=tt,this.removeListeners=tt,this.controls=new FR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Em=e=>(t,n)=>{e&&te.postRender(()=>e(t,n))};class WR extends In{constructor(){super(...arguments),this.removePointerDownListener=tt}onPointerDown(t){this.session=new Yw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Em(t),onStart:Em(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&te.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ni(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Go={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(F.test(e))e=parseFloat(e);else return e;const n=Cm(e,t.target.x),r=Cm(e,t.target.y);return`${n}% ${r}%`}},qR={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Nn.parse(e);if(s.length>5)return r;const i=Nn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=oe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class HR extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;hP(KR),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Go.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||te.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),oh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ix(e){const[t,n]=F0(),r=y.useContext(Qd);return u.jsx(HR,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(J0),isPresent:t,safeToRemove:n})}const KR={borderRadius:{...Rs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rs,borderTopRightRadius:Rs,borderBottomLeftRadius:Rs,borderBottomRightRadius:Rs,boxShadow:qR};function GR(e,t,n){const r=De(e)?e:Ii(e);return r.start(Rh("",r,t,n)),r.animation}function JR(e){return e instanceof SVGElement&&e.tagName!=="svg"}const YR=(e,t)=>e.depth-t.depth;class XR{constructor(){this.children=[],this.isDirty=!1}add(t){xh(this.children,t),this.isDirty=!0}remove(t){bh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(YR),this.isDirty=!1,this.children.forEach(t)}}function QR(e,t){const n=Lt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Pn(r),e(i-t))};return te.read(r,!0),()=>Pn(r)}const ox=["TopLeft","TopRight","BottomLeft","BottomRight"],ZR=ox.length,Tm=e=>typeof e=="string"?parseFloat(e):e,Pm=e=>typeof e=="number"||F.test(e);function e2(e,t,n,r,s,i){s?(e.opacity=oe(0,n.opacity!==void 0?n.opacity:1,t2(r)),e.opacityExit=oe(t.opacity!==void 0?t.opacity:1,0,n2(r))):i&&(e.opacity=oe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<ZR;o++){const a=`border${ox[o]}Radius`;let l=Nm(t,a),c=Nm(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Pm(l)===Pm(c)?(e[a]=Math.max(oe(Tm(l),Tm(c),r),0),(Ot.test(c)||Ot.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=oe(t.rotate||0,n.rotate||0,r))}function Nm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const t2=ax(0,.5,jw),n2=ax(.5,.95,tt);function ax(e,t,n){return r=>r<e?0:r>t?1:n(os(e,t,r))}function Rm(e,t){e.min=t.min,e.max=t.max}function ot(e,t){Rm(e.x,t.x),Rm(e.y,t.y)}function Am(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Om(e,t,n,r,s){return e-=t,e=Aa(e,1/n,r),s!==void 0&&(e=Aa(e,1/s,r)),e}function r2(e,t=0,n=1,r=.5,s,i=e,o=e){if(Ot.test(t)&&(t=parseFloat(t),t=oe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=oe(i.min,i.max,r);e===i&&(a-=t),e.min=Om(e.min,t,n,a,s),e.max=Om(e.max,t,n,a,s)}function Lm(e,t,[n,r,s],i,o){r2(e,t[n],t[r],t[s],t.scale,i,o)}const s2=["x","scaleX","originX"],i2=["y","scaleY","originY"];function Im(e,t,n,r){Lm(e.x,t,s2,n?n.x:void 0,r?r.x:void 0),Lm(e.y,t,i2,n?n.y:void 0,r?r.y:void 0)}function Dm(e){return e.translate===0&&e.scale===1}function lx(e){return Dm(e.x)&&Dm(e.y)}function Mm(e,t){return e.min===t.min&&e.max===t.max}function o2(e,t){return Mm(e.x,t.x)&&Mm(e.y,t.y)}function $m(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function cx(e,t){return $m(e.x,t.x)&&$m(e.y,t.y)}function Um(e){return rt(e.x)/rt(e.y)}function Vm(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class a2{constructor(){this.members=[]}add(t){xh(this.members,t),t.scheduleRender()}remove(t){if(bh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function l2(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Wn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zs=typeof window<"u"&&window.MotionDebug!==void 0,ic=["","X","Y","Z"],c2={visibility:"hidden"},Fm=1e3;let u2=0;function oc(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function ux(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=vw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",te,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&ux(r)}function dx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=u2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zs&&(Wn.totalNodes=Wn.resolvedTargetDeltas=Wn.recalculatedProjection=0),this.nodes.forEach(f2),this.nodes.forEach(v2),this.nodes.forEach(w2),this.nodes.forEach(p2),zs&&window.MotionDebug.record(Wn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new XR)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _h),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JR(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=QR(f,250),Go.hasAnimatedSinceResize&&(Go.hasAnimatedSinceResize=!1,this.nodes.forEach(Bm))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||k2,{onLayoutAnimationStart:x,onLayoutAnimationComplete:m}=d.getProps(),g=!this.targetLayout||!cx(this.targetLayout,w)||p,v=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const _={...gh(b,"layout"),onPlay:x,onComplete:m};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||Bm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Pn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x2),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ux(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zm);return}this.isUpdating||this.nodes.forEach(g2),this.isUpdating=!1,this.nodes.forEach(y2),this.nodes.forEach(d2),this.nodes.forEach(h2),this.clearAllSnapshots();const a=Lt.now();Te.delta=en(0,1e3/60,a-Te.timestamp),Te.timestamp=a,Te.isProcessing=!0,Yl.update.process(Te),Yl.preRender.process(Te),Yl.render.process(Te),Te.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(m2),this.sharedNodes.forEach(b2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!lx(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Bn(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),j2(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return pe();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(E2))){const{scroll:d}=this.root;d&&(zr(l.x,d.offset.x),zr(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=pe();if(ot(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ot(l,o),zr(l.x,h.offset.x),zr(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=pe();ot(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Br(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Bn(d.latestValues)&&Br(l,d.latestValues)}return Bn(this.latestValues)&&Br(l,this.latestValues),l}removeTransform(o){const a=pe();ot(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Bn(c.latestValues))continue;Uu(c.latestValues)&&c.updateSnapshot();const d=pe(),h=c.measurePageBox();ot(d,h),Im(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Bn(this.latestValues)&&Im(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Te.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Te.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),si(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pe(),this.targetWithTransforms=pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ot(this.target,this.layout.layoutBox),nx(this.target,this.targetDelta)):ot(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),si(this.relativeTargetOrigin,this.target,p.target),ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zs&&Wn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Uu(this.parent.latestValues)||tx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Te.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ot(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;$R(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=pe());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Am(this.prevProjectionDelta.x,this.projectionDelta.x),Am(this.prevProjectionDelta.y,this.projectionDelta.y)),ri(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Vm(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),zs&&Wn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fr(),this.projectionDelta=Fr(),this.projectionDeltaWithTransform=Fr()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Fr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=pe(),p=l?l.source:void 0,w=this.layout?this.layout.source:void 0,b=p!==w,x=this.getStack(),m=!x||x.members.length<=1,g=!!(b&&!m&&this.options.crossfade===!0&&!this.path.some(S2));this.animationProgress=0;let v;this.mixTargetDelta=_=>{const S=_/1e3;Wm(h.x,o.x,S),Wm(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(si(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_2(this.relativeTarget,this.relativeTargetOrigin,f,S),v&&o2(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=pe()),ot(v,this.relativeTarget)),b&&(this.animationValues=d,e2(d,c,this.latestValues,S,g,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Pn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=te.update(()=>{Go.hasAnimatedSinceResize=!0,this.currentAnimation=GR(0,Fm,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&hx(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||pe();const h=rt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=rt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}ot(a,l),Br(a,d),ri(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new a2),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&oc("z",o,c,this.animationValues);for(let d=0;d<ic.length;d++)oc(`rotate${ic[d]}`,o,c,this.animationValues),oc(`skew${ic[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return c2;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Ho(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Ho(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Bn(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=l2(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:p,y:w}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in Ca){if(f[b]===void 0)continue;const{correct:x,applyTo:m}=Ca[b],g=c.transform==="none"?f[b]:x(f[b],h);if(m){const v=m.length;for(let _=0;_<v;_++)c[m[_]]=g}else c[b]=g}return this.options.layoutId&&(c.pointerEvents=h===this?Ho(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(zm),this.root.sharedNodes.clear()}}}function d2(e){e.updateLayout()}function h2(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?at(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=rt(f);f.min=r[h].min,f.max=f.min+p}):hx(i,n.layoutBox,r)&&at(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=rt(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const a=Fr();ri(a,r,n.layoutBox);const l=Fr();o?ri(l,e.applyTransform(s,!0),n.measuredBox):ri(l,r,n.layoutBox);const c=!lx(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const w=pe();si(w,n.layoutBox,f.layoutBox);const b=pe();si(b,r,p.layoutBox),cx(w,b)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function f2(e){zs&&Wn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function p2(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function m2(e){e.clearSnapshot()}function zm(e){e.clearMeasurements()}function g2(e){e.isLayoutDirty=!1}function y2(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function v2(e){e.resolveTargetDelta()}function w2(e){e.calcProjection()}function x2(e){e.resetSkewAndRotation()}function b2(e){e.removeLeadSnapshot()}function Wm(e,t,n){e.translate=oe(t.translate,0,n),e.scale=oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function qm(e,t,n,r){e.min=oe(t.min,n.min,r),e.max=oe(t.max,n.max,r)}function _2(e,t,n,r){qm(e.x,t.x,n.x,r),qm(e.y,t.y,n.y,r)}function S2(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const k2={duration:.45,ease:[.4,0,.1,1]},Hm=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Km=Hm("applewebkit/")&&!Hm("chrome/")?Math.round:tt;function Gm(e){e.min=Km(e.min),e.max=Km(e.max)}function j2(e){Gm(e.x),Gm(e.y)}function hx(e,t,n){return e==="position"||e==="preserve-aspect"&&!TR(Um(t),Um(n),.2)}function E2(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const C2=dx({attachResizeListener:(e,t)=>Mi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ac={current:void 0},fx=dx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ac.current){const e=new C2({});e.mount(window),e.setOptions({layoutScroll:!0}),ac.current=e}return ac.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),T2={pan:{Feature:WR},drag:{Feature:BR,ProjectionNode:fx,MeasureLayout:ix}};function Jm(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&te.postRender(()=>i(t,Ji(t)))}class P2 extends In{mount(){const{current:t}=this.node;t&&(this.unmount=TP(t,n=>(Jm(this.node,n,"Start"),r=>Jm(this.node,r,"End"))))}unmount(){}}class N2 extends In{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gi(Mi(this.node.current,"focus",()=>this.onFocus()),Mi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ym(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&te.postRender(()=>i(t,Ji(t)))}class R2 extends In{mount(){const{current:t}=this.node;t&&(this.unmount=AP(t,n=>(Ym(this.node,n,"Start"),(r,{success:s})=>Ym(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fu=new WeakMap,lc=new WeakMap,A2=e=>{const t=Fu.get(e.target);t&&t(e)},O2=e=>{e.forEach(A2)};function L2({root:e,...t}){const n=e||document;lc.has(n)||lc.set(n,{});const r=lc.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(O2,{root:e,...t})),r[s]}function I2(e,t,n){const r=L2(t);return Fu.set(e,n),r.observe(e),()=>{Fu.delete(e),r.unobserve(e)}}const D2={some:0,all:1};class M2 extends In{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:D2[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return I2(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($2(t,n))&&this.startObserver()}unmount(){}}function $2({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const U2={inView:{Feature:M2},tap:{Feature:R2},focus:{Feature:N2},hover:{Feature:P2}},V2={layout:{ProjectionNode:fx,MeasureLayout:ix}},zu={current:null},px={current:!1};function F2(){if(px.current=!0,!!th)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>zu.current=e.matches;e.addListener(t),t()}else zu.current=!1}const z2=[...Uw,Le,Nn],B2=e=>z2.find($w(e)),Xm=new WeakMap;function W2(e,t,n){for(const r in t){const s=t[r],i=n[r];if(De(s))e.addValue(r,s);else if(De(i))e.addValue(r,Ii(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ii(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Qm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class q2{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Th,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Lt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,te.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=sl(n),this.isVariantNode=K0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const w=f[p];l[p]!==void 0&&De(w)&&w.set(l[p],!1)}}mount(t){this.current=t,Xm.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),px.current||F2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Xm.delete(this.current),this.projection&&this.projection.unmount(),Pn(this.notifyUpdate),Pn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=mr.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&te.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in as){const n=as[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Qm.length;r++){const s=Qm[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=W2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ii(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Dw(s)||Cw(s))?s=parseFloat(s):!B2(s)&&Nn.test(n)&&(s=Ow(t,n)),this.setBaseTarget(t,De(s)?s.get():s)),De(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=lh(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!De(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new _h),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class mx extends q2{constructor(){super(...arguments),this.KeyframeResolver=Vw}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;De(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function H2(e){return window.getComputedStyle(e)}class K2 extends mx{constructor(){super(...arguments),this.type="html",this.renderInstance=nw}readValueFromInstance(t,n){if(mr.has(n)){const r=Ch(n);return r&&r.default||0}else{const r=H2(t),s=(Z0(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return rx(t,n)}build(t,n,r){dh(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return mh(t,n,r)}}class G2 extends mx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(mr.has(n)){const r=Ch(n);return r&&r.default||0}return n=rw.has(n)?n:ih(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return ow(t,n,r)}build(t,n,r){hh(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){sw(t,n,r,s)}mount(t){this.isSVGTag=ph(t.tagName),super.mount(t)}}const J2=(e,t)=>ah(e)?new G2(t):new K2(t,{allowProjection:e!==y.Fragment}),Y2=bP({...wR,...U2,...T2,...V2},J2),Pe=DT(Y2);function X2(){const{user:e}=pt(),{pendingInvites:t,pendingCount:n,loading:r,acceptInvite:s,rejectInvite:i}=kT(e==null?void 0:e.id),[o,a]=y.useState(!1),[l,c]=y.useState(null),d=y.useRef(null);if(y.useEffect(()=>{const p=w=>{d.current&&!d.current.contains(w.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),!e)return null;const h=async p=>{c(p),await s(p),c(null)},f=async p=>{c(p),await i(p),c(null)};return u.jsxs("div",{className:"relative",ref:d,children:[u.jsxs(D,{variant:"ghost",size:"icon",onClick:()=>a(p=>!p),className:"relative",id:"notification-bell",children:[u.jsx(iT,{className:"w-5 h-5"}),u.jsx(Tn,{children:n>0&&u.jsx(Pe.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-0.5 -right-0.5 min-w-[18px] h-[18px] px-1 rounded-full bg-red-500 text-white text-[10px] font-bold flex items-center justify-center",children:n>9?"9+":n})})]}),u.jsx(Tn,{children:o&&u.jsxs(Pe.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute right-0 top-full mt-2 w-80 bg-card border rounded-xl shadow-xl z-50 overflow-hidden",children:[u.jsx("div",{className:"px-4 py-3 border-b bg-muted/30",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"font-semibold text-sm",children:"Notifications"}),n>0&&u.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-primary/10 text-primary font-medium",children:[n," new"]})]})}),u.jsxs("div",{className:"max-h-[360px] overflow-y-auto",children:[r&&t.length===0&&u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx(Zt,{className:"w-5 h-5 animate-spin text-muted-foreground"})}),!r&&t.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 gap-2 text-muted-foreground",children:[u.jsx(O0,{className:"w-8 h-8 opacity-40"}),u.jsx("p",{className:"text-sm",children:"No pending invites"})]}),t.map(p=>{var w,b,x,m,g;return u.jsx("div",{className:"p-3 border-b last:border-b-0 hover:bg-muted/20 transition-colors",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center text-xs font-bold text-primary flex-shrink-0",children:(((w=p.sender)==null?void 0:w.full_name)||((b=p.sender)==null?void 0:b.username)||"U").charAt(0).toUpperCase()}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("p",{className:"text-sm",children:[u.jsx("span",{className:"font-semibold",children:((x=p.sender)==null?void 0:x.full_name)||((m=p.sender)==null?void 0:m.username)||"Someone"})," ","invited you to join"]}),u.jsx("p",{className:"text-sm font-medium text-primary truncate",children:((g=p.project)==null?void 0:g.title)||"a project"}),p.message&&u.jsxs("p",{className:"text-xs text-muted-foreground mt-1 italic line-clamp-2",children:["",p.message,""]}),u.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:new Date(p.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsxs(D,{size:"sm",className:"h-7 text-xs flex-1",onClick:()=>h(p.id),disabled:l===p.id,children:[l===p.id?u.jsx(Zt,{className:"w-3 h-3 mr-1 animate-spin"}):u.jsx(lT,{className:"w-3 h-3 mr-1"}),"Accept"]}),u.jsxs(D,{size:"sm",variant:"outline",className:"h-7 text-xs flex-1",onClick:()=>f(p.id),disabled:l===p.id,children:[u.jsx(ur,{className:"w-3 h-3 mr-1"}),"Decline"]})]})]})]})},p.id)})]})]})})]})}function Q2(){const{user:e,signOut:t}=pt(),n=Ge(),r=fr(),s=async()=>{await t(),n("/login")};return u.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[u.jsx("header",{className:"border-b bg-card/50 backdrop-blur-md sticky top-0 z-50",children:u.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[u.jsxs(qn,{to:"/",className:"flex items-center gap-2 font-bold text-xl text-primary",children:[u.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-primary-foreground",children:"C"}),"CollabSphere"]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[u.jsx(qn,{to:"/projects",className:`text-sm font-medium transition-colors hover:text-primary ${r.pathname.startsWith("/projects")||r.pathname==="/"?"text-primary":"text-muted-foreground"}`,children:"Explore Projects"}),u.jsx(qn,{to:"/explore-teams",className:`text-sm font-medium transition-colors hover:text-primary ${r.pathname.startsWith("/explore-teams")?"text-primary":"text-muted-foreground"}`,children:"Explore Teams"})]}),u.jsx("div",{className:"flex items-center gap-4",children:e?u.jsxs(u.Fragment,{children:[u.jsxs(D,{size:"sm",variant:"default",className:"hidden sm:flex",onClick:()=>n("/projects/new"),children:[u.jsx(ja,{className:"w-4 h-4 mr-2"}),"New Project"]}),u.jsx(X2,{}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(D,{variant:"ghost",size:"icon",onClick:()=>n("/profile"),children:u.jsx(V0,{className:"w-5 h-5"})}),u.jsx(D,{variant:"ghost",size:"icon",onClick:s,children:u.jsx(mT,{className:"w-5 h-5"})})]})]}):u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(D,{variant:"ghost",asChild:!0,children:u.jsx(qn,{to:"/login",children:"Log in"})}),u.jsx(D,{asChild:!0,children:u.jsx(qn,{to:"/login?tab=register",children:"Sign up"})})]})})]})}),u.jsx("main",{className:"flex-1 container mx-auto px-4 py-8",children:u.jsx(HS,{})}),u.jsx("footer",{className:"border-t py-6 bg-card",children:u.jsx("div",{className:"container mx-auto px-4 text-center text-sm text-muted-foreground",children:" 2024 CollabSphere. Built for the Hackathon."})})]})}function Ah({icon:e=O0,title:t,description:n,actionLabel:r,onAction:s,className:i=""}){return u.jsxs("div",{className:`flex flex-col items-center justify-center py-16 px-4 text-center ${i}`,children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-muted/50 flex items-center justify-center mb-4",children:u.jsx(e,{className:"w-8 h-8 text-muted-foreground/50"})}),u.jsx("h3",{className:"text-lg font-semibold mb-1",children:t}),n&&u.jsx("p",{className:"text-sm text-muted-foreground max-w-md mb-4 leading-relaxed",children:n}),r&&s&&u.jsx(D,{variant:"outline",onClick:s,children:r})]})}class Z2 extends y.Component{constructor(n){super(n);ul(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});ul(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("[ErrorBoundary]",n,r.componentStack)}render(){return this.state.hasError?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4 text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-destructive/10 flex items-center justify-center mb-4",children:u.jsx(T0,{className:"w-8 h-8 text-destructive"})}),u.jsx("h2",{className:"text-xl font-bold mb-2",children:this.props.fallbackTitle||"Something went wrong"}),u.jsx("p",{className:"text-sm text-muted-foreground max-w-md mb-6 leading-relaxed",children:"An unexpected error occurred. This has been logged. You can try again or return to the home page."}),!1,u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:this.handleRetry,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border bg-card hover:bg-accent transition-colors text-sm font-medium",children:[u.jsx(I0,{className:"w-4 h-4"}),"Try Again"]}),u.jsxs("button",{onClick:this.handleGoHome,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors text-sm font-medium",children:[u.jsx(pT,{className:"w-4 h-4"}),"Go Home"]})]})]}):this.props.children}}function eA(){const e=Ge(),{user:t}=pt();return u.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[85vh] text-center space-y-16",children:[u.jsxs(Pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"space-y-8 max-w-4xl",children:[u.jsxs(Pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-primary/10 text-primary text-sm font-semibold border border-primary/20",children:[u.jsx(Ai,{className:"w-3.5 h-3.5"}),"AI-Powered Team Matching  Now Live"]}),u.jsxs("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight",children:[u.jsx("span",{className:"bg-gradient-to-r from-primary via-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Build Team."}),u.jsx("br",{}),u.jsx("span",{className:"text-foreground",children:"Ship Dream."})]}),u.jsxs("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:["The context-aware matching platform for hackathon teams. Connect with developers, designers, and visionaries based on",u.jsx("strong",{className:"text-foreground",children:" verified skills"}),",",u.jsx("strong",{className:"text-foreground",children:" compatibility scores"}),", and",u.jsx("strong",{className:"text-foreground",children:" availability"}),"."]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-4",children:[u.jsxs(D,{size:"lg",className:"h-13 px-8 text-lg shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-shadow",onClick:()=>e("/projects"),children:["Explore Projects ",u.jsx(Xd,{className:"ml-2 w-5 h-5"})]}),t?u.jsx(D,{size:"lg",variant:"outline",className:"h-13 px-8 text-lg",onClick:()=>e("/projects/new"),children:"Start Building"}):u.jsxs(D,{size:"lg",variant:"outline",className:"h-13 px-8 text-lg",onClick:()=>e("/login?tab=register"),children:[u.jsx(tr,{className:"mr-2 w-5 h-5"}),"Join with GitHub"]})]}),u.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-muted-foreground pt-2",children:[u.jsxs("span",{className:"flex items-center gap-1.5",children:[u.jsx($0,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),"Skill-verified profiles"]}),u.jsx("span",{className:"w-1 h-1 rounded-full bg-muted-foreground"}),u.jsxs("span",{className:"flex items-center gap-1.5",children:[u.jsx(Ai,{className:"w-4 h-4 text-blue-500"}),"Real-time matching"]}),u.jsx("span",{className:"w-1 h-1 rounded-full bg-muted-foreground"}),u.jsxs("span",{className:"flex items-center gap-1.5",children:[u.jsx(L0,{className:"w-4 h-4 text-green-500"}),"Built-in team chat"]})]})]}),u.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl px-4",children:[u.jsx(cc,{icon:u.jsx(uT,{className:"w-8 h-8 text-blue-500"}),title:"GitHub Verified Skills",description:"Import skills directly from your GitHub repositories. Our engine extracts languages and topics to build your verified skill profile.",badge:"Verified",badgeColor:"bg-blue-100 text-blue-700"}),u.jsx(cc,{icon:u.jsx(dT,{className:"w-8 h-8 text-purple-500"}),title:"Smart Matchmaking",description:"Our rule-based engine scores skill overlap, complementary skills, availability, and timezone to find your perfect team.",badge:"AI-Ready",badgeColor:"bg-purple-100 text-purple-700"}),u.jsx(cc,{icon:u.jsx(ys,{className:"w-8 h-8 text-green-500"}),title:"Real-time Collaboration",description:"Join projects, send requests, and chat with your team in real-time. Built on Supabase Realtime for instant updates.",badge:"Live",badgeColor:"bg-green-100 text-green-700"})]}),u.jsxs(Pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"w-full max-w-3xl space-y-4",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"How it works"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{step:"01",title:"Build your profile",desc:"Add skills manually or import from GitHub"},{step:"02",title:"Browse projects",desc:"See your match score for every project"},{step:"03",title:"Join & collaborate",desc:"Request to join and chat with your team"}].map(n=>u.jsxs("div",{className:"p-5 rounded-xl bg-muted/30 border text-left space-y-2",children:[u.jsx("div",{className:"text-3xl font-black text-primary/30",children:n.step}),u.jsx("div",{className:"font-semibold",children:n.title}),u.jsx("div",{className:"text-sm text-muted-foreground",children:n.desc})]},n.step))})]})]})}function cc({icon:e,title:t,description:n,badge:r,badgeColor:s}){return u.jsxs("div",{className:"p-6 rounded-2xl border bg-card text-card-foreground shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1 flex flex-col items-center text-center space-y-4",children:[u.jsx("div",{className:"p-3 bg-secondary/50 rounded-xl",children:e}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("h3",{className:"text-lg font-semibold",children:t}),u.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${s}`,children:r})]}),u.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:n})]})]})}const Ue=y.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:Dt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Ue.displayName="Input";var tA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nA=tA.reduce((e,t)=>{const n=C0(`Primitive.${t}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),rA="Label",gx=y.forwardRef((e,t)=>u.jsx(nA.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gx.displayName=rA;var yx=gx;const sA=Jd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Se=y.forwardRef(({className:e,...t},n)=>u.jsx(yx,{ref:n,className:Dt(sA(),e),...t}));Se.displayName=yx.displayName;function iA(){const{signInWithGithub:e,signInWithGoogle:t,signInWithEmail:n,signUpWithEmail:r,user:s}=pt(),[i,o]=y.useState(!1),[a,l]=y.useState(""),[c,d]=y.useState(""),{toast:h}=Mt(),[f]=o1(),p=Ge(),w=f.get("tab")==="register";if(s)return u.jsx(Sv,{to:"/",replace:!0});const b=async()=>{try{o(!0),await e()}catch{h({title:"Login failed",description:"Could not authenticate with GitHub",variant:"destructive"})}finally{o(!1)}},x=async()=>{try{o(!0),await t()}catch{h({title:"Login failed",description:"Could not authenticate with Google",variant:"destructive"})}finally{o(!1)}},m=async g=>{if(g.preventDefault(),!a||!c){h({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}try{o(!0),w?(await r(a,c),h({title:"Account created! ",description:"Please sign in with your new account."}),p("/login")):(await n(a,c),h({title:"Welcome back! ",description:"You've been signed in successfully."}),p("/"))}catch(v){h({title:"Authentication failed",description:v.message||"An error occurred",variant:"destructive"})}finally{o(!1)}};return u.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:u.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-card rounded-xl border shadow-lg text-center",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h1",{className:"text-3xl font-bold",children:w?"Create Account":"Welcome Back"}),u.jsx("p",{className:"text-muted-foreground",children:w?"Join the community and start building.":"Sign in to access your projects and matches."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs(D,{variant:"outline",type:"button",className:"w-full h-12 text-base",onClick:b,disabled:i,children:[u.jsx(tr,{className:"mr-2 h-5 w-5"}),"Continue with GitHub"]}),u.jsxs(D,{variant:"outline",type:"button",className:"w-full h-12 text-base",onClick:x,disabled:i,children:[u.jsxs("svg",{className:"mr-2 h-5 w-5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("span",{className:"w-full border-t"})}),u.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:u.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with email"})})]}),u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2 text-left",children:[u.jsx(Se,{htmlFor:"email",children:"Email"}),u.jsx(Ue,{id:"email",placeholder:"m@example.com",type:"email",value:a,onChange:g=>l(g.target.value),disabled:i,required:!0})]}),u.jsxs("div",{className:"space-y-2 text-left",children:[u.jsx(Se,{htmlFor:"password",children:"Password"}),u.jsx(Ue,{id:"password",type:"password",value:c,onChange:g=>d(g.target.value),disabled:i,required:!0})]}),u.jsx(D,{type:"submit",className:"w-full",disabled:i,children:i?"Processing...":w?"Sign Up":"Sign In"})]}),u.jsx("div",{className:"text-center text-sm",children:w?u.jsxs("p",{children:["Already have an account?"," ",u.jsx(qn,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign In"})]}):u.jsxs("p",{children:["Don't have an account?"," ",u.jsx(qn,{to:"/login?tab=register",className:"text-primary hover:underline font-medium",children:"Sign Up"})]})})]})})}const Jo={async getAll(){const{data:e,error:t}=await O.from("projects").select("*, profiles(full_name, avatar_url)").order("created_at",{ascending:!1});if(t)throw t;return e},async getById(e){const{data:t,error:n}=await O.from("projects").select("*, profiles(full_name, avatar_url)").eq("id",e).single();if(n)throw n;return t},async create(e){const t={title:e.title,description:e.description,owner_id:e.owner_id,required_skills:e.required_skills??[],status:e.status??"open"};e.urgency!==void 0&&(t.urgency=e.urgency),e.team_size!==void 0&&(t.team_size=e.team_size),e.github_url&&(t.github_url=e.github_url),e.image_url&&(t.image_url=e.image_url);const{data:n,error:r}=await O.from("projects").insert(t).select().single();if(r)throw r;return n},async update(e,t){const{data:n,error:r}=await O.from("projects").update(t).eq("id",e).select().single();if(r)throw r;return n},async getUserProjects(e){const{data:t,error:n}=await O.from("projects").select("*, profiles(full_name, avatar_url)").eq("owner_id",e).order("created_at",{ascending:!1});if(n)throw n;return t}};function Oh(e){const[t,n]=y.useState([]),[r,s]=y.useState([]),[i,o]=y.useState(!0),{toast:a}=Mt();y.useEffect(()=>{l()},[e]);const l=async()=>{try{o(!0);const d=await Jo.getAll();if(n(d),e){const h=await Jo.getUserProjects(e);s(h)}}catch{a({title:"Error loading projects",description:"Please try again later",variant:"destructive"})}finally{o(!1)}};return{projects:t,userProjects:r,loading:i,refresh:l,createProject:async d=>{try{const h=await Jo.create(d);return a({title:"Project created",description:"Your project is now live!"}),l(),h}catch(h){throw a({title:"Creation failed",description:h.message||"Could not create project",variant:"destructive"}),h}}}}const oA={default:"border-primary/20 bg-primary/5 text-primary",matched:"border-emerald-300 bg-emerald-50 text-emerald-700 dark:border-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-400",outline:"bg-secondary text-secondary-foreground border"},aA={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"};function al({skill:e,variant:t="default",size:n="sm",className:r=""}){return u.jsxs("span",{className:`inline-flex items-center rounded-md border font-medium transition-colors ${oA[t]} ${aA[n]} ${r}`,children:[t==="matched"&&u.jsx(Ai,{className:"w-3 h-3 mr-0.5"}),e]})}function vx({skills:e,matchedSkills:t,variant:n="default",size:r="sm",maxVisible:s=4,className:i=""}){const o=e.slice(0,s),a=e.length-s;return u.jsxs("div",{className:`flex flex-wrap gap-1.5 ${i}`,children:[o.map(l=>u.jsx(al,{skill:l,variant:t!=null&&t.includes(l)?"matched":n,size:r},l)),a>0&&u.jsxs("span",{className:"text-xs text-muted-foreground px-1 py-0.5",children:["+",a," more"]})]})}function lA(e){return e>=75?{text:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 border-emerald-200 dark:bg-emerald-900/20 dark:border-emerald-800"}:e>=50?{text:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800"}:e>=25?{text:"text-yellow-600 dark:text-yellow-400",bg:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/20 dark:border-yellow-800"}:{text:"text-muted-foreground",bg:"bg-muted/50 border-border"}}function wx({score:e,size:t="sm",className:n=""}){const r=lA(e);return t==="lg"?u.jsxs("div",{className:`flex-shrink-0 flex flex-col items-center p-2 rounded-lg border ${r.bg} ${n}`,children:[u.jsxs("div",{className:`text-xl font-bold leading-none ${r.text}`,children:[e,"%"]}),u.jsx("div",{className:"text-[9px] text-muted-foreground uppercase tracking-widest mt-0.5",children:"Match"})]}):u.jsxs("div",{className:`flex-shrink-0 flex flex-col items-center ${n}`,children:[u.jsxs("div",{className:`text-lg font-bold ${r.text}`,children:[e,"%"]}),u.jsx("div",{className:"text-[9px] text-muted-foreground uppercase tracking-wider",children:"Match"})]})}const cA={high:{label:"High Urgency",color:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800",dot:"bg-red-500"},medium:{label:"Medium",color:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800",dot:"bg-yellow-500"},low:{label:"Low Priority",color:"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",dot:"bg-green-500"}},Zm={open:{label:"Open",color:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"},in_progress:{label:"In Progress",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},completed:{label:"Completed",color:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}};function xx({project:e,matchScore:t}){var i;const n=Ge(),r=e.urgency?cA[e.urgency]:null,s=e.status?Zm[e.status]:Zm.open;return u.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm overflow-hidden flex flex-col h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5 cursor-pointer group",onClick:()=>n(`/projects/${e.id}`),children:[e.image_url&&u.jsx("div",{className:"w-full h-40 overflow-hidden border-b",children:u.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover transition-transform group-hover:scale-105 duration-500"})}),u.jsxs("div",{className:"flex flex-col space-y-3 p-5 flex-1",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[u.jsx("h3",{className:"text-lg font-bold tracking-tight truncate group-hover:text-primary transition-colors",children:e.title}),u.jsxs("div",{className:"flex flex-wrap items-center gap-1.5",children:[u.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${s.color}`,children:s.label}),r&&u.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium border flex items-center gap-1 ${r.color}`,children:[u.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${r.dot}`}),r.label]})]})]}),t!==void 0&&u.jsx(wx,{score:t,size:"sm"})]}),u.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:e.description}),u.jsx(vx,{skills:e.required_skills||[],maxVisible:4}),u.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground pt-1",children:[e.team_size&&u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(ys,{className:"w-3 h-3"})," ",e.team_size," members"]}),((i=e.profiles)==null?void 0:i.full_name)&&u.jsxs("span",{className:"truncate",children:["by ",e.profiles.full_name]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 px-5 pb-4 mt-auto",children:[u.jsxs(D,{variant:"default",className:"flex-1 shadow-sm group-hover:bg-primary/90 transition-colors",onClick:o=>{o.stopPropagation(),n(`/projects/${e.id}`)},children:["View Details ",u.jsx(Xd,{className:"w-4 h-4 ml-2"})]}),e.github_url&&u.jsx(D,{variant:"outline",size:"icon",onClick:o=>{o.stopPropagation(),window.open(e.github_url,"_blank")},title:"View on GitHub",children:u.jsx(tr,{className:"w-4 h-4"})})]})]})}const uc={async getProfile(e){const{data:t,error:n}=await O.from("profiles").select("*").eq("id",e).maybeSingle();if(n)throw n;return t},async createProfile(e){const{data:t,error:n}=await O.from("profiles").insert(e).select().single();if(n)throw n;return t},async updateProfile(e,t){const{data:n,error:r}=await O.from("profiles").update(t).eq("id",e).select().single();if(r)throw r;return n}};function ll(){const{user:e}=pt(),[t,n]=y.useState(null),[r,s]=y.useState(!0),{toast:i}=Mt();y.useEffect(()=>{e&&o()},[e]);const o=async()=>{var l,c,d;if(e)try{let h=await uc.getProfile(e.id);if(!h){const f={id:e.id,username:((l=e.email)==null?void 0:l.split("@")[0])||`user_${e.id.slice(0,5)}`,full_name:((c=e.user_metadata)==null?void 0:c.full_name)||"",avatar_url:((d=e.user_metadata)==null?void 0:d.avatar_url)||"",skills:[]};h=await uc.createProfile(f)}n(h)}catch(h){console.error("Profile loading/creation error:",h),i({title:"Error loading profile",description:h.message||"Please try again later",variant:"destructive"})}finally{s(!1)}};return{profile:t,loading:r,refresh:o,updateProfile:async l=>{if(e)try{const c=await uc.updateProfile(e.id,l);return n(c),i({title:"Profile updated",description:"Your changes have been saved successfully."}),c}catch(c){throw i({title:"Update failed",description:c.message||"Could not update profile",variant:"destructive"}),c}}}}const bx=e=>e>=75?"Excellent":e>=50?"Good":e>=25?"Fair":"Low",Po={skillOverlap:.55,complementary:.2,availability:.15,timezone:.1},uA=bx,dA={react:["typescript","javascript","redux","react-query","nextjs","vite","tailwind","css"],vue:["typescript","javascript","vuex","nuxt","css"],angular:["typescript","javascript","rxjs","ngrx"],typescript:["javascript","react","node","express","nestjs"],javascript:["typescript","react","vue","angular","node","express"],python:["django","fastapi","flask","ml","ai","tensorflow","pytorch","pandas","numpy"],"machine learning":["python","tensorflow","pytorch","scikit-learn","data science","ai"],ai:["python","machine learning","tensorflow","pytorch","nlp"],node:["javascript","typescript","express","nestjs","mongodb"],express:["node","javascript","typescript","mongodb","postgresql"],postgresql:["sql","node","python","supabase","prisma"],mongodb:["node","javascript","express","mongoose"],rust:["systems programming","webassembly","c++"],go:["microservices","docker","kubernetes","backend"],docker:["kubernetes","devops","ci/cd","linux"],kubernetes:["docker","devops","cloud","aws","gcp"],design:["figma","ui/ux","css","tailwind","sketch"],figma:["design","ui/ux","prototyping"]},hA=(e,t)=>{if(!t||t.length===0)return{score:100,missingSkills:[]};const n=new Set(e.map(a=>a.toLowerCase())),r=t.map(a=>a.toLowerCase());let s=0;const i=[];return r.forEach(a=>{n.has(a)?s++:i.push(a)}),{score:Math.round(s/r.length*100),missingSkills:i}},_x=(e,t)=>{if(!t||t.length===0)return 100;if(!e||e.length===0)return 0;const n=new Set(e.map(i=>i.toLowerCase())),r=t.map(i=>i.toLowerCase());let s=0;return r.forEach(i=>{if(n.has(i)){s+=100;return}const a=(dA[i]||[]).filter(l=>n.has(l));if(a.length>0){const l=Math.min(60,a.length*20);s+=l}}),Math.round(s/r.length)},fA=(e,t)=>{if(!t||!e)return 100;const n={"full-time":4,"part-time":3,weekends:2,evenings:1},r=n[e.toLowerCase()]||2,s=n[t.toLowerCase()]||2;return r>=s?100:r===s-1?70:40},pA=(e,t)=>{if(!e||!t||e===t)return 100;const n=s=>{const i=s.match(/UTC([+-])(\d+):(\d+)/);return i?(i[1]==="+"?1:-1)*(parseInt(i[2])+parseInt(i[3])/60):0},r=Math.abs(n(e)-n(t));return r<=2?100:r<=5?75:r<=8?50:25},Lh=(e,t)=>{const{score:n,missingSkills:r}=hA(e.skills,t.required_skills),s=_x(e.skills,t.required_skills),i=fA(e.availability,t.availability_required),o=pA(e.timezone,t.timezone_preferred),a=Math.round(n*Po.skillOverlap+s*Po.complementary+i*Po.availability+o*Po.timezone);return{projectId:t.id,score:Math.min(100,Math.max(0,a)),label:uA(a),details:{skillOverlap:n,complementaryScore:s,availabilityScore:i,timezoneScore:o,missingSkills:r}}},mA=["All","React","TypeScript","Python","AI/ML","Design","Node.js","Rust","Go"],gA=["All","high","medium","low"];function yA(){const{projects:e,loading:t,refresh:n}=Oh(),r=Ge(),{user:s}=pt(),{profile:i}=ll(),[o,a]=y.useState(""),[l,c]=y.useState("All"),[d,h]=y.useState("All"),[f,p]=y.useState(!1);y.useEffect(()=>{n()},[]);const w=x=>!i||!s?void 0:Lh({id:i.id,skills:i.skills||[]},{id:x.id,required_skills:x.required_skills||[]}).score,b=e.filter(x=>{var _,S;const m=!o||x.title.toLowerCase().includes(o.toLowerCase())||x.description.toLowerCase().includes(o.toLowerCase())||((_=x.required_skills)==null?void 0:_.some(k=>k.toLowerCase().includes(o.toLowerCase()))),g=l==="All"||((S=x.required_skills)==null?void 0:S.some(k=>k.toLowerCase().includes(l.toLowerCase()))),v=d==="All"||x.urgency===d;return m&&g&&v}).map(x=>({...x,_matchScore:w(x)})).sort((x,m)=>f&&x._matchScore!==void 0&&m._matchScore!==void 0?m._matchScore-x._matchScore:0);return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Project Bazaar"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"Find the perfect project that matches your skills and interests."})]}),u.jsxs(D,{onClick:()=>r("/projects/new"),className:"shrink-0",children:[u.jsx(ja,{className:"mr-2 h-4 w-4"})," Create Project"]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Eu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx(Ue,{placeholder:"Search projects, skills, or descriptions...",className:"pl-9",value:o,onChange:x=>a(x.target.value)})]}),s&&u.jsxs(D,{variant:f?"default":"outline",onClick:()=>p(!f),className:"shrink-0",title:"Sort by your match score",children:[u.jsx(Ai,{className:"w-4 h-4 mr-2"}),"Best Match"]})]}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:mA.map(x=>u.jsx(D,{variant:l===x?"default":"outline",size:"sm",className:"rounded-full shrink-0",onClick:()=>c(x),children:x},x))}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:"Urgency:"}),gA.map(x=>u.jsx(D,{variant:d===x?"secondary":"ghost",size:"sm",className:"h-7 text-xs rounded-full",onClick:()=>h(x),children:x==="All"?"All":x.charAt(0).toUpperCase()+x.slice(1)},x))]})]}),!t&&u.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.length," project",b.length!==1?"s":""," found",f&&s&&"  sorted by match"]}),t?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(x=>u.jsx("div",{className:"h-[280px] rounded-xl border bg-muted/20 animate-pulse"},x))}):b.length>0?u.jsx(Tn,{mode:"popLayout",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map((x,m)=>u.jsx(Pe.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:m*.04,duration:.3},children:u.jsx(xx,{project:x,matchScore:x._matchScore})},x.id))})}):u.jsx(Ah,{icon:Eu,title:"No projects found",description:o||l!=="All"?"Try adjusting your filters.":"Be the first to create one!",actionLabel:"Create Project",onAction:()=>r("/projects/new")})]})}const vA=24;class wA{async getUserRepos(t){try{const n=`https://api.github.com/users/${t}/repos?sort=updated&per_page=30`,r=await fetch(n);if(!r.ok)throw new Error("Failed to fetch repos");return(await r.json()).map(i=>({name:i.name,description:i.description||"",language:i.language||"",stargazers_count:i.stargazers_count,html_url:i.html_url,topics:i.topics||[]}))}catch(n){return console.error("Github API Error:",n),[]}}async processSkills(t){const n=await this.getUserRepos(t),r=new Map,s={};n.forEach(o=>{var a;if(o.language){const l=o.language;s[l]=(s[l]||0)+1,r.has(l)||r.set(l,{name:l,source:"github_language",confidenceScore:.8})}(a=o.topics)==null||a.forEach(l=>{r.has(l)||r.set(l,{name:l,source:"github_topic",confidenceScore:.6})})});const i=Object.entries(s).sort((o,a)=>a[1]-o[1]).map(([o])=>o);return{username:t,skills:Array.from(r.values()),topLanguages:i.slice(0,5)}}async getSkillVector(t){const n=await this.getUserRepos(t),r={},s=new Set,i=[];n.forEach(l=>{var c;l.language&&(r[l.language]=(r[l.language]||0)+1),(c=l.topics)==null||c.forEach(d=>s.add(d.toLowerCase())),i.push(l.name.toLowerCase())});const o=Array.from(s),a=[...Object.keys(r).map(l=>l.toLowerCase()),...o];return{languages:r,topics:o,repoNames:i,allSkills:[...new Set(a)]}}async getCachedProfile(t){const{data:n,error:r}=await O.from("github_profiles").select("*").eq("user_id",t).maybeSingle();if(r||!n)return null;const s=n,i=new Date(s.last_fetched);return(new Date().getTime()-i.getTime())/(1e3*60*60)>vA?null:s}async setCachedProfile(t){const{error:n}=await O.from("github_profiles").upsert({user_id:t.user_id,username:t.username,languages:t.languages,topics:t.topics,repo_names:t.repo_names,last_fetched:new Date().toISOString()},{onConflict:"user_id"});n&&console.error("Error caching GitHub profile:",n)}async getCachedSkillVector(t,n){const r=await this.getCachedProfile(t);if(r){const i=typeof r.languages=="object"&&r.languages!==null?r.languages:{},o=Array.isArray(r.topics)?r.topics:[],a=Array.isArray(r.repo_names)?r.repo_names:[];return{languages:i,topics:o,repoNames:a,allSkills:[...Object.keys(i).map(l=>l.toLowerCase()),...o.map(l=>l.toLowerCase())]}}const s=await this.getSkillVector(n);return await this.setCachedProfile({user_id:t,username:n,languages:s.languages,topics:s.topics,repo_names:s.repoNames,last_fetched:new Date().toISOString()}),s}}const Ih=new wA,xA=["UTC-12:00","UTC-11:00","UTC-10:00","UTC-09:00","UTC-08:00","UTC-07:00","UTC-06:00","UTC-05:00","UTC-04:00","UTC-03:00","UTC-02:00","UTC-01:00","UTC+00:00","UTC+01:00","UTC+02:00","UTC+03:00","UTC+04:00","UTC+05:00","UTC+05:30","UTC+06:00","UTC+07:00","UTC+08:00","UTC+09:00","UTC+10:00","UTC+11:00","UTC+12:00"],bA=[{value:"full-time",label:"Full-time",description:"40+ hrs/week"},{value:"part-time",label:"Part-time",description:"10-20 hrs/week"},{value:"weekends",label:"Weekends",description:"Weekends only"},{value:"evenings",label:"Evenings",description:"After work hours"}];function _A(){const{user:e}=pt(),t=Ge(),{profile:n,loading:r,updateProfile:s}=ll(),{userProjects:i,loading:o}=Oh(e==null?void 0:e.id),{toast:a}=Mt(),[l,c]=y.useState(!1),[d,h]=y.useState(!1),[f,p]=y.useState({full_name:"",username:"",bio:"",website:"",github_username:"",skills:[],availability:"",timezone:""}),[w,b]=y.useState("");y.useEffect(()=>{n&&p({full_name:n.full_name||"",username:n.username||"",bio:n.bio||"",website:n.website||"",github_username:n.github_username||"",skills:n.skills||[],availability:n.availability||"",timezone:n.timezone||""})},[n]);const x=async()=>{try{await s(f),c(!1)}catch{}},m=async()=>{const S=f.github_username||(n==null?void 0:n.github_username);if(!S){a({title:"No GitHub username",description:"Please enter your GitHub username first.",variant:"destructive"});return}try{h(!0);const k=await Ih.processSkills(S),j=k.skills.map(P=>P.name),E=Array.from(new Set([...f.skills,...j]));p(P=>({...P,skills:E})),a({title:"Skills imported!",description:`Found ${j.length} skills from ${k.topLanguages.length} top languages on GitHub.`})}catch{a({title:"Import failed",description:"Could not fetch GitHub data. Check your username.",variant:"destructive"})}finally{h(!1)}},g=S=>{S.key==="Enter"&&w.trim()&&(S.preventDefault(),f.skills.includes(w.trim())||p({...f,skills:[...f.skills,w.trim()]}),b(""))},v=S=>{p({...f,skills:f.skills.filter(k=>k!==S)})};return r||o?u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[u.jsx("div",{className:"bg-card rounded-2xl p-8 border shadow-sm",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-8",children:[u.jsx("div",{className:"w-32 h-32 rounded-full bg-muted animate-pulse"}),u.jsxs("div",{className:"flex-1 space-y-4 w-full",children:[u.jsx("div",{className:"h-7 bg-muted rounded-md w-48 animate-pulse"}),u.jsx("div",{className:"h-4 bg-muted rounded w-32 animate-pulse"}),u.jsx("div",{className:"h-4 bg-muted rounded w-64 animate-pulse"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"h-6 bg-muted rounded-full w-16 animate-pulse"}),u.jsx("div",{className:"h-6 bg-muted rounded-full w-20 animate-pulse"}),u.jsx("div",{className:"h-6 bg-muted rounded-full w-14 animate-pulse"})]})]})]})}),u.jsxs("div",{className:"bg-card rounded-2xl p-8 border shadow-sm space-y-4",children:[u.jsx("div",{className:"h-6 bg-muted rounded w-32 animate-pulse"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2].map(S=>u.jsx("div",{className:"h-[200px] rounded-xl border bg-muted/20 animate-pulse"},S))})]})]}):u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-500",children:[u.jsx("div",{className:"bg-card rounded-2xl p-8 border shadow-sm space-y-6",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-8",children:[u.jsx("div",{className:"relative group",children:u.jsx("div",{className:"w-32 h-32 rounded-full bg-secondary flex items-center justify-center text-4xl overflow-hidden border-4 border-background shadow-xl",children:n!=null&&n.avatar_url?u.jsx("img",{src:n.avatar_url,alt:n.full_name||"User",className:"w-full h-full object-cover"}):u.jsx(V0,{className:"w-16 h-16 text-muted-foreground"})})}),u.jsx("div",{className:"flex-1 space-y-4 w-full",children:l?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Se,{htmlFor:"full_name",children:"Full Name"}),u.jsx(Ue,{id:"full_name",value:f.full_name,onChange:S=>p({...f,full_name:S.target.value}),placeholder:"John Doe"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Se,{htmlFor:"username",children:"Username"}),u.jsx(Ue,{id:"username",value:f.username,onChange:S=>p({...f,username:S.target.value}),placeholder:"johndoe"})]}),u.jsxs("div",{className:"md:col-span-2 space-y-2",children:[u.jsx(Se,{htmlFor:"bio",children:"Bio"}),u.jsx("textarea",{id:"bio",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:f.bio,onChange:S=>p({...f,bio:S.target.value}),placeholder:"Software engineer interested in AI and Web3..."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Se,{htmlFor:"website",children:"Website URL"}),u.jsx(Ue,{id:"website",value:f.website,onChange:S=>p({...f,website:S.target.value}),placeholder:"https://example.com"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Se,{htmlFor:"github",children:"GitHub Username"}),u.jsx(Ue,{id:"github",value:f.github_username,onChange:S=>p({...f,github_username:S.target.value}),placeholder:"ghuser"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Se,{htmlFor:"availability",className:"flex items-center gap-1.5",children:[u.jsx(Qr,{className:"w-3.5 h-3.5"})," Availability"]}),u.jsxs("select",{id:"availability",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",value:f.availability,onChange:S=>p({...f,availability:S.target.value}),children:[u.jsx("option",{value:"",children:"Select availability..."}),bA.map(S=>u.jsxs("option",{value:S.value,children:[S.label," (",S.description,")"]},S.value))]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Se,{htmlFor:"timezone",className:"flex items-center gap-1.5",children:[u.jsx(Jl,{className:"w-3.5 h-3.5"})," Timezone"]}),u.jsxs("select",{id:"timezone",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",value:f.timezone,onChange:S=>p({...f,timezone:S.target.value}),children:[u.jsx("option",{value:"",children:"Select timezone..."}),xA.map(S=>u.jsx("option",{value:S,children:S},S))]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsxs(D,{variant:"ghost",onClick:()=>c(!1),children:[u.jsx(ur,{className:"w-4 h-4 mr-2"})," Cancel"]}),u.jsxs(D,{onClick:x,children:[u.jsx(yT,{className:"w-4 h-4 mr-2"})," Save Changes"]})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center md:items-start gap-4 text-center md:text-left",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:(n==null?void 0:n.full_name)||"Set your name"}),u.jsxs("p",{className:"text-lg text-primary font-medium",children:["@",(n==null?void 0:n.username)||"username"]})]}),u.jsx(D,{variant:"outline",onClick:()=>c(!0),children:"Edit Profile"})]}),u.jsx("p",{className:"text-muted-foreground max-w-lg text-center md:text-left",children:(n==null?void 0:n.bio)||"No bio yet. Tell the community about yourself!"}),u.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-4 pt-2 text-sm",children:[(n==null?void 0:n.website)&&u.jsxs("a",{href:n.website,target:"_blank",rel:"noreferrer",className:"flex items-center text-muted-foreground hover:text-primary transition-colors",children:[u.jsx(fT,{className:"w-4 h-4 mr-1.5"})," Website"]}),(n==null?void 0:n.github_username)&&u.jsxs("a",{href:`https://github.com/${n.github_username}`,target:"_blank",rel:"noreferrer",className:"flex items-center text-muted-foreground hover:text-primary transition-colors",children:[u.jsx(tr,{className:"w-4 h-4 mr-1.5"})," GitHub"]}),(n==null?void 0:n.availability)&&u.jsxs("span",{className:"flex items-center text-muted-foreground",children:[u.jsx(Qr,{className:"w-4 h-4 mr-1.5"})," ",n.availability]}),(n==null?void 0:n.timezone)&&u.jsxs("span",{className:"flex items-center text-muted-foreground",children:[u.jsx(Jl,{className:"w-4 h-4 mr-1.5"})," ",n.timezone]})]})]})})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"md:col-span-1 space-y-4",children:[u.jsxs("div",{className:"bg-card rounded-2xl p-6 border shadow-sm space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Skills"}),(l||(n==null?void 0:n.github_username))&&u.jsxs(D,{variant:"outline",size:"sm",onClick:m,disabled:d,title:"Import skills from GitHub",children:[d?u.jsx(Zt,{className:"w-3.5 h-3.5 mr-1.5 animate-spin"}):u.jsx(tr,{className:"w-3.5 h-3.5 mr-1.5"}),"Import"]})]}),l&&u.jsx("div",{className:"space-y-2",children:u.jsx(Ue,{placeholder:"Add skill (press Enter)",value:w,onChange:S=>b(S.target.value),onKeyDown:g})}),u.jsx("div",{className:"flex flex-wrap gap-2",children:(l?f.skills:(n==null?void 0:n.skills)||[]).length>0?(l?f.skills:(n==null?void 0:n.skills)||[]).map(S=>u.jsxs("span",{className:"inline-flex items-center",children:[u.jsx(al,{skill:S,size:"md"}),l&&u.jsx("button",{onClick:()=>v(S),className:"ml-1 hover:text-destructive text-muted-foreground",children:u.jsx(ur,{className:"w-3 h-3"})})]},S)):u.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No skills added yet."})}),!l&&(n==null?void 0:n.github_username)&&u.jsxs(D,{variant:"outline",size:"sm",className:"w-full",onClick:m,disabled:d,children:[d?u.jsx(Zt,{className:"w-4 h-4 mr-2 animate-spin"}):u.jsx(tr,{className:"w-4 h-4 mr-2"}),"Sync from GitHub"]})]}),((n==null?void 0:n.availability)||(n==null?void 0:n.timezone))&&!l&&u.jsxs("div",{className:"bg-card rounded-2xl p-6 border shadow-sm space-y-3",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Availability"}),n.availability&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Qr,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{className:"capitalize",children:n.availability})]}),n.timezone&&u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Jl,{className:"w-4 h-4 text-muted-foreground"}),u.jsx("span",{children:n.timezone})]})]})]}),u.jsx("div",{className:"md:col-span-2 space-y-4",children:u.jsxs("div",{className:"bg-card rounded-2xl p-6 border shadow-sm space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"My Projects"}),u.jsxs(D,{size:"sm",variant:"outline",onClick:()=>t("/projects/new"),children:[u.jsx(ja,{className:"w-4 h-4 mr-2"})," New Project"]})]}),i.length>0?u.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.map(S=>u.jsx(xx,{project:S},S.id))}):u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-3 bg-muted/20 rounded-xl border border-dashed",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center",children:u.jsx(ja,{className:"w-6 h-6 text-muted-foreground opacity-50"})}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("p",{className:"font-medium",children:"Nothing here yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Projects you create will appear here."})]}),u.jsx(D,{size:"sm",variant:"secondary",onClick:()=>t("/projects/new"),children:"Create your first project"})]})]})})]})]})}const SA=[{value:"low",label:"Low",description:"No rush, flexible timeline",color:"border-green-300 text-green-700 bg-green-50"},{value:"medium",label:"Medium",description:"Standard pace, some deadline",color:"border-yellow-300 text-yellow-700 bg-yellow-50"},{value:"high",label:"High",description:"Urgent, tight deadline",color:"border-red-300 text-red-700 bg-red-50"}];function kA(){const{user:e}=pt(),t=Ge(),{createProject:n}=Oh(),{toast:r}=Mt(),[s,i]=y.useState(!1),[o,a]=y.useState({title:"",description:"",required_skills:[],urgency:"medium",team_size:3,github_url:"",image_url:""}),[l,c]=y.useState(""),d=async p=>{if(p.preventDefault(),!!e){if(!o.title||!o.description){r({title:"Validation Error",description:"Title and Description are required",variant:"destructive"});return}try{i(!0),await n({title:o.title,description:o.description,required_skills:o.required_skills,urgency:o.urgency,team_size:o.team_size,owner_id:e.id,status:"open"}),t("/projects")}catch{}finally{i(!1)}}},h=p=>{p.key==="Enter"&&l.trim()&&(p.preventDefault(),o.required_skills.includes(l.trim())||a({...o,required_skills:[...o.required_skills,l.trim()]}),c(""))},f=p=>{a({...o,required_skills:o.required_skills.filter(w=>w!==p)})};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"hover:bg-secondary",children:[u.jsx(P0,{className:"w-4 h-4 mr-2"})," Back"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Launch a New Project"}),u.jsx("p",{className:"text-muted-foreground text-lg",children:"Define your vision and find the perfect teammates to help you build it."})]}),u.jsxs("form",{onSubmit:d,className:"space-y-6 bg-card p-8 rounded-2xl border shadow-lg",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Se,{htmlFor:"title",children:"Project Title"}),u.jsx(Ue,{id:"title",placeholder:"e.g. AI-Powered Task Manager",value:o.title,onChange:p=>a({...o,title:p.target.value}),className:"text-lg h-12",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Se,{htmlFor:"description",children:"Detailed Description"}),u.jsx("textarea",{id:"description",className:"flex min-h-[150px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"What problem are you solving? What is the core technology? Minimum contribution expected?",value:o.description,onChange:p=>a({...o,description:p.target.value}),required:!0})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Se,{className:"flex items-center gap-2",children:[u.jsx(Ai,{className:"w-4 h-4"})," Project Urgency"]}),u.jsx("div",{className:"grid grid-cols-3 gap-3",children:SA.map(p=>u.jsxs("button",{type:"button",onClick:()=>a({...o,urgency:p.value}),className:`p-3 rounded-xl border-2 text-left transition-all ${o.urgency===p.value?p.color+" border-current shadow-sm":"border-border bg-background hover:bg-muted/50"}`,children:[u.jsx("div",{className:"font-semibold text-sm",children:p.label}),u.jsx("div",{className:"text-xs opacity-70 mt-0.5",children:p.description})]},p.value))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Se,{htmlFor:"team_size",className:"flex items-center gap-2",children:[u.jsx(ys,{className:"w-4 h-4"})," Team Size"]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("input",{id:"team_size",type:"range",min:2,max:10,value:o.team_size,onChange:p=>a({...o,team_size:parseInt(p.target.value)}),className:"flex-1 accent-primary"}),u.jsx("span",{className:"w-16 text-center font-bold text-lg bg-secondary rounded-lg py-1",children:o.team_size})]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Looking for ",o.team_size," team members total"]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Se,{children:"Required Skills / Roles"}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:o.required_skills.map(p=>u.jsxs("span",{className:"inline-flex items-center",children:[u.jsx(al,{skill:p,size:"md"}),u.jsx("button",{type:"button",onClick:()=>f(p),className:"ml-1 hover:text-destructive text-muted-foreground",children:u.jsx(ur,{className:"w-3 h-3"})})]},p))}),u.jsx("div",{className:"flex gap-2",children:u.jsx(Ue,{placeholder:"Add skill (e.g. React, UX Design) and press Enter",value:l,onChange:p=>c(p.target.value),onKeyDown:h,className:"flex-1"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Se,{htmlFor:"github_url",children:"GitHub Repository (Optional)"}),u.jsx(Ue,{id:"github_url",placeholder:"https://github.com/user/repo",value:o.github_url,onChange:p=>a({...o,github_url:p.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Se,{htmlFor:"image_url",children:"Screenshot URL (Optional)"}),u.jsx(Ue,{id:"image_url",placeholder:"https://example.com/image.png",value:o.image_url,onChange:p=>a({...o,image_url:p.target.value})})]})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx(D,{type:"submit",size:"lg",className:"w-full h-14 text-xl",disabled:s,children:s?"Launching...":u.jsxs(u.Fragment,{children:[u.jsx(gT,{className:"w-5 h-5 mr-3"})," Launch Project"]})})})]})]})}async function jA(e){const{data:t,error:n}=await O.from("messages").select("*, profiles(full_name, avatar_url)").eq("project_id",e).order("created_at",{ascending:!0});if(n)throw n;return t||[]}async function EA(e,t,n){const{data:r,error:s}=await O.from("messages").insert({project_id:e,user_id:t,content:n}).select("*, profiles(full_name, avatar_url)").single();if(s)throw s;return r}function CA(e,t){const n=O.channel(`project-chat:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`project_id=eq.${e}`},r=>{t(r.new)}).subscribe();return()=>{O.removeChannel(n)}}async function TA(e){const{data:t,error:n}=await O.from("join_requests").select("*, profiles(full_name, avatar_url)").eq("project_id",e);if(n)throw n;return t||[]}async function PA(e,t,n){const{error:r}=await O.from("join_requests").insert({project_id:e,user_id:t,message:n});if(r)throw r}async function NA(e,t){const{error:n}=await O.from("join_requests").update({status:t}).eq("id",e);if(n)throw n}function RA(e){const[t,n]=y.useState(null),[r,s]=y.useState(!0),[i,o]=y.useState([]),[a,l]=y.useState([]),{toast:c}=Mt(),d=y.useRef(null),h=y.useCallback(async()=>{try{const m=await Jo.getById(e);n(m)}catch(m){c({title:"Error loading project",description:m.message||"Please try again later",variant:"destructive"})}finally{s(!1)}},[e,c]),f=y.useCallback(async()=>{try{const m=await jA(e);o(m)}catch(m){console.error("Error loading messages:",m)}},[e]),p=y.useCallback(async()=>{try{const m=await TA(e);l(m)}catch(m){console.error("Error loading join requests:",m)}},[e]);return y.useEffect(()=>{e&&(h(),f(),p())},[e,h,f,p]),y.useEffect(()=>{if(!e)return;const m=CA(e,g=>{o(v=>v.some(S=>S.id===g.id)?v.map(S=>S.id===g.id?{...S,...g}:S):[...v,g])});return d.current=m,()=>{m(),d.current=null}},[e]),{project:t,loading:r,messages:i,joinRequests:a,sendMessage:async(m,g)=>{const v=crypto.randomUUID(),_={id:v,created_at:new Date().toISOString(),project_id:e,user_id:m,content:g,profiles:null};o(S=>[...S,_]);try{const S=await EA(e,m,g);o(k=>k.map(j=>j.id===v?S:j))}catch(S){o(k=>k.filter(j=>j.id!==v)),c({title:"Failed to send message",description:S.message,variant:"destructive"})}},submitJoinRequest:async(m,g)=>{try{await PA(e,m,g),c({title:"Request sent!",description:"The project owner will review your request."}),p()}catch(v){c({title:"Failed to submit request",description:v.message,variant:"destructive"})}},respondToJoinRequest:async(m,g)=>{try{await NA(m,g),c({title:`Request ${g}`,description:`Successfully ${g} the join request.`}),p()}catch(v){c({title:"Failed to update request",description:v.message,variant:"destructive"})}},refresh:h}}const Dh=y.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:Dt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Dh.displayName="Textarea";const As={skillEvidence:.25,executionProof:.3,socialValidation:.15,reliability:.2,consistency:.1},AA={self_declared:.3,quiz_passed:.8,peer_verified:.6,project_proven:.9,github_verified:.7},OA={beginner:.4,intermediate:.6,advanced:.85,expert:1},Yi=(e,t=0,n=100)=>Math.min(n,Math.max(t,Math.round(e))),dc=e=>Math.max(0,(Date.now()-e.getTime())/(1e3*60*60*24));function LA(e){const t=[],{declaredSkills:n,verifiedSkills:r,githubLanguages:s,githubTopics:i}=e,o=n.length,a=.5;let l=0;o>0&&(l=Math.min(o,8)/8*40*a,t.push(`${o} self-declared skill${o!==1?"s":""}`));let c=0;const d=r.length;d>0&&(r.forEach(v=>{const _=AA[v.type]||.3,S=OA[v.proficiency]||.6;c+=_*S*12}),c=Math.min(45,c),t.push(`${d} verified skill${d!==1?"s":""} (+${Math.round(c)} pts)`));let h=0;const f=Object.keys(s).length,p=i.length;h=f+p;let w=0;f>0&&(w+=Math.min(10,f)*1.5,t.push(`${f} GitHub language${f!==1?"s":""} detected`)),p>0&&(w+=Math.min(8,p)*1,t.push(`${p} GitHub topic${p!==1?"s":""} found`)),w=Math.min(25,w);const b=new Set(r.map(v=>v.skill.toLowerCase())),x=n.filter(v=>!b.has(v.toLowerCase())).length,m=x>0?Math.min(15,x*2):0;return m>0&&t.push(`-${m} pts: ${x} unverified skill${x!==1?"s":""}`),{score:Yi(l+c+w-m),verifiedCount:d,declaredCount:o,githubSignalCount:h,verificationBonus:Math.round(c),confidenceDecay:m,signals:t}}function IA(e){const t=[],{completedProjects:n,activeProjects:r,allProjects:s,hasPortfolio:i}=e,o=n.length,a=s.filter(m=>m.role==="leader").length;let l=0;const c=[15,12,8,5,5,5,5,5];for(let m=0;m<Math.min(o,c.length);m++)l+=c[m];l=Math.min(40,l),o>0&&t.push(`${o} completed project${o!==1?"s":""} (+${l} pts)`);const d=Math.min(10,r.length*5);r.length>0&&t.push(`${r.length} active project${r.length!==1?"s":""}`);let h=0;a>0&&(h=Math.min(20,a*7),t.push(`Led ${a} project${a!==1?"s":""} (+${h} pts)`));const f=s.filter(m=>m.role==="member").length;f>0&&(h+=Math.min(10,f*3)),h=Math.min(25,h);let p=0;if(n.length>0){const m=n.map(g=>{var _;let v=0;return v+=Math.min(30,(((_=g.requiredSkills)==null?void 0:_.length)||0)*6),v+=Math.min(30,(g.teamSize||1)*5),Math.min(100,v)});p=Math.round(m.reduce((g,v)=>g+v,0)/m.length)}const w=Math.min(15,Math.round(p*.15)),b=i?10:0;return i&&t.push("Portfolio link provided (+10 pts)"),{score:Yi(l+d+h+w+b),completedCount:o,leaderCount:a,avgComplexity:p,portfolioBonus:b,roleBonus:h,signals:t}}function DA(e){const t=[],{endorsements:n,uniqueCollaborators:r,repeatCollaborators:s}=e,i=n.length,o=new Set(n.map(w=>w.endorserId)).size;let a=0;const l=o>5;for(let w=0;w<o;w++)w<5?a+=8:w<10?a+=4:a+=2;a=Math.min(50,a),i>0&&t.push(`${i} endorsement${i!==1?"s":""} from ${o} unique peer${o!==1?"s":""}`),l&&t.push("Endorsement diminishing returns applied");let c=0;const d=n.filter(w=>(w.endorserCredibility||0)>=60).length;d>0&&(c=Math.min(15,d*5),t.push(`${d} endorsement${d!==1?"s":""} from credible users (+${c} pts)`));let h=0;s>0&&(h=Math.min(20,s*7),t.push(`${s} repeat collaborator${s!==1?"s":""} (+${h} pts)`));const f=Math.min(15,r.size*3);return r.size>0&&t.push(`Worked with ${r.size} unique collaborator${r.size!==1?"s":""}`),{score:Yi(a+c+h+f),endorsementCount:i,uniqueEndorsers:o,repeatCollaboratorCount:s,endorserQualityBonus:c,diminishingReturns:l,signals:t}}function MA(e){const t=[],{totalProjectsJoined:n,projectsCompleted:r,projectsAbandoned:s,invitesReceived:i,invitesAccepted:o,invitesRejected:a,invitesIgnored:l,lastActiveAt:c,accountCreatedAt:d}=e;let h=0;n>0?h=Math.round(r/n*100):h=50;const f=Math.round(h*.4);t.push(`Project completion rate: ${h}%`);let p=100;const w=o+a+l;if(i>0&&w>0){const _=o+a;p=Math.round(_/i*100)}const b=Math.round(p*.2);i>0&&t.push(`Invite response rate: ${p}%`);let x=0;s>0&&(x=Math.min(30,s*10),t.push(`-${x} pts: ${s} abandoned project${s!==1?"s":""}`));let m=0;if(c){const _=dc(c);_<=1?m=20:_<=7?m=15:_<=14?m=10:_<=30?m=5:m=0,m>0&&t.push(`Active ${_<=1?"today":`${Math.round(_)} days ago`} (+${m})`)}let g=0;if(c){const _=dc(c);_>60&&(g=Math.min(20,Math.round((_-60)*.3)),t.push(`-${g} pts: inactive for ${Math.round(_)} days`))}else dc(d)>7&&(g=10,t.push("-10 pts: no recorded activity"));return{score:Yi(f+b+m-x-g),completionRate:h,inviteResponseRate:p,dropoutPenalty:x,recencyBonus:m,inactivityPenalty:g,signals:t}}function $A(e){const t=[],{activityLog:n,accountAge:r,skillChanges:s}=e,i=Math.max(1,Math.ceil(r/30)),o=new Set;n.forEach(b=>{const x=new Date(b.date);o.add(`${x.getFullYear()}-${x.getMonth()}`)});const a=o.size;let l=i>0?a/i:0;l=Math.min(1,l);const c=Math.round(l*40);t.push(`Active in ${a}/${i} month${i!==1?"s":""}`);let d=0;if(a>=3){const b=Array.from(o).sort();let x=1,m=1;for(let g=1;g<b.length;g++){const[v,_]=b[g-1].split("-").map(Number),[S,k]=b[g].split("-").map(Number),j=_===11?0:_+1,E=_===11?v+1:v;S===E&&k===j?(m++,x=Math.max(x,m)):m=1}d=Math.min(30,x*6),x>=3&&t.push(`${x}-month activity streak (+${d} pts)`)}let h=0;a<=2&&n.length>10&&i>3&&(h=Math.min(20,Math.round(n.length/a*.5)),t.push(`-${h} pts: burst activity pattern`));let f=15;s>5&&(f=Math.max(0,15-(s-5)*3),s>8&&t.push(`Frequent skill changes (-${15-f} pts)`));const p=Math.min(15,Math.round(i*1.5));return{score:Yi(c+d+f+p-h),activeMonths:a,totalMonths:i,activityRatio:Math.round(l*100)/100,burstPenalty:h,steadinessBonus:d,signals:t}}function UA(e){let t=0,n=0;const{skillEvidence:r,executionProof:s,socialValidation:i,reliability:o,consistency:a}=e;r.declaredSkills.length>0&&(t+=.15,n+=r.declaredSkills.length),r.verifiedSkills.length>0&&(t+=.15,n+=r.verifiedSkills.length),(Object.keys(r.githubLanguages).length>0||r.githubTopics.length>0)&&(t+=.15,n+=Object.keys(r.githubLanguages).length+r.githubTopics.length),s.completedProjects.length>0?(t+=.2,n+=s.completedProjects.length):s.activeProjects.length>0&&(t+=.1,n+=s.activeProjects.length),i.endorsements.length>0&&(t+=.1,n+=i.endorsements.length),i.uniqueCollaborators.size>0&&(t+=.05,n+=i.uniqueCollaborators.size),a.activityLog.length>0&&(t+=.1,n+=a.activityLog.length),s.hasPortfolio&&(t+=.05,n++),(Date.now()-o.accountCreatedAt.getTime())/(1e3*60*60*24)>7&&(t+=.05);const c=Math.min(1,Math.max(.1,t));return{multiplier:Math.round(c*100)/100,dataPoints:n}}function VA(e){return e>=80?"Elite":e>=60?"Trusted":e>=40?"Promising":e>=20?"Emerging":"New"}function FA(e){const t=LA(e.skillEvidence),n=IA(e.executionProof),r=DA(e.socialValidation),s=MA(e.reliability),i=$A(e.consistency),o=Math.round(t.score*As.skillEvidence+n.score*As.executionProof+r.score*As.socialValidation+s.score*As.reliability+i.score*As.consistency),a=Math.min(100,Math.max(0,o)),{multiplier:l,dataPoints:c}=UA(e),d=Math.round(a*l),f=[...n.signals,...t.signals,...s.signals,...r.signals,...i.signals].slice(0,5);return{credibilityScore:a,confidenceMultiplier:l,finalRankScore:d,dataPointsCount:c,pillars:{skillEvidence:t,executionProof:n,socialValidation:r,reliability:s,consistency:i},label:VA(d),topSignals:f,computedAt:new Date().toISOString()}}const zA=60*60*1e3;async function BA(e){const{data:t,error:n}=await O.from("user_credibility_cache").select("*").eq("user_id",e).maybeSingle();if(n||!t)return null;const r=t;return new Date(r.expires_at)<=new Date?null:{credibilityScore:r.credibility_score,finalRankScore:r.final_rank_score,label:qA(r.final_rank_score),confidenceMultiplier:r.confidence_multiplier}}async function WA(e,t){const{error:n}=await O.from("user_credibility_cache").upsert({user_id:e,credibility_score:t.credibilityScore,confidence_multiplier:t.confidenceMultiplier,final_rank_score:t.finalRankScore,skill_evidence_score:t.pillars.skillEvidence.score,execution_proof_score:t.pillars.executionProof.score,social_validation_score:t.pillars.socialValidation.score,reliability_score:t.pillars.reliability.score,consistency_score:t.pillars.consistency.score,data_points_count:t.dataPointsCount,last_computed:new Date().toISOString(),expires_at:new Date(Date.now()+zA).toISOString()},{onConflict:"user_id"});n&&console.error("Failed to cache credibility score:",n)}function qA(e){return e>=80?"Elite":e>=60?"Trusted":e>=40?"Promising":e>=20?"Emerging":"New"}async function HA(e,t){const n=t.skills||[],{data:r}=await O.from("skill_verifications").select("skill_name, verification_type, proficiency").eq("user_id",e),s=(r||[]).map(a=>({skill:a.skill_name,type:a.verification_type,proficiency:a.proficiency}));let i={},o=[];if(t.github_username)try{const a=await Ih.getCachedSkillVector(e,t.github_username);i=a.languages,o=a.topics}catch(a){console.warn("GitHub fetch failed for credibility:",a)}return{declaredSkills:n,verifiedSkills:s,githubLanguages:i,githubTopics:o}}async function KA(e,t){const{data:n}=await O.from("projects").select("id, title, status, required_skills, team_size, created_at").eq("owner_id",e),{data:r}=await O.from("project_members").select("project_id, role").eq("user_id",e),s=(r||[]).map(h=>h.project_id);let i=[];if(s.length>0){const{data:h}=await O.from("projects").select("id, title, status, required_skills, team_size, created_at").in("id",s);i=h||[]}const o=new Map((r||[]).map(h=>[h.project_id,h.role])),a=[];(n||[]).forEach(h=>{a.push({projectId:h.id,title:h.title,role:"leader",status:h.status||"open",requiredSkills:h.required_skills||[],teamSize:h.team_size||1,createdAt:h.created_at})}),i.forEach(h=>{a.find(f=>f.projectId===h.id)||a.push({projectId:h.id,title:h.title,role:o.get(h.id)||"member",status:h.status||"open",requiredSkills:h.required_skills||[],teamSize:h.team_size||1,createdAt:h.created_at})});const l=a.filter(h=>h.status==="completed"),c=a.filter(h=>h.status==="open"||h.status==="in_progress"),d=!!(t.portfolio_url||t.website);return{completedProjects:l,activeProjects:c,allProjects:a,hasPortfolio:d}}async function GA(e){const{data:t}=await O.from("endorsements").select("endorser_id, endorsed_id, skill_name, project_id").eq("endorsed_id",e),n=(t||[]).map(l=>({endorserId:l.endorser_id,endorsedId:l.endorsed_id,skillName:l.skill_name,projectId:l.project_id||void 0})),{data:r}=await O.from("project_members").select("project_id").eq("user_id",e),s=(r||[]).map(l=>l.project_id),i=new Set,o=new Map;if(s.length>0){const{data:l}=await O.from("project_members").select("user_id, project_id").in("project_id",s).neq("user_id",e);(l||[]).forEach(c=>{i.add(c.user_id),o.set(c.user_id,(o.get(c.user_id)||0)+1)})}const a=Array.from(o.values()).filter(l=>l>=2).length;return{endorsements:n,uniqueCollaborators:i,repeatCollaborators:a}}async function JA(e,t){const{data:n}=await O.from("project_members").select("project_id").eq("user_id",e),r=(n||[]).map(v=>v.project_id),s=r.length,{data:i}=await O.from("projects").select("id, status").eq("owner_id",e),o=[];if((i||[]).forEach(v=>o.push(v.status||"open")),r.length>0){const{data:v}=await O.from("projects").select("status").in("id",r);(v||[]).forEach(_=>o.push(_.status||"open"))}const a=o.filter(v=>v==="completed").length,{data:l}=await O.from("activity_log").select("id").eq("user_id",e).eq("action_type","project_abandoned"),c=(l||[]).length,{data:d}=await O.from("project_invites").select("status").eq("receiver_id",e),h=d||[],f=h.length,p=h.filter(v=>v.status==="accepted").length,w=h.filter(v=>v.status==="rejected").length,b=h.filter(v=>v.status==="pending").length,{data:x}=await O.from("activity_log").select("created_at").eq("user_id",e).order("created_at",{ascending:!1}).limit(1).maybeSingle(),m=x?new Date(x.created_at):t.updated_at?new Date(t.updated_at):null,g=t.updated_at?new Date(t.updated_at):new Date;return{totalProjectsJoined:s+(i||[]).length,projectsCompleted:a,projectsAbandoned:c,invitesReceived:f,invitesAccepted:p,invitesRejected:w,invitesIgnored:b,lastActiveAt:m,accountCreatedAt:g}}async function YA(e,t){const{data:n}=await O.from("activity_log").select("created_at, action_type").eq("user_id",e).order("created_at",{ascending:!0}),r=(n||[]).map(a=>({date:new Date(a.created_at),type:a.action_type})),s=t.updated_at?new Date(t.updated_at):new Date,i=Math.max(0,(Date.now()-s.getTime())/(1e3*60*60*24)),o=r.filter(a=>a.type==="skill_added"||a.type==="profile_updated").length;return{activityLog:r,accountAge:i,skillChanges:o}}async function XA(e){const{data:t,error:n}=await O.from("profiles").select("*").eq("id",e).single();if(n||!t)throw new Error("Profile not found");const r=t,[s,i,o,a,l]=await Promise.all([HA(e,r),KA(e,r),GA(e),JA(e,r),YA(e,r)]),d=FA({skillEvidence:s,executionProof:i,socialValidation:o,reliability:a,consistency:l});return WA(e,d).catch(h=>console.warn("Cache write failed:",h)),d}async function QA(e){const t=await BA(e);if(t)return t;const n=await XA(e);return{credibilityScore:n.credibilityScore,finalRankScore:n.finalRankScore,label:n.label,confidenceMultiplier:n.confidenceMultiplier}}async function ZA(e){const t=new Map;return await Promise.all(e.map(async n=>{try{const r=await QA(n);t.set(n,r)}catch{t.set(n,{credibilityScore:0,finalRankScore:0,label:"New",confidenceMultiplier:.1})}})),t}const Os={skillOverlap:.35,githubLanguage:.15,repoRelevance:.1,complementary:.15,credibility:.25};function eO(e,t){if(!t||t.length===0)return{score:100,matchedSkills:[],missingSkills:[]};if(!e||e.length===0)return{score:0,matchedSkills:[],missingSkills:[...t]};const n=new Set(e.map(o=>o.toLowerCase().trim())),r=[],s=[];return t.forEach(o=>{const a=o.toLowerCase().trim();n.has(a)?r.push(o):s.push(o)}),{score:Math.round(r.length/t.length*100),matchedSkills:r,missingSkills:s}}function tO(e,t){if(!e||Object.keys(e).length===0)return 0;if(!t||t.length===0)return 50;const n=Object.keys(e).map(a=>a.toLowerCase()),r=t.map(a=>a.toLowerCase());let s=0;r.forEach(a=>{n.includes(a)&&s++});const i=Math.min(15,Object.keys(e).length*2),o=t.length>0?s/t.length*85:0;return Math.min(100,Math.round(o+i))}function nO(e,t){if(!e||e.length===0)return 0;if(!t||t.length===0)return 50;const n=t.map(s=>s.toLowerCase());let r=0;return e.forEach(s=>{const i=s.toLowerCase();n.forEach(o=>{o.length>=3&&i.includes(o)&&r++})}),Math.min(100,Math.round(r*20))}function rO(e){const t=new Set(["a","an","the","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should","may","might","shall","can","need","dare","ought","used","to","of","in","for","on","with","at","by","from","as","into","through","during","before","after","above","below","between","out","off","over","under","again","further","then","and","but","or","nor","not","so","yet","both","either","neither","each","every","all","any","few","more","most","other","some","such","no","only","own","same","than","too","very","just","because","also","this","that","these","those","it","its","we","our","you","your","they","their","them","i","me","my","he","she","him","her","his","hers","who","which","what","where","when","how","why","project","team","build","create","using","use","want","looking","help"]);return e.toLowerCase().replace(/[^a-z0-9\s\-+#]/g," ").split(/\s+/).filter(n=>n.length>=3&&!t.has(n)).slice(0,20)}function sO(e){return bx(e)}function iO(e,t){var _,S;const n=e.skills||[],r=[...e.githubTopics||[],...Object.keys(e.githubLanguages||{}).map(k=>k.toLowerCase())],s=[...new Set([...n.map(k=>k.toLowerCase()),...r.map(k=>k.toLowerCase())])],{score:i,matchedSkills:o,missingSkills:a}=eO(s,t.requiredSkills),l=tO(e.githubLanguages,t.requiredSkills),c=nO(e.githubRepoNames,t.projectKeywords),d=_x(s,t.requiredSkills),h=((_=e.credibility)==null?void 0:_.finalRankScore)??0,f=Math.round(i*Os.skillOverlap+l*Os.githubLanguage+c*Os.repoRelevance+d*Os.complementary+h*Os.credibility),p=Math.min(100,Math.max(0,f)),w=e.githubUsername?1:0,b=n.length>0?1:0,x=(((S=e.githubTopics)==null?void 0:S.length)||0)>0?1:0,m=e.credibility?1:0,g=w*.2+b*.35+x*.15+m*.3,v={skillOverlapScore:i,githubLanguageScore:l,repoRelevanceScore:c,complementaryScore:d,credibilityScore:h,missingSkills:a};return{userId:e.id,score:p,matchedSkills:o,confidence:g,label:sO(p),details:v,credibility:e.credibility}}function oO(e,t){return e.map(n=>iO(n,t)).sort((n,r)=>r.score!==n.score?r.score-n.score:r.confidence-n.confidence)}const aO=20;async function lO(e){const{data:t,error:n}=await O.from("projects").select("*").eq("id",e).single();if(n||!t)throw new Error("Project not found");const r=t,s=r.required_skills||[],i=rO(`${r.title} ${r.description}`),{data:o,error:a}=await O.from("profiles").select("*").neq("id",r.owner_id);if(a||!o)throw new Error("Failed to fetch profiles");const{data:l}=await O.from("project_members").select("user_id").eq("project_id",e),c=new Set((l||[]).map(_=>_.user_id)),{data:d}=await O.from("project_invites").select("receiver_id, status").eq("project_id",e).in("status",["pending","accepted"]),h=new Set((d||[]).map(_=>_.receiver_id)),f=o.filter(_=>!c.has(_.id)&&!h.has(_.id)),p=f.map(_=>_.id),w=await ZA(p),b=await Promise.all(f.map(async _=>{let S={},k=[],j=[];if(_.github_username)try{const E=await Ih.getCachedSkillVector(_.id,_.github_username);S=E.languages,k=E.topics,j=E.repoNames}catch(E){console.warn(`Failed to fetch GitHub data for ${_.github_username}:`,E)}return{id:_.id,skills:_.skills||[],githubUsername:_.github_username,githubLanguages:S,githubTopics:k,githubRepoNames:j,credibility:w.get(_.id)}})),x={requiredSkills:s,projectDescription:r.description,projectKeywords:i},m=oO(b,x),g=new Map(f.map(_=>[_.id,_]));return m.slice(0,aO).map(_=>({..._,profile:g.get(_.userId)})).filter(_=>_.profile)}const hc=new Map,cO=5*60*1e3;function uO(e){const[t,n]=y.useState([]),[r,s]=y.useState(!1),[i,o]=y.useState(null),a=y.useRef(null),l=y.useCallback(async()=>{if(!e)return;const d=hc.get(e);if(d&&Date.now()-d.timestamp<cO){n(d.data);return}s(!0),o(null);try{const h=await lO(e);n(h),hc.set(e,{data:h,timestamp:Date.now()})}catch(h){const f=(h==null?void 0:h.message)||"Failed to load suggestions";o(f),console.error("Error fetching suggestions:",h)}finally{s(!1)}},[e]);y.useEffect(()=>{e&&a.current!==e&&(a.current=e,l())},[e,l]);const c=y.useCallback(async()=>{e&&(hc.delete(e),a.current=null,await l())},[e,l]);return{suggestions:t,loading:r,error:i,refresh:c}}function dO(e,t,n){const[r,s]=y.useState(null),[i,o]=y.useState(new Set),{toast:a}=Mt(),l=y.useCallback(async(c,d)=>{if(!(!e||!t)){s(c);try{await qo.sendProjectInvite(e,t,c,d),o(h=>new Set(h).add(c)),a({title:"Invite sent!",description:"The user has been invited to your project."}),n==null||n()}catch(h){a({title:"Failed to send invite",description:h.message||"Please try again.",variant:"destructive"})}finally{s(null)}}},[e,t,a,n]);return{sendingTo:r,sentInvites:i,sendInvite:l}}function hO({projectId:e,ownerId:t,currentUserId:n}){const{suggestions:r,loading:s,error:i,refresh:o}=uO(e),{sendingTo:a,sentInvites:l,sendInvite:c}=dO(e,n,o),[d,h]=y.useState(null),[f,p]=y.useState(""),[w,b]=y.useState(null);if(n!==t)return null;const x=async _=>{await c(_,f||void 0),b(null),p("")},m=_=>_>=75?"text-emerald-400":_>=50?"text-amber-400":_>=25?"text-orange-400":"text-slate-400",g=_=>_>=75?"from-emerald-500/20 to-emerald-600/5":_>=50?"from-amber-500/20 to-amber-600/5":_>=25?"from-orange-500/20 to-orange-600/5":"from-slate-500/20 to-slate-600/5",v=_=>_==="Excellent"?u.jsx(_T,{className:"w-3.5 h-3.5"}):_==="Good"?u.jsx($0,{className:"w-3.5 h-3.5"}):u.jsx(xT,{className:"w-3.5 h-3.5"});return u.jsxs("div",{className:"bg-card rounded-2xl border shadow-sm overflow-hidden",children:[u.jsx("div",{className:"p-5 border-b bg-gradient-to-r from-primary/5 via-transparent to-primary/5",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2.5",children:[u.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:u.jsx(M0,{className:"w-5 h-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-base",children:"Suggested Teammates"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-matched based on skills & GitHub activity"})]})]}),u.jsx(D,{variant:"ghost",size:"icon",onClick:o,disabled:s,className:"h-8 w-8",title:"Refresh suggestions",children:u.jsx(I0,{className:`w-4 h-4 ${s?"animate-spin":""}`})})]})}),u.jsxs("div",{className:"p-4 space-y-3 max-h-[600px] overflow-y-auto",children:[s&&r.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:[u.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary/60"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyzing candidates..."})]}),i&&u.jsx("div",{className:"p-4 rounded-xl bg-destructive/10 text-destructive text-sm text-center",children:i}),!s&&!i&&r.length===0&&u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx("p",{className:"text-sm",children:"No matching candidates found."}),u.jsx("p",{className:"text-xs mt-1 opacity-70",children:"Try adjusting your project skills."})]}),u.jsx(Tn,{mode:"popLayout",children:r.map((_,S)=>u.jsx(fO,{suggestion:_,index:S,isExpanded:d===_.userId,onToggleExpand:()=>h(k=>k===_.userId?null:_.userId),isSending:a===_.userId,isSent:l.has(_.userId),showMessage:w===_.userId,inviteMessage:f,onMessageChange:p,onShowMessage:()=>{b(_.userId),p("")},onCancelMessage:()=>b(null),onInvite:()=>x(_.userId),getScoreColor:m,getScoreBg:g,getLabelIcon:v},_.userId))})]}),r.length>0&&u.jsx("div",{className:"p-3 border-t bg-muted/20",children:u.jsxs("p",{className:"text-[10px] text-muted-foreground text-center",children:["Showing top ",r.length," candidates  Scores based on skill match & GitHub data"]})})]})}function fO({suggestion:e,index:t,isExpanded:n,onToggleExpand:r,isSending:s,isSent:i,showMessage:o,inviteMessage:a,onMessageChange:l,onCancelMessage:c,onInvite:d,onShowMessage:h,getScoreColor:f,getScoreBg:p,getLabelIcon:w}){const{profile:b,score:x,matchedSkills:m,label:g,confidence:v,details:_}=e;return u.jsxs(Pe.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,delay:t*.05},className:"rounded-xl border bg-card/50 hover:bg-card transition-colors overflow-hidden",children:[u.jsxs("div",{className:"p-3.5",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsxs("div",{className:"relative flex-shrink-0",children:[b.avatar_url?u.jsx("img",{src:b.avatar_url,alt:b.full_name||"User",className:"w-10 h-10 rounded-full object-cover ring-2 ring-border"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-sm font-bold text-primary ring-2 ring-border",children:(b.full_name||b.username||"U").charAt(0).toUpperCase()}),t<3&&u.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-primary text-primary-foreground text-[10px] font-bold flex items-center justify-center",children:t+1})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h4",{className:"font-semibold text-sm truncate",children:b.full_name||b.username||"Unknown User"}),b.github_username&&u.jsx("a",{href:`https://github.com/${b.github_username}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",onClick:S=>S.stopPropagation(),title:`@${b.github_username}`,children:u.jsx(tr,{className:"w-3.5 h-3.5"})})]}),b.role&&u.jsx("span",{className:"text-[11px] text-muted-foreground capitalize",children:b.role}),u.jsxs("div",{className:"flex flex-wrap gap-1 mt-1.5",children:[m.slice(0,4).map(S=>u.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-md text-[10px] font-medium bg-emerald-500/10 text-emerald-600 border border-emerald-500/20",children:[" ",S]},S)),m.length>4&&u.jsxs("span",{className:"text-[10px] text-muted-foreground px-1 py-0.5",children:["+",m.length-4]})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[u.jsx("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-gradient-to-r ${p(x)}`,children:u.jsxs("span",{className:`text-lg font-bold ${f(x)}`,children:[x,"%"]})}),u.jsxs("div",{className:`flex items-center gap-1 text-[10px] font-medium ${f(x)}`,children:[w(g),g]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i?u.jsxs(D,{size:"sm",variant:"outline",disabled:!0,className:"flex-1 h-8 text-xs",children:[u.jsx(N0,{className:"w-3.5 h-3.5 mr-1.5 text-emerald-500"}),"Invited"]}):u.jsxs(D,{size:"sm",variant:"default",className:"flex-1 h-8 text-xs",onClick:h,disabled:s,children:[s?u.jsx(Zt,{className:"w-3.5 h-3.5 mr-1.5 animate-spin"}):u.jsx(U0,{className:"w-3.5 h-3.5 mr-1.5"}),"Invite"]}),u.jsx(D,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",onClick:r,children:n?u.jsx(cT,{className:"w-4 h-4"}):u.jsx(R0,{className:"w-4 h-4"})})]})]}),u.jsx(Tn,{children:o&&!i&&u.jsx(Pe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:u.jsxs("div",{className:"px-3.5 pb-3 space-y-2",children:[u.jsx(Dh,{placeholder:"Add a personal message (optional)...",value:a,onChange:S=>l(S.target.value),className:"min-h-[60px] text-xs resize-none"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(D,{size:"sm",className:"flex-1 h-7 text-xs",onClick:d,disabled:s,children:[s?u.jsx(Zt,{className:"w-3 h-3 mr-1 animate-spin"}):u.jsx(D0,{className:"w-3 h-3 mr-1"}),"Send Invite"]}),u.jsx(D,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:c,children:u.jsx(ur,{className:"w-3.5 h-3.5"})})]})]})})}),u.jsx(Tn,{children:n&&u.jsx(Pe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:u.jsxs("div",{className:"px-3.5 pb-3.5 pt-1 border-t space-y-3",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h5",{className:"text-[11px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Score Breakdown"}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx(Ls,{label:"Skill Match",value:_.skillOverlapScore}),u.jsx(Ls,{label:"GitHub Languages",value:_.githubLanguageScore}),u.jsx(Ls,{label:"Repo Relevance",value:_.repoRelevanceScore}),u.jsx(Ls,{label:"Complementary",value:_.complementaryScore}),u.jsx(Ls,{label:"Credibility",value:_.credibilityScore})]})]}),e.credibility&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h5",{className:"text-[11px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Credibility"}),u.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold ${e.credibility.label==="Elite"?"bg-violet-500/15 text-violet-500 border border-violet-500/30":e.credibility.label==="Trusted"?"bg-emerald-500/15 text-emerald-500 border border-emerald-500/30":e.credibility.label==="Promising"?"bg-amber-500/15 text-amber-500 border border-amber-500/30":e.credibility.label==="Emerging"?"bg-sky-500/15 text-sky-500 border border-sky-500/30":"bg-slate-500/15 text-slate-400 border border-slate-500/30"}`,children:[e.credibility.label," (",e.credibility.finalRankScore,")"]})]}),_.missingSkills.length>0&&u.jsxs("div",{children:[u.jsx("h5",{className:"text-[11px] font-semibold text-muted-foreground uppercase tracking-wider mb-1",children:"Missing Skills"}),u.jsx("div",{className:"flex flex-wrap gap-1",children:_.missingSkills.map(S=>u.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-orange-500/10 text-orange-600 border border-orange-500/20",children:S},S))})]}),u.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["Confidence: ",Math.round(v*100),"%",!b.github_username&&u.jsx("span",{className:"ml-2 opacity-70",children:"(No GitHub linked)"})]})]})})})]})}function Ls({label:e,value:t}){const n=t>=75?"bg-emerald-500":t>=50?"bg-amber-500":t>=25?"bg-orange-500":"bg-slate-400";return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] text-muted-foreground w-24 truncate",children:e}),u.jsx("div",{className:"flex-1 h-1.5 bg-muted rounded-full overflow-hidden",children:u.jsx(Pe.div,{className:`h-full rounded-full ${n}`,initial:{width:0},animate:{width:`${t}%`},transition:{duration:.8,ease:"easeOut"}})}),u.jsxs("span",{className:"text-[10px] font-medium w-8 text-right",children:[t,"%"]})]})}function pO(){var E,P;const{id:e}=RS(),t=Ge(),{user:n}=pt(),{project:r,loading:s,messages:i,joinRequests:o,sendMessage:a,submitJoinRequest:l,respondToJoinRequest:c}=RA(e),{profile:d}=ll(),[h,f]=y.useState(""),[p,w]=y.useState(""),[b,x]=y.useState(!1),m=y.useRef(null);if(y.useEffect(()=>{var C;(C=m.current)==null||C.scrollIntoView({behavior:"smooth"})},[i]),s)return u.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 pb-12",children:[u.jsx("div",{className:"h-9 bg-muted rounded w-32 animate-pulse"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2 space-y-8",children:u.jsxs("div",{className:"bg-card rounded-2xl p-8 border shadow-sm space-y-6",children:[u.jsx("div",{className:"h-10 bg-muted rounded w-3/4 animate-pulse"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),u.jsx("div",{className:"h-4 bg-muted rounded w-32 animate-pulse"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-full animate-pulse"}),u.jsx("div",{className:"h-4 bg-muted rounded w-5/6 animate-pulse"}),u.jsx("div",{className:"h-4 bg-muted rounded w-2/3 animate-pulse"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"h-7 bg-muted rounded-full w-16 animate-pulse"}),u.jsx("div",{className:"h-7 bg-muted rounded-full w-20 animate-pulse"}),u.jsx("div",{className:"h-7 bg-muted rounded-full w-14 animate-pulse"})]})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-card rounded-2xl p-6 border shadow-sm h-[200px] animate-pulse"}),u.jsx("div",{className:"bg-card rounded-2xl p-6 border shadow-sm h-[300px] animate-pulse"})]})]})]});if(!r)return u.jsx(Ah,{icon:Mp,title:"Project not found",description:"This project may have been removed or you may not have access.",actionLabel:"Browse Projects",onAction:()=>t("/projects")});const g=(n==null?void 0:n.id)===r.owner_id,v=g||o.some(C=>C.user_id===(n==null?void 0:n.id)&&C.status==="accepted"),_=o.some(C=>C.user_id===(n==null?void 0:n.id)&&C.status==="pending"),S=d?Lh({id:d.id,skills:d.skills||[]},{id:r.id,required_skills:r.required_skills||[]}):null,k=C=>{C.preventDefault(),!(!h.trim()||!n)&&(a(n.id,h),f(""))},j=C=>{C.preventDefault(),n&&(l(n.id,p),x(!1),w(""))};return u.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 pb-12 animate-in fade-in duration-500",children:[u.jsxs(D,{variant:"ghost",onClick:()=>t("/projects"),className:"mb-4",children:[u.jsx(P0,{className:"w-4 h-4 mr-2"})," Back to Bazaar"]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[u.jsxs("div",{className:"bg-card rounded-2xl p-8 border shadow-sm space-y-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:r.title}),S&&u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsxs("div",{className:"text-2xl font-bold text-primary",children:[S.score,"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground font-medium uppercase",children:"Compatibility"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Qr,{className:"w-4 h-4 mr-1.5"}),r.urgency?`Urgency: ${r.urgency}`:"Normal Priority"]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(ys,{className:"w-4 h-4 mr-1.5"}),"Team Size: ",r.team_size||2]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(aT,{className:"w-4 h-4 mr-1.5"}),"Created ",new Date(r.created_at).toLocaleDateString()]})]})]}),u.jsx("div",{className:"prose prose-slate max-w-none",children:u.jsx("p",{className:"text-lg leading-relaxed text-muted-foreground whitespace-pre-wrap",children:r.description})}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Required Skills"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:(E=r.required_skills)==null?void 0:E.map(C=>u.jsx(al,{skill:C,variant:"outline",size:"md"},C))})]}),!v&&!_&&u.jsxs(D,{size:"lg",className:"w-full md:w-auto",onClick:()=>x(!0),children:[u.jsx(U0,{className:"w-5 h-5 mr-2"})," Request to Join"]}),_&&u.jsxs(D,{size:"lg",variant:"outline",disabled:!0,className:"w-full md:w-auto",children:[u.jsx(Qr,{className:"w-5 h-5 mr-2"})," Request Pending"]}),v&&!g&&u.jsxs("div",{className:"p-4 bg-emerald-500/10 text-emerald-600 rounded-xl border border-emerald-500/20 flex items-center",children:[u.jsx(N0,{className:"w-5 h-5 mr-3"}),"You are a member of this project!"]})]}),v&&u.jsxs("div",{className:"bg-card rounded-2xl border shadow-sm flex flex-col h-[500px]",children:[u.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-muted/30",children:[u.jsxs("h3",{className:"font-semibold flex items-center",children:[u.jsx(L0,{className:"w-4 h-4 mr-2"})," Project Channel"]}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[i.length," messages"]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.length===0?u.jsx("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground opacity-50 italic",children:u.jsx("p",{children:"No messages yet. Start the conversation!"})}):i.map((C,M)=>{var re;const A=C.user_id===(n==null?void 0:n.id),ne=((re=C.profiles)==null?void 0:re.full_name)||"Unknown",$=!A&&(M===0||i[M-1].user_id!==C.user_id);return u.jsxs("div",{className:`flex ${A?"justify-end":"justify-start"}`,children:[!A&&u.jsx("div",{className:"w-7 h-7 rounded-full bg-secondary flex items-center justify-center text-xs font-bold mr-2 flex-shrink-0 mt-1",children:ne.charAt(0).toUpperCase()}),u.jsxs("div",{className:"flex flex-col max-w-[75%]",children:[$&&u.jsx("span",{className:"text-[10px] text-muted-foreground mb-0.5 px-1 font-medium",children:ne}),u.jsx("div",{className:`p-3 rounded-2xl ${A?"bg-primary text-primary-foreground rounded-tr-sm":"bg-muted rounded-tl-sm"}`,children:u.jsx("p",{className:"text-sm whitespace-pre-wrap",children:C.content})}),u.jsx("span",{className:`text-[10px] text-muted-foreground mt-0.5 px-1 ${A?"text-right":""}`,children:new Date(C.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},C.id)}),u.jsx("div",{ref:m})]}),u.jsx("form",{onSubmit:k,className:"p-4 border-t bg-muted/10",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ue,{placeholder:"Type a message...",value:h,onChange:C=>f(C.target.value),className:"flex-1 bg-background"}),u.jsx(D,{type:"submit",size:"icon",children:u.jsx(D0,{className:"w-4 h-4"})})]})})]})]}),u.jsxs("div",{className:"space-y-8",children:[g&&o.length>0&&u.jsxs("div",{className:"bg-card rounded-2xl p-6 border shadow-sm space-y-4",children:[u.jsxs("h3",{className:"font-semibold text-lg flex items-center",children:[u.jsx(Mp,{className:"w-5 h-5 mr-2 text-primary"})," Join Requests"]}),u.jsxs("div",{className:"space-y-4",children:[o.filter(C=>C.status==="pending").map(C=>{var M,A,ne;return u.jsxs("div",{className:"p-4 border rounded-xl space-y-3 bg-muted/20",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center font-bold",children:((A=(M=C.profiles)==null?void 0:M.full_name)==null?void 0:A.charAt(0))||"U"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-sm",children:((ne=C.profiles)==null?void 0:ne.full_name)||"Anonymous"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Wants to join"})]})]}),C.message&&u.jsx("p",{className:"text-sm italic bg-background p-2 rounded border",children:C.message}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(D,{size:"sm",className:"flex-1",onClick:()=>c(C.id,"accepted"),children:"Accept"}),u.jsx(D,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>c(C.id,"rejected"),children:"Decline"})]})]},C.id)}),o.filter(C=>C.status==="pending").length===0&&u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No pending requests"})]})]}),u.jsxs("div",{className:"bg-card rounded-2xl p-6 border shadow-sm space-y-4",children:[u.jsx("h3",{className:"font-semibold text-lg",children:"Skill Gap Visualization"}),u.jsx("div",{className:"space-y-3",children:(P=r.required_skills)==null?void 0:P.map(C=>{var ne;const M=o.some($=>{var re,fe;return $.status==="accepted"&&((fe=(re=$.profiles)==null?void 0:re.skills)==null?void 0:fe.includes(C))}),A=(ne=d==null?void 0:d.skills)==null?void 0:ne.includes(C);return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[u.jsx("span",{children:C}),u.jsx("span",{className:M||A&&v?"text-emerald-600 dark:text-emerald-400":"text-orange-600 dark:text-orange-400",children:M||A&&v?"FILLED":"NEEDED"})]}),u.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 overflow-hidden",children:u.jsx("div",{className:`h-full transition-all duration-1000 ${M||A&&v?"w-full bg-green-500":"w-1/4 bg-orange-400"}`})})]},C)})}),u.jsx("p",{className:"text-[10px] text-muted-foreground mt-4 italic",children:"* Placeholder: AI-driven gap analysis coming soon."})]}),g&&u.jsx(hO,{projectId:r.id,ownerId:r.owner_id,currentUserId:n==null?void 0:n.id})]})]}),u.jsx(Tn,{children:b&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-background/80 backdrop-blur-sm",children:u.jsxs(Pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border shadow-2xl rounded-2xl w-full max-w-md p-6 space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h2",{className:"text-2xl font-bold",children:["Join ",r.title]}),u.jsx(D,{variant:"ghost",size:"icon",onClick:()=>x(!1),children:u.jsx(ST,{className:"w-6 h-6"})})]}),u.jsxs("form",{onSubmit:j,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Se,{htmlFor:"message",children:"Introduction / Pitch"}),u.jsx(Dh,{id:"message",placeholder:"Why do you want to join? What can you contribute?",className:"min-h-[120px]",value:p,onChange:C=>w(C.target.value),required:!0})]}),u.jsx("div",{className:"pt-2",children:u.jsx(D,{type:"submit",className:"w-full",children:"Submit Request"})})]})]})})})]})}async function Sx(e,t,n){let r=O.from("projects").select("id, title, description, owner_id, created_at, required_skills, status, urgency, team_size, profiles(full_name, avatar_url)",{count:"exact"});if(e.status!=="All"&&(r=r.eq("status",e.status)),e.search.trim()){const x=`%${e.search.trim()}%`;r=r.or(`title.ilike.${x},description.ilike.${x}`)}e.skills.length>0&&(r=r.contains("required_skills",e.skills)),e.teamSizeMin!==void 0&&(r=r.gte("team_size",e.teamSizeMin)),e.teamSizeMax!==void 0&&(r=r.lte("team_size",e.teamSizeMax));const s={recent:{column:"created_at",ascending:!1},most_active:{column:"created_at",ascending:!1},open_roles:{column:"team_size",ascending:!1},best_match:{column:"created_at",ascending:!1},team_size_asc:{column:"team_size",ascending:!0},team_size_desc:{column:"team_size",ascending:!1}},i=s[e.sort]||s.recent;r=r.order(i.column,{ascending:i.ascending});const o=t*n,a=o+n-1;r=r.range(o,a);const{data:l,error:c,count:d}=await r;if(c)throw c;const h=l||[],f=h.map(x=>x.id),p=await gO(f),w=h.map(x=>{const m=p.get(x.id)||0,g=x.team_size||4,v=Math.max(0,g-m);return{id:x.id,title:x.title,description:x.description,owner_id:x.owner_id,created_at:x.created_at,required_skills:x.required_skills||[],status:x.status,urgency:x.urgency,team_size:x.team_size,owner:x.profiles||void 0,member_count:m,open_roles:v,activity_score:yO(x)}});let b=w;return e.domain!=="All"&&(b=w.filter(x=>wO(x,e.domain))),{teams:b,total:d||0}}async function mO(e,t,n,r,s){const i=await Sx(n,r,s),o=i.teams.map(a=>{const l=Lh({skills:t},{id:a.id,required_skills:a.required_skills});return{...a,match_score:l.score,match_label:l.label,matched_skills:t.filter(c=>a.required_skills.some(d=>d.toLowerCase()===c.toLowerCase()))}});return n.sort==="best_match"&&o.sort((a,l)=>(l.match_score||0)-(a.match_score||0)),{teams:o,total:i.total}}async function gO(e){const t=new Map;if(e.length===0)return t;const{data:n,error:r}=await O.from("project_members").select("project_id").in("project_id",e);if(r||!n)return t;for(const s of n){const i=s.project_id;t.set(i,(t.get(i)||0)+1)}return t}function yO(e){const t=Date.now(),n=new Date(e.created_at).getTime(),r=(t-n)/(1e3*60*60*24);let s=0;return s+=Math.max(0,50-r/90*50),e.status==="in_progress"?s+=35:e.status==="open"?s+=25:e.status==="completed"&&(s+=10),e.urgency==="high"?s+=15:e.urgency==="medium"?s+=10:s+=5,Math.min(100,Math.round(s))}const vO={"AI/ML":["ai","ml","machine learning","deep learning","tensorflow","pytorch","llm","gpt","neural","nlp","computer vision"],Web:["react","vue","angular","next.js","html","css","tailwind","web","frontend","backend","fullstack","node.js","django","flask","express"],Mobile:["react native","flutter","swift","kotlin","ios","android","mobile"],Blockchain:["blockchain","solidity","ethereum","web3","smart contract","defi","nft","crypto"],IoT:["iot","arduino","raspberry","embedded","sensor","mqtt"],"Data Science":["data science","pandas","numpy","jupyter","analytics","visualization","tableau","power bi","statistics"],DevOps:["devops","docker","kubernetes","ci/cd","aws","gcp","azure","terraform","jenkins"],"Game Dev":["unity","unreal","godot","game","opengl","vulkan","c++","gamedev"],Cybersecurity:["security","penetration","cybersecurity","encryption","firewall","vulnerability","ctf"]};function wO(e,t){const n=vO[t];if(!n)return!0;const r=[...e.required_skills,e.title,e.description].join(" ").toLowerCase();return n.some(s=>r.includes(s))}const xO=[{value:"recent",label:"Recently Created"},{value:"most_active",label:"Most Active"},{value:"open_roles",label:"Open Roles First"},{value:"best_match",label:"Best Match"},{value:"team_size_asc",label:"Smallest Teams"},{value:"team_size_desc",label:"Largest Teams"}],bO=["All","open","in_progress","completed"],_O=["All","AI/ML","Web","Mobile","Blockchain","IoT","Data Science","DevOps","Game Dev","Cybersecurity"],fc={search:"",skills:[],status:"All",domain:"All",sort:"recent"},SO={page:0,pageSize:12,total:0,hasMore:!0};function kO(){const{user:e}=pt(),{profile:t}=ll(),{toast:n}=Mt(),[r,s]=y.useState([]),[i,o]=y.useState(fc),[a,l]=y.useState(SO),[c,d]=y.useState(!0),[h,f]=y.useState(!0),p=y.useRef(null),w=y.useCallback(async(E,P,C=!1)=>{try{d(!0);let M;e&&(t!=null&&t.skills)&&t.skills.length>0?M=await mO(e.id,t.skills,E,P,a.pageSize):M=await Sx(E,P,a.pageSize),s(C?A=>[...A,...M.teams]:M.teams),l(A=>({...A,page:P,total:M.total,hasMore:(P+1)*A.pageSize<M.total}))}catch(M){console.error("Error fetching explore teams:",M),n({title:"Error loading teams",description:M.message||"Please try again later.",variant:"destructive"})}finally{d(!1),f(!1)}},[e,t,a.pageSize,n]);y.useEffect(()=>{w(i,0)},[e,t]);const b=y.useCallback(E=>{o(P=>{const C={...P,search:E};return p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{w(C,0)},400),C})},[w]),x=y.useCallback(E=>{o(P=>{const C={...P,sort:E};return w(C,0),C})},[w]),m=y.useCallback(E=>{o(P=>{const C={...P,status:E};return w(C,0),C})},[w]),g=y.useCallback(E=>{o(P=>{const C={...P,domain:E};return w(C,0),C})},[w]),v=y.useCallback(E=>{o(P=>{const C=P.skills.includes(E)?P.skills.filter(A=>A!==E):[...P.skills,E],M={...P,skills:C};return w(M,0),M})},[w]),_=y.useCallback(()=>{o(fc),w(fc,0)},[w]),S=y.useCallback(()=>{!a.hasMore||c||w(i,a.page+1,!0)},[a,c,i,w]),k=y.useCallback(()=>{w(i,0)},[i,w]),j=i.search!==""||i.skills.length>0||i.status!=="All"||i.domain!=="All";return{teams:r,filters:i,pagination:a,loading:c,initialLoad:h,hasActiveFilters:j,updateSearch:b,updateSort:x,updateStatus:m,updateDomain:g,toggleSkillFilter:v,clearFilters:_,loadMore:S,refresh:k}}const eg={open:{label:"Open",color:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"},in_progress:{label:"In Progress",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},completed:{label:"Completed",color:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}},jO={high:{dot:"bg-red-500",ring:"ring-red-500/20"},medium:{dot:"bg-yellow-500",ring:"ring-yellow-500/20"},low:{dot:"bg-green-500",ring:"ring-green-500/20"}};function EO({team:e}){var i;const t=Ge(),n=e.status?eg[e.status]:eg.open,r=e.urgency?jO[e.urgency]:null,s=o=>{const a=Date.now()-new Date(o).getTime(),l=Math.floor(a/(1e3*60*60*24));return l===0?"Today":l===1?"Yesterday":l<7?`${l}d ago`:l<30?`${Math.floor(l/7)}w ago`:l<365?`${Math.floor(l/30)}mo ago`:`${Math.floor(l/365)}y ago`};return u.jsxs("div",{className:"group relative rounded-xl border bg-card text-card-foreground shadow-sm overflow-hidden flex flex-col h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-0.5 cursor-pointer",onClick:()=>t(`/projects/${e.id}`),children:[u.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-primary/60 via-blue-500/60 to-purple-500/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),u.jsxs("div",{className:"flex flex-col space-y-3 p-5 flex-1",children:[u.jsxs("div",{className:"flex items-start justify-between gap-3",children:[u.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[u.jsx("h3",{className:"text-lg font-bold tracking-tight truncate group-hover:text-primary transition-colors duration-200",children:e.title}),u.jsxs("div",{className:"flex flex-wrap items-center gap-1.5",children:[u.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${n.color}`,children:n.label}),r&&u.jsx("span",{className:`w-2 h-2 rounded-full ${r.dot} ring-4 ${r.ring}`})]})]}),e.match_score!==void 0&&u.jsx(wx,{score:e.match_score,size:"lg"})]}),u.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 leading-relaxed",children:e.description}),u.jsx(vx,{skills:e.required_skills,matchedSkills:e.matched_skills,maxVisible:4}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground pt-1",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(ys,{className:"w-3.5 h-3.5"}),e.member_count,"/",e.team_size||"?"]}),e.open_roles>0&&u.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 dark:text-emerald-400 font-medium",children:[u.jsx(oT,{className:"w-3.5 h-3.5"}),e.open_roles," open"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(bT,{className:"w-3.5 h-3.5"}),e.activity_score]}),u.jsxs("span",{className:"flex items-center gap-1 ml-auto",children:[u.jsx(Qr,{className:"w-3.5 h-3.5"}),s(e.created_at)]})]}),((i=e.owner)==null?void 0:i.full_name)&&u.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[e.owner.avatar_url?u.jsx("img",{src:e.owner.avatar_url,alt:e.owner.full_name,className:"w-5 h-5 rounded-full ring-1 ring-border"}):u.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/10 flex items-center justify-center text-[10px] font-bold text-primary",children:e.owner.full_name.charAt(0).toUpperCase()}),u.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:["by ",e.owner.full_name]})]})]}),u.jsx("div",{className:"px-5 pb-4 mt-auto",children:u.jsxs(D,{variant:"default",className:"w-full shadow-sm group-hover:bg-primary/90 transition-colors",onClick:o=>{o.stopPropagation(),t(`/projects/${e.id}`)},children:["View Team ",u.jsx(Xd,{className:"w-4 h-4 ml-2"})]})})]})}function CO({search:e,sort:t,onSearchChange:n,onSortChange:r,resultCount:s,hasActiveFilters:i,onClearFilters:o,isPersonalized:a}){return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Eu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx(Ue,{id:"explore-teams-search",placeholder:"Search teams by name, skills, or description...",className:"pl-9 pr-9",value:e,onChange:l=>n(l.target.value)}),e&&u.jsx("button",{onClick:()=>n(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:u.jsx(ur,{className:"w-4 h-4"})})]}),i&&u.jsxs(D,{variant:"ghost",size:"sm",className:"shrink-0 text-xs text-muted-foreground hover:text-foreground",onClick:o,children:[u.jsx(ur,{className:"w-3.5 h-3.5 mr-1"}),"Clear all"]})]}),u.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 scrollbar-hide",children:[u.jsx(wT,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),xO.filter(l=>l.value!=="best_match"||a).map(l=>u.jsx(D,{variant:t===l.value?"default":"outline",size:"sm",className:"rounded-full shrink-0 text-xs h-7",onClick:()=>r(l.value),children:l.label},l.value))]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[s," team",s!==1?"s":""," found",t==="best_match"&&a&&"  sorted by your match"]})]})}const TO=["React","TypeScript","Python","Node.js","AI/ML","Design","Rust","Go","Java","Docker","Solidity","Flutter","Swift"];function PO({activeSkills:e,activeStatus:t,activeDomain:n,onToggleSkill:r,onStatusChange:s,onDomainChange:i}){return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1.5 pt-0.5 text-xs text-muted-foreground font-medium uppercase tracking-wider shrink-0",children:[u.jsx(hT,{className:"w-3.5 h-3.5"}),"Skills"]}),u.jsx("div",{className:"flex gap-1.5 flex-wrap",children:TO.map(o=>u.jsx(D,{variant:e.includes(o)?"default":"outline",size:"sm",className:"rounded-full shrink-0 text-xs h-7",onClick:()=>r(o),children:o},o))})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider",children:"Status:"}),bO.map(o=>u.jsx(D,{variant:t===o?"secondary":"ghost",size:"sm",className:"h-7 text-xs rounded-full",onClick:()=>s(o),children:o==="All"?"All":o==="in_progress"?"In Progress":o.charAt(0).toUpperCase()+o.slice(1)},o))]}),u.jsxs("div",{className:"flex gap-2 items-center overflow-x-auto scrollbar-hide",children:[u.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wider shrink-0",children:"Domain:"}),_O.map(o=>u.jsx(D,{variant:n===o?"secondary":"ghost",size:"sm",className:"h-7 text-xs rounded-full shrink-0",onClick:()=>i(o),children:o},o))]})]})]})}function NO({type:e,hasFilters:t,onClearFilters:n,onRefresh:r}){const s=Ge();return e==="error"?u.jsxs("div",{className:"text-center py-20 bg-destructive/5 rounded-xl border border-dashed border-destructive/20",children:[u.jsx(Zt,{className:"w-10 h-10 text-destructive mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold",children:"Something went wrong"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"We couldn't load teams right now."}),u.jsx(D,{onClick:r,variant:"outline",children:"Try Again"})]}):e==="no-results"?u.jsxs("div",{className:"text-center py-20 bg-muted/10 rounded-xl border border-dashed",children:[u.jsx(vT,{className:"w-10 h-10 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold",children:"No teams found"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:t?"Try adjusting your filters or search query.":"No teams are available right now."}),t&&u.jsx(D,{onClick:n,variant:"outline",children:"Clear Filters"})]}):u.jsxs("div",{className:"text-center py-20 bg-muted/10 rounded-xl border border-dashed",children:[u.jsx(A0,{className:"w-10 h-10 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold",children:"No teams yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Be the first to create a project and build your dream team!"}),u.jsx(D,{onClick:()=>s("/projects/new"),children:"Create Project"})]})}function RO(){return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>u.jsxs("div",{className:"rounded-xl border bg-card overflow-hidden flex flex-col",children:[u.jsx("div",{className:"h-1 w-full bg-muted animate-pulse"}),u.jsxs("div",{className:"p-5 space-y-4",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"space-y-2 flex-1",children:[u.jsx("div",{className:"h-5 bg-muted rounded-md w-3/4 animate-pulse"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"h-5 bg-muted rounded-full w-16 animate-pulse"}),u.jsx("div",{className:"h-5 bg-muted rounded-full w-2 animate-pulse"})]})]}),u.jsx("div",{className:"h-12 w-14 bg-muted rounded-lg animate-pulse"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-full animate-pulse"}),u.jsx("div",{className:"h-4 bg-muted rounded w-2/3 animate-pulse"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"h-6 bg-muted rounded-md w-16 animate-pulse"}),u.jsx("div",{className:"h-6 bg-muted rounded-md w-20 animate-pulse"}),u.jsx("div",{className:"h-6 bg-muted rounded-md w-14 animate-pulse"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("div",{className:"h-4 bg-muted rounded w-12 animate-pulse"}),u.jsx("div",{className:"h-4 bg-muted rounded w-16 animate-pulse"}),u.jsx("div",{className:"h-4 bg-muted rounded w-10 animate-pulse ml-auto"})]})]}),u.jsx("div",{className:"px-5 pb-4 mt-auto",children:u.jsx("div",{className:"h-10 bg-muted rounded-md w-full animate-pulse"})})]},t))})}function AO(){const{user:e}=pt(),{teams:t,filters:n,pagination:r,loading:s,initialLoad:i,hasActiveFilters:o,updateSearch:a,updateSort:l,updateStatus:c,updateDomain:d,toggleSkillFilter:h,clearFilters:f,loadMore:p,refresh:w}=kO();return u.jsxs("div",{className:"space-y-8",children:[u.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative overflow-hidden rounded-2xl border bg-card p-8 md:p-10",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-blue-500/5 to-purple-500/5"}),u.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-primary/10 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute -bottom-16 -left-16 w-48 h-48 bg-purple-500/10 rounded-full blur-3xl"}),u.jsxs("div",{className:"relative flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:u.jsx(A0,{className:"w-6 h-6 text-primary"})}),u.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:"Explore Teams"})]}),u.jsx("p",{className:"text-muted-foreground max-w-xl leading-relaxed",children:"Discover active teams looking for collaborators. Find projects that match your skills, interests, and availability  then join the ones that inspire you."}),e&&u.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-primary/10 text-primary text-sm font-medium border border-primary/20",children:[u.jsx(M0,{className:"w-3.5 h-3.5"}),"Personalized matches enabled"]})]}),u.jsx("div",{className:"flex items-center gap-3 text-sm text-muted-foreground shrink-0",children:u.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/50",children:[u.jsx(ys,{className:"w-4 h-4"}),u.jsx("span",{className:"font-semibold text-foreground",children:r.total}),u.jsx("span",{children:"teams"})]})})]})]}),u.jsx(Pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:u.jsx(CO,{search:n.search,sort:n.sort,onSearchChange:a,onSortChange:l,resultCount:t.length,hasActiveFilters:o,onClearFilters:f,isPersonalized:!!e})}),u.jsx(Pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.4},children:u.jsx(PO,{activeSkills:n.skills,activeStatus:n.status,activeDomain:n.domain,onToggleSkill:h,onStatusChange:c,onDomainChange:d})}),i?u.jsx(RO,{}):t.length>0?u.jsxs(u.Fragment,{children:[u.jsx(Tn,{mode:"popLayout",children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((b,x)=>u.jsx(Pe.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:x*.04,duration:.3},children:u.jsx(EO,{team:b,index:x})},b.id))})}),r.hasMore&&u.jsx("div",{className:"flex justify-center pt-4",children:u.jsxs(D,{variant:"outline",size:"lg",onClick:p,disabled:s,className:"rounded-full px-8",children:[s?u.jsx(Pe.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"},className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full mr-2"}):u.jsx(R0,{className:"w-4 h-4 mr-2"}),"Load More Teams"]})})]}):u.jsx(NO,{type:o?"no-results":"empty",hasFilters:o,onClearFilters:f,onRefresh:w})]})}const No=({children:e})=>{const{user:t,loading:n}=pt();return n?u.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:u.jsx(Zt,{className:"w-8 h-8 animate-spin text-primary"})}):t?u.jsx(u.Fragment,{children:e}):u.jsx(Sv,{to:"/login",replace:!0})};function OO(){const e=Ge();return u.jsx(Ah,{icon:T0,title:"404  Page Not Found",description:"The page you're looking for doesn't exist or has been moved.",actionLabel:"Go Home",onAction:()=>e("/")})}function LO(){return u.jsx(n1,{children:u.jsxs($j,{children:[u.jsx(GS,{children:u.jsx(Tt,{element:u.jsx(Q2,{}),children:u.jsxs(Z2,{children:[u.jsx(Tt,{path:"/",element:u.jsx(eA,{})}),u.jsx(Tt,{path:"/login",element:u.jsx(iA,{})}),u.jsx(Tt,{path:"/projects",element:u.jsx(yA,{})}),u.jsx(Tt,{path:"/explore-teams",element:u.jsx(No,{children:u.jsx(AO,{})})}),u.jsx(Tt,{path:"/projects/new",element:u.jsx(No,{children:u.jsx(kA,{})})}),u.jsx(Tt,{path:"/projects/:id",element:u.jsx(No,{children:u.jsx(pO,{})})}),u.jsx(Tt,{path:"/profile",element:u.jsx(No,{children:u.jsx(_A,{})})}),u.jsx(Tt,{path:"*",element:u.jsx(OO,{})})]})})}),u.jsx(KC,{})]})})}pc.createRoot(document.getElementById("root")).render(u.jsx(Vt.StrictMode,{children:u.jsx(LO,{})}));
